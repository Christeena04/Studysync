(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Df={exports:{}},ya={};var z_;function ax(){if(z_)return ya;z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:u}}return ya.Fragment=t,ya.jsx=i,ya.jsxs=i,ya}var U_;function lx(){return U_||(U_=1,Df.exports=ax()),Df.exports}var _=lx(),Mf={exports:{}},va={},kf={exports:{}},If={};var L_;function ox(){return L_||(L_=1,(function(s){function t(k,H){var X=k.length;k.push(H);e:for(;0<X;){var Ce=X-1>>>1,Oe=k[Ce];if(0<o(Oe,H))k[Ce]=H,k[X]=Oe,X=Ce;else break e}}function i(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var H=k[0],X=k.pop();if(X!==H){k[0]=X;e:for(var Ce=0,Oe=k.length,T=Oe>>>1;Ce<T;){var j=2*(Ce+1)-1,V=k[j],Y=j+1,ne=k[Y];if(0>o(V,X))Y<Oe&&0>o(ne,V)?(k[Ce]=ne,k[Y]=X,Ce=Y):(k[Ce]=V,k[j]=X,Ce=j);else if(Y<Oe&&0>o(ne,X))k[Ce]=ne,k[Y]=X,Ce=Y;else break e}}return H}function o(k,H){var X=k.sortIndex-H.sortIndex;return X!==0?X:k.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var m=[],p=[],b=1,v=null,S=3,N=!1,I=!1,D=!1,L=!1,P=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function te(k){for(var H=i(p);H!==null;){if(H.callback===null)a(p);else if(H.startTime<=k)a(p),H.sortIndex=H.expirationTime,t(m,H);else break;H=i(p)}}function ct(k){if(D=!1,te(k),!I)if(i(m)!==null)I=!0,Xe||(Xe=!0,me());else{var H=i(p);H!==null&&kt(ct,H.startTime-k)}}var Xe=!1,ae=-1,Ke=5,Yt=-1;function $n(){return L?!0:!(s.unstable_now()-Yt<Ke)}function q(){if(L=!1,Xe){var k=s.unstable_now();Yt=k;var H=!0;try{e:{I=!1,D&&(D=!1,Q(ae),ae=-1),N=!0;var X=S;try{t:{for(te(k),v=i(m);v!==null&&!(v.expirationTime>k&&$n());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,S=v.priorityLevel;var Oe=Ce(v.expirationTime<=k);if(k=s.unstable_now(),typeof Oe=="function"){v.callback=Oe,te(k),H=!0;break t}v===i(m)&&a(m),te(k)}else a(m);v=i(m)}if(v!==null)H=!0;else{var T=i(p);T!==null&&kt(ct,T.startTime-k),H=!1}}break e}finally{v=null,S=X,N=!1}H=void 0}}finally{H?me():Xe=!1}}}var me;if(typeof se=="function")me=function(){se(q)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,sn=Se.port2;Se.port1.onmessage=q,me=function(){sn.postMessage(null)}}else me=function(){P(q,0)};function kt(k,H){ae=P(function(){k(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ke=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(k){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var X=S;S=H;try{return k()}finally{S=X}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var X=S;S=k;try{return H()}finally{S=X}},s.unstable_scheduleCallback=function(k,H,X){var Ce=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Ce+X:Ce):X=Ce,k){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=X+Oe,k={id:b++,callback:H,priorityLevel:k,startTime:X,expirationTime:Oe,sortIndex:-1},X>Ce?(k.sortIndex=X,t(p,k),i(m)===null&&k===i(p)&&(D?(Q(ae),ae=-1):D=!0,kt(ct,X-Ce))):(k.sortIndex=Oe,t(m,k),I||N||(I=!0,Xe||(Xe=!0,me()))),k},s.unstable_shouldYield=$n,s.unstable_wrapCallback=function(k){var H=S;return function(){var X=S;S=H;try{return k.apply(this,arguments)}finally{S=X}}}})(If)),If}var j_;function cx(){return j_||(j_=1,kf.exports=ox()),kf.exports}var zf={exports:{}},ee={};var B_;function ux(){if(B_)return ee;B_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function N(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,L={};function P(T,j,V){this.props=T,this.context=j,this.refs=L,this.updater=V||I}P.prototype.isReactComponent={},P.prototype.setState=function(T,j){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,j,"setState")},P.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function Q(){}Q.prototype=P.prototype;function se(T,j,V){this.props=T,this.context=j,this.refs=L,this.updater=V||I}var te=se.prototype=new Q;te.constructor=se,D(te,P.prototype),te.isPureReactComponent=!0;var ct=Array.isArray;function Xe(){}var ae={H:null,A:null,T:null,S:null},Ke=Object.prototype.hasOwnProperty;function Yt(T,j,V){var Y=V.ref;return{$$typeof:s,type:T,key:j,ref:Y!==void 0?Y:null,props:V}}function $n(T,j){return Yt(T.type,j,T.props)}function q(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function me(T){var j={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(V){return j[V]})}var Se=/\/+/g;function sn(T,j){return typeof T=="object"&&T!==null&&T.key!=null?me(""+T.key):j.toString(36)}function kt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Xe,Xe):(T.status="pending",T.then(function(j){T.status==="pending"&&(T.status="fulfilled",T.value=j)},function(j){T.status==="pending"&&(T.status="rejected",T.reason=j)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function k(T,j,V,Y,ne){var ce=typeof T;(ce==="undefined"||ce==="boolean")&&(T=null);var xe=!1;if(T===null)xe=!0;else switch(ce){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(T.$$typeof){case s:case t:xe=!0;break;case b:return xe=T._init,k(xe(T._payload),j,V,Y,ne)}}if(xe)return ne=ne(T),xe=Y===""?"."+sn(T,0):Y,ct(ne)?(V="",xe!=null&&(V=xe.replace(Se,"$&/")+"/"),k(ne,j,V,"",function(Cr){return Cr})):ne!=null&&(q(ne)&&(ne=$n(ne,V+(ne.key==null||T&&T.key===ne.key?"":(""+ne.key).replace(Se,"$&/")+"/")+xe)),j.push(ne)),1;xe=0;var yt=Y===""?".":Y+":";if(ct(T))for(var Ge=0;Ge<T.length;Ge++)Y=T[Ge],ce=yt+sn(Y,Ge),xe+=k(Y,j,V,ce,ne);else if(Ge=N(T),typeof Ge=="function")for(T=Ge.call(T),Ge=0;!(Y=T.next()).done;)Y=Y.value,ce=yt+sn(Y,Ge++),xe+=k(Y,j,V,ce,ne);else if(ce==="object"){if(typeof T.then=="function")return k(kt(T),j,V,Y,ne);throw j=String(T),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return xe}function H(T,j,V){if(T==null)return T;var Y=[],ne=0;return k(T,Y,"","",function(ce){return j.call(V,ce,ne++)}),Y}function X(T){if(T._status===-1){var j=T._result;j=j(),j.then(function(V){(T._status===0||T._status===-1)&&(T._status=1,T._result=V)},function(V){(T._status===0||T._status===-1)&&(T._status=2,T._result=V)}),T._status===-1&&(T._status=0,T._result=j)}if(T._status===1)return T._result.default;throw T._result}var Ce=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Oe={map:H,forEach:function(T,j,V){H(T,function(){j.apply(this,arguments)},V)},count:function(T){var j=0;return H(T,function(){j++}),j},toArray:function(T){return H(T,function(j){return j})||[]},only:function(T){if(!q(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ee.Activity=v,ee.Children=Oe,ee.Component=P,ee.Fragment=i,ee.Profiler=o,ee.PureComponent=se,ee.StrictMode=a,ee.Suspense=m,ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,ee.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ae.H.useMemoCache(T)}},ee.cache=function(T){return function(){return T.apply(null,arguments)}},ee.cacheSignal=function(){return null},ee.cloneElement=function(T,j,V){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Y=D({},T.props),ne=T.key;if(j!=null)for(ce in j.key!==void 0&&(ne=""+j.key),j)!Ke.call(j,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&j.ref===void 0||(Y[ce]=j[ce]);var ce=arguments.length-2;if(ce===1)Y.children=V;else if(1<ce){for(var xe=Array(ce),yt=0;yt<ce;yt++)xe[yt]=arguments[yt+2];Y.children=xe}return Yt(T.type,ne,Y)},ee.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ee.createElement=function(T,j,V){var Y,ne={},ce=null;if(j!=null)for(Y in j.key!==void 0&&(ce=""+j.key),j)Ke.call(j,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ne[Y]=j[Y]);var xe=arguments.length-2;if(xe===1)ne.children=V;else if(1<xe){for(var yt=Array(xe),Ge=0;Ge<xe;Ge++)yt[Ge]=arguments[Ge+2];ne.children=yt}if(T&&T.defaultProps)for(Y in xe=T.defaultProps,xe)ne[Y]===void 0&&(ne[Y]=xe[Y]);return Yt(T,ce,ne)},ee.createRef=function(){return{current:null}},ee.forwardRef=function(T){return{$$typeof:g,render:T}},ee.isValidElement=q,ee.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:X}},ee.memo=function(T,j){return{$$typeof:p,type:T,compare:j===void 0?null:j}},ee.startTransition=function(T){var j=ae.T,V={};ae.T=V;try{var Y=T(),ne=ae.S;ne!==null&&ne(V,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Xe,Ce)}catch(ce){Ce(ce)}finally{j!==null&&V.types!==null&&(j.types=V.types),ae.T=j}},ee.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},ee.use=function(T){return ae.H.use(T)},ee.useActionState=function(T,j,V){return ae.H.useActionState(T,j,V)},ee.useCallback=function(T,j){return ae.H.useCallback(T,j)},ee.useContext=function(T){return ae.H.useContext(T)},ee.useDebugValue=function(){},ee.useDeferredValue=function(T,j){return ae.H.useDeferredValue(T,j)},ee.useEffect=function(T,j){return ae.H.useEffect(T,j)},ee.useEffectEvent=function(T){return ae.H.useEffectEvent(T)},ee.useId=function(){return ae.H.useId()},ee.useImperativeHandle=function(T,j,V){return ae.H.useImperativeHandle(T,j,V)},ee.useInsertionEffect=function(T,j){return ae.H.useInsertionEffect(T,j)},ee.useLayoutEffect=function(T,j){return ae.H.useLayoutEffect(T,j)},ee.useMemo=function(T,j){return ae.H.useMemo(T,j)},ee.useOptimistic=function(T,j){return ae.H.useOptimistic(T,j)},ee.useReducer=function(T,j,V){return ae.H.useReducer(T,j,V)},ee.useRef=function(T){return ae.H.useRef(T)},ee.useState=function(T){return ae.H.useState(T)},ee.useSyncExternalStore=function(T,j,V){return ae.H.useSyncExternalStore(T,j,V)},ee.useTransition=function(){return ae.H.useTransition()},ee.version="19.2.0",ee}var H_;function wd(){return H_||(H_=1,zf.exports=ux()),zf.exports}var Uf={exports:{}},mt={};var q_;function fx(){if(q_)return mt;q_=1;var s=wd();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mt.createPortal=function(m,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(m,p,null,b)},mt.flushSync=function(m){var p=d.T,b=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=p,a.p=b,a.d.f()}},mt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},mt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},mt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var b=p.as,v=g(b,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:N}):b==="script"&&a.d.X(m,{crossOrigin:v,integrity:S,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},mt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=g(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},mt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,v=g(b,p.crossOrigin);a.d.L(m,b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},mt.preloadModule=function(m,p){if(typeof m=="string")if(p){var b=g(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},mt.requestFormReset=function(m){a.d.r(m)},mt.unstable_batchedUpdates=function(m,p){return m(p)},mt.useFormState=function(m,p,b){return d.H.useFormState(m,p,b)},mt.useFormStatus=function(){return d.H.useHostTransitionStatus()},mt.version="19.2.0",mt}var P_;function dx(){if(P_)return Uf.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Uf.exports=fx(),Uf.exports}var V_;function hx(){if(V_)return va;V_=1;var s=cx(),t=wd(),i=dx();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return m(c),e;if(f===l)return m(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var h=!1,y=c.child;y;){if(y===r){h=!0,r=c,l=f;break}if(y===l){h=!0,l=c,r=f;break}y=y.sibling}if(!h){for(y=f.child;y;){if(y===r){h=!0,r=f,l=c;break}if(y===l){h=!0,l=f,r=c;break}y=y.sibling}if(!h)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),se=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),Yt=Symbol.for("react.activity"),$n=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Symbol.for("react.client.reference");function sn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case P:return"Profiler";case L:return"StrictMode";case ct:return"Suspense";case Xe:return"SuspenseList";case Yt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case se:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return n=e.displayName||null,n!==null?n:sn(e.type)||"Memo";case Ke:n=e._payload,e=e._init;try{return sn(e(n))}catch{}}return null}var kt=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},Ce=[],Oe=-1;function T(e){return{current:e}}function j(e){0>Oe||(e.current=Ce[Oe],Ce[Oe]=null,Oe--)}function V(e,n){Oe++,Ce[Oe]=e.current,e.current=n}var Y=T(null),ne=T(null),ce=T(null),xe=T(null);function yt(e,n){switch(V(ce,n),V(ne,e),V(Y,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?s_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=s_(n),e=r_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(Y),V(Y,e)}function Ge(){j(Y),j(ne),j(ce)}function Cr(e){e.memoizedState!==null&&V(xe,e);var n=Y.current,r=r_(n,e.type);n!==r&&(V(ne,e),V(Y,r))}function $a(e){ne.current===e&&(j(Y),j(ne)),xe.current===e&&(j(xe),pa._currentValue=X)}var dc,Ih;function ji(e){if(dc===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);dc=n&&n[1]||"",Ih=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dc+e+Ih}var hc=!1;function pc(e,n){if(!e||hc)return"";hc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(O){var R=O}Reflect.construct(e,[],U)}else{try{U.call()}catch(O){R=O}e.call(U.prototype)}}else{try{throw Error()}catch(O){R=O}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(O){if(O&&R&&typeof O.stack=="string")return[O.stack,R.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),h=f[0],y=f[1];if(h&&y){var x=h.split(`
`),A=y.split(`
`);for(c=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(l===x.length||c===A.length)for(l=x.length-1,c=A.length-1;1<=l&&0<=c&&x[l]!==A[c];)c--;for(;1<=l&&0<=c;l--,c--)if(x[l]!==A[c]){if(l!==1||c!==1)do if(l--,c--,0>c||x[l]!==A[c]){var M=`
`+x[l].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=l&&0<=c);break}}}finally{hc=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ji(r):""}function L1(e,n){switch(e.tag){case 26:case 27:case 5:return ji(e.type);case 16:return ji("Lazy");case 13:return e.child!==n&&n!==null?ji("Suspense Fallback"):ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return pc(e.type,!1);case 11:return pc(e.type.render,!1);case 1:return pc(e.type,!0);case 31:return ji("Activity");default:return""}}function zh(e){try{var n="",r=null;do n+=L1(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gc=Object.prototype.hasOwnProperty,mc=s.unstable_scheduleCallback,_c=s.unstable_cancelCallback,j1=s.unstable_shouldYield,B1=s.unstable_requestPaint,It=s.unstable_now,H1=s.unstable_getCurrentPriorityLevel,Uh=s.unstable_ImmediatePriority,Lh=s.unstable_UserBlockingPriority,el=s.unstable_NormalPriority,q1=s.unstable_LowPriority,jh=s.unstable_IdlePriority,P1=s.log,V1=s.unstable_setDisableYieldValue,wr=null,zt=null;function ei(e){if(typeof P1=="function"&&V1(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(wr,e)}catch{}}var Ut=Math.clz32?Math.clz32:F1,G1=Math.log,Y1=Math.LN2;function F1(e){return e>>>=0,e===0?32:31-(G1(e)/Y1|0)|0}var tl=256,nl=262144,il=4194304;function Bi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function sl(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var y=l&134217727;return y!==0?(l=y&~f,l!==0?c=Bi(l):(h&=y,h!==0?c=Bi(h):r||(r=y&~e,r!==0&&(c=Bi(r))))):(y=l&~f,y!==0?c=Bi(y):h!==0?c=Bi(h):r||(r=l&~e,r!==0&&(c=Bi(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Ar(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Q1(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bh(){var e=il;return il<<=1,(il&62914560)===0&&(il=4194304),e}function yc(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Rr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function W1(e,n,r,l,c,f){var h=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var y=e.entanglements,x=e.expirationTimes,A=e.hiddenUpdates;for(r=h&~r;0<r;){var M=31-Ut(r),U=1<<M;y[M]=0,x[M]=-1;var R=A[M];if(R!==null)for(A[M]=null,M=0;M<R.length;M++){var O=R[M];O!==null&&(O.lane&=-536870913)}r&=~U}l!==0&&Hh(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(h&~n))}function Hh(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ut(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function qh(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-Ut(r),c=1<<l;c&n|e[l]&n&&(e[l]|=n),r&=~c}}function Ph(e,n){var r=n&-n;return r=(r&42)!==0?1:vc(r),(r&(e.suspendedLanes|n))!==0?0:r}function vc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vh(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function Gh(e,n){var r=H.p;try{return H.p=e,n()}finally{H.p=r}}var ti=Math.random().toString(36).slice(2),ut="__reactFiber$"+ti,xt="__reactProps$"+ti,Ss="__reactContainer$"+ti,Sc="__reactEvents$"+ti,X1="__reactListeners$"+ti,K1="__reactHandles$"+ti,Yh="__reactResources$"+ti,Nr="__reactMarker$"+ti;function xc(e){delete e[ut],delete e[xt],delete e[Sc],delete e[X1],delete e[K1]}function xs(e){var n=e[ut];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Ss]||r[ut]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=d_(e);e!==null;){if(r=e[ut])return r;e=d_(e)}return n}e=r,r=e.parentNode}return null}function Es(e){if(e=e[ut]||e[Ss]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Or(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ts(e){var n=e[Yh];return n||(n=e[Yh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function it(e){e[Nr]=!0}var Fh=new Set,Qh={};function Hi(e,n){Cs(e,n),Cs(e+"Capture",n)}function Cs(e,n){for(Qh[e]=n,e=0;e<n.length;e++)Fh.add(n[e])}var Z1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wh={},Xh={};function J1(e){return gc.call(Xh,e)?!0:gc.call(Wh,e)?!1:Z1.test(e)?Xh[e]=!0:(Wh[e]=!0,!1)}function rl(e,n,r){if(J1(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function al(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function En(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function Ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kh(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $1(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(h){r=""+h,f.call(this,h)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ec(e){if(!e._valueTracker){var n=Kh(e)?"checked":"value";e._valueTracker=$1(e,n,""+e[n])}}function Zh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=Kh(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var eb=/[\n"\\]/g;function Qt(e){return e.replace(eb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tc(e,n,r,l,c,f,h,y){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),n!=null?h==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ft(n)):e.value!==""+Ft(n)&&(e.value=""+Ft(n)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),n!=null?Cc(e,h,Ft(n)):r!=null?Cc(e,h,Ft(r)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Ft(y):e.removeAttribute("name")}function Jh(e,n,r,l,c,f,h,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ec(e);return}r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,y||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=y?e.checked:!!l,e.defaultChecked=!!l,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Ec(e)}function Cc(e,n,r){n==="number"&&ll(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ws(e,n,r,l){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function $h(e,n,r){if(n!=null&&(n=""+Ft(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ft(r):""}function ep(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(kt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ft(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Ec(e)}function As(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var tb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tp(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||tb.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function np(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&tp(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&tp(e,f,n[f])}function wc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ib=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ol(e){return ib.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tn(){}var Ac=null;function Rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,Ns=null;function ip(e){var n=Es(e);if(n&&(e=n.stateNode)){var r=e[xt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Tc(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Qt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var c=l[xt]||null;if(!c)throw Error(a(90));Tc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&Zh(l)}break e;case"textarea":$h(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ws(e,!!r.multiple,n,!1)}}}var Nc=!1;function sp(e,n,r){if(Nc)return e(n,r);Nc=!0;try{var l=e(n);return l}finally{if(Nc=!1,(Rs!==null||Ns!==null)&&(Xl(),Rs&&(n=Rs,e=Ns,Ns=Rs=null,ip(n),e)))for(n=0;n<e.length;n++)ip(e[n])}}function Dr(e,n){var r=e.stateNode;if(r===null)return null;var l=r[xt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(Cn)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Oc=!1}var ni=null,Dc=null,cl=null;function rp(){if(cl)return cl;var e,n=Dc,r=n.length,l,c="value"in ni?ni.value:ni.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var h=r-e;for(l=1;l<=h&&n[r-l]===c[f-l];l++);return cl=c.slice(e,1<l?1-l:void 0)}function ul(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function fl(){return!0}function ap(){return!1}function Et(e){function n(r,l,c,f,h){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?fl:ap,this.isPropagationStopped=ap,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=Et(qi),kr=v({},qi,{view:0,detail:0}),sb=Et(kr),Mc,kc,Ir,hl=v({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(Mc=e.screenX-Ir.screenX,kc=e.screenY-Ir.screenY):kc=Mc=0,Ir=e),Mc)},movementY:function(e){return"movementY"in e?e.movementY:kc}}),lp=Et(hl),rb=v({},hl,{dataTransfer:0}),ab=Et(rb),lb=v({},kr,{relatedTarget:0}),Ic=Et(lb),ob=v({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),cb=Et(ob),ub=v({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fb=Et(ub),db=v({},qi,{data:0}),op=Et(db),hb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mb(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gb[e])?!!n[e]:!1}function zc(){return mb}var _b=v({},kr,{key:function(e){if(e.key){var n=hb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(e){return e.type==="keypress"?ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yb=Et(_b),vb=v({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=Et(vb),bb=v({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),Sb=Et(bb),xb=v({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eb=Et(xb),Tb=v({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cb=Et(Tb),wb=v({},qi,{newState:0,oldState:0}),Ab=Et(wb),Rb=[9,13,27,32],Uc=Cn&&"CompositionEvent"in window,zr=null;Cn&&"documentMode"in document&&(zr=document.documentMode);var Nb=Cn&&"TextEvent"in window&&!zr,up=Cn&&(!Uc||zr&&8<zr&&11>=zr),fp=" ",dp=!1;function hp(e,n){switch(e){case"keyup":return Rb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Os=!1;function Ob(e,n){switch(e){case"compositionend":return pp(n);case"keypress":return n.which!==32?null:(dp=!0,fp);case"textInput":return e=n.data,e===fp&&dp?null:e;default:return null}}function Db(e,n){if(Os)return e==="compositionend"||!Uc&&hp(e,n)?(e=rp(),cl=Dc=ni=null,Os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return up&&n.locale!=="ko"?null:n.data;default:return null}}var Mb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Mb[e.type]:n==="textarea"}function mp(e,n,r,l){Rs?Ns?Ns.push(l):Ns=[l]:Rs=l,n=no(n,"onChange"),0<n.length&&(r=new dl("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Ur=null,Lr=null;function kb(e){Jm(e,0)}function pl(e){var n=Or(e);if(Zh(n))return e}function _p(e,n){if(e==="change")return n}var yp=!1;if(Cn){var Lc;if(Cn){var jc="oninput"in document;if(!jc){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),jc=typeof vp.oninput=="function"}Lc=jc}else Lc=!1;yp=Lc&&(!document.documentMode||9<document.documentMode)}function bp(){Ur&&(Ur.detachEvent("onpropertychange",Sp),Lr=Ur=null)}function Sp(e){if(e.propertyName==="value"&&pl(Lr)){var n=[];mp(n,Lr,e,Rc(e)),sp(kb,n)}}function Ib(e,n,r){e==="focusin"?(bp(),Ur=n,Lr=r,Ur.attachEvent("onpropertychange",Sp)):e==="focusout"&&bp()}function zb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pl(Lr)}function Ub(e,n){if(e==="click")return pl(n)}function Lb(e,n){if(e==="input"||e==="change")return pl(n)}function jb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Lt=typeof Object.is=="function"?Object.is:jb;function jr(e,n){if(Lt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!gc.call(n,c)||!Lt(e[c],n[c]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ep(e,n){var r=xp(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xp(r)}}function Tp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ll(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ll(e.document)}return n}function Bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Bb=Cn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Hc=null,Br=null,qc=!1;function wp(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qc||Ds==null||Ds!==ll(l)||(l=Ds,"selectionStart"in l&&Bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Br&&jr(Br,l)||(Br=l,l=no(Hc,"onSelect"),0<l.length&&(n=new dl("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Ds)))}function Pi(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ms={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},Pc={},Ap={};Cn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Vi(e){if(Pc[e])return Pc[e];if(!Ms[e])return e;var n=Ms[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ap)return Pc[e]=n[r];return e}var Rp=Vi("animationend"),Np=Vi("animationiteration"),Op=Vi("animationstart"),Hb=Vi("transitionrun"),qb=Vi("transitionstart"),Pb=Vi("transitioncancel"),Dp=Vi("transitionend"),Mp=new Map,Vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vc.push("scrollEnd");function rn(e,n){Mp.set(e,n),Hi(n,[e])}var gl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],ks=0,Gc=0;function ml(){for(var e=ks,n=Gc=ks=0;n<e;){var r=Wt[n];Wt[n++]=null;var l=Wt[n];Wt[n++]=null;var c=Wt[n];Wt[n++]=null;var f=Wt[n];if(Wt[n++]=null,l!==null&&c!==null){var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}f!==0&&kp(r,c,f)}}function _l(e,n,r,l){Wt[ks++]=e,Wt[ks++]=n,Wt[ks++]=r,Wt[ks++]=l,Gc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Yc(e,n,r,l){return _l(e,n,r,l),yl(e)}function Gi(e,n){return _l(e,null,null,n),yl(e)}function kp(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Ut(r),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function yl(e){if(50<la)throw la=0,ef=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Is={};function Vb(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,n,r,l){return new Vb(e,n,r,l)}function Fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wn(e,n){var r=e.alternate;return r===null?(r=jt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ip(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vl(e,n,r,l,c,f){var h=0;if(l=e,typeof e=="function")Fc(e)&&(h=1);else if(typeof e=="string")h=WS(e,r,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Yt:return e=jt(31,r,n,c),e.elementType=Yt,e.lanes=f,e;case D:return Yi(r.children,c,f,n);case L:h=8,c|=24;break;case P:return e=jt(12,r,n,c|2),e.elementType=P,e.lanes=f,e;case ct:return e=jt(13,r,n,c),e.elementType=ct,e.lanes=f,e;case Xe:return e=jt(19,r,n,c),e.elementType=Xe,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:h=10;break e;case Q:h=9;break e;case te:h=11;break e;case ae:h=14;break e;case Ke:h=16,l=null;break e}h=29,r=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=jt(h,r,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Yi(e,n,r,l){return e=jt(7,e,l,n),e.lanes=r,e}function Qc(e,n,r){return e=jt(6,e,null,n),e.lanes=r,e}function zp(e){var n=jt(18,null,null,0);return n.stateNode=e,n}function Wc(e,n,r){return n=jt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Up=new WeakMap;function Xt(e,n){if(typeof e=="object"&&e!==null){var r=Up.get(e);return r!==void 0?r:(n={value:e,source:n,stack:zh(n)},Up.set(e,n),n)}return{value:e,source:n,stack:zh(n)}}var zs=[],Us=0,bl=null,Hr=0,Kt=[],Zt=0,ii=null,pn=1,gn="";function An(e,n){zs[Us++]=Hr,zs[Us++]=bl,bl=e,Hr=n}function Lp(e,n,r){Kt[Zt++]=pn,Kt[Zt++]=gn,Kt[Zt++]=ii,ii=e;var l=pn;e=gn;var c=32-Ut(l)-1;l&=~(1<<c),r+=1;var f=32-Ut(n)+c;if(30<f){var h=c-c%5;f=(l&(1<<h)-1).toString(32),l>>=h,c-=h,pn=1<<32-Ut(n)+c|r<<c|l,gn=f+e}else pn=1<<f|r<<c|l,gn=e}function Xc(e){e.return!==null&&(An(e,1),Lp(e,1,0))}function Kc(e){for(;e===bl;)bl=zs[--Us],zs[Us]=null,Hr=zs[--Us],zs[Us]=null;for(;e===ii;)ii=Kt[--Zt],Kt[Zt]=null,gn=Kt[--Zt],Kt[Zt]=null,pn=Kt[--Zt],Kt[Zt]=null}function jp(e,n){Kt[Zt++]=pn,Kt[Zt++]=gn,Kt[Zt++]=ii,pn=n.id,gn=n.overflow,ii=e}var ft=null,Ie=null,ge=!1,si=null,Jt=!1,Zc=Error(a(519));function ri(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qr(Xt(n,e)),Zc}function Bp(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[ut]=e,n[xt]=l,r){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(r=0;r<ca.length;r++)fe(ca[r],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":fe("invalid",n),Jh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":fe("invalid",n);break;case"textarea":fe("invalid",n),ep(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||n_(n.textContent,r)?(l.popover!=null&&(fe("beforetoggle",n),fe("toggle",n)),l.onScroll!=null&&fe("scroll",n),l.onScrollEnd!=null&&fe("scrollend",n),l.onClick!=null&&(n.onclick=Tn),n=!0):n=!1,n||ri(e,!0)}function Hp(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:ft=ft.return}}function Ls(e){if(e!==ft)return!1;if(!ge)return Hp(e),ge=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||mf(e.type,e.memoizedProps)),r=!r),r&&Ie&&ri(e),Hp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ie=f_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ie=f_(e)}else n===27?(n=Ie,vi(e.type)?(e=Sf,Sf=null,Ie=e):Ie=n):Ie=ft?en(e.stateNode.nextSibling):null;return!0}function Fi(){Ie=ft=null,ge=!1}function Jc(){var e=si;return e!==null&&(At===null?At=e:At.push.apply(At,e),si=null),e}function qr(e){si===null?si=[e]:si.push(e)}var $c=T(null),Qi=null,Rn=null;function ai(e,n,r){V($c,n._currentValue),n._currentValue=r}function Nn(e){e._currentValue=$c.current,j($c)}function eu(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function tu(e,n,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var h=c.child;f=f.firstContext;e:for(;f!==null;){var y=f;f=c;for(var x=0;x<n.length;x++)if(y.context===n[x]){f.lanes|=r,y=f.alternate,y!==null&&(y.lanes|=r),eu(f.return,r,e),l||(h=null);break e}f=y.next}}else if(c.tag===18){if(h=c.return,h===null)throw Error(a(341));h.lanes|=r,f=h.alternate,f!==null&&(f.lanes|=r),eu(h,r,e),h=null}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===e){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}}function js(e,n,r,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var h=c.alternate;if(h===null)throw Error(a(387));if(h=h.memoizedProps,h!==null){var y=c.type;Lt(c.pendingProps.value,h.value)||(e!==null?e.push(y):e=[y])}}else if(c===xe.current){if(h=c.alternate,h===null)throw Error(a(387));h.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(pa):e=[pa])}c=c.return}e!==null&&tu(n,e,r,l),n.flags|=262144}function Sl(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wi(e){Qi=e,Rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return qp(Qi,e)}function xl(e,n){return Qi===null&&Wi(e),qp(e,n)}function qp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Rn===null){if(e===null)throw Error(a(308));Rn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Rn=Rn.next=n;return r}var Gb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Yb=s.unstable_scheduleCallback,Fb=s.unstable_NormalPriority,Ze={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nu(){return{controller:new Gb,data:new Map,refCount:0}}function Pr(e){e.refCount--,e.refCount===0&&Yb(Fb,function(){e.controller.abort()})}var Vr=null,iu=0,Bs=0,Hs=null;function Qb(e,n){if(Vr===null){var r=Vr=[];iu=0,Bs=lf(),Hs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return iu++,n.then(Pp,Pp),n}function Pp(){if(--iu===0&&Vr!==null){Hs!==null&&(Hs.status="fulfilled");var e=Vr;Vr=null,Bs=0,Hs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Wb(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Vp=k.S;k.S=function(e,n){wm=It(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Qb(e,n),Vp!==null&&Vp(e,n)};var Xi=T(null);function su(){var e=Xi.current;return e!==null?e:De.pooledCache}function El(e,n){n===null?V(Xi,Xi.current):V(Xi,n.pool)}function Gp(){var e=su();return e===null?null:{parent:Ze._currentValue,pool:e}}var qs=Error(a(460)),ru=Error(a(474)),Tl=Error(a(542)),Cl={then:function(){}};function Yp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Tn,Tn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e;default:if(typeof n.status=="string")n.then(Tn,Tn);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e}throw Zi=n,qs}}function Ki(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Zi=r,qs):r}}var Zi=null;function Qp(){if(Zi===null)throw Error(a(459));var e=Zi;return Zi=null,e}function Wp(e){if(e===qs||e===Tl)throw Error(a(483))}var Ps=null,Gr=0;function wl(e){var n=Gr;return Gr+=1,Ps===null&&(Ps=[]),Fp(Ps,e,n)}function Yr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Al(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xp(e){function n(C,E){if(e){var w=C.deletions;w===null?(C.deletions=[E],C.flags|=16):w.push(E)}}function r(C,E){if(!e)return null;for(;E!==null;)n(C,E),E=E.sibling;return null}function l(C){for(var E=new Map;C!==null;)C.key!==null?E.set(C.key,C):E.set(C.index,C),C=C.sibling;return E}function c(C,E){return C=wn(C,E),C.index=0,C.sibling=null,C}function f(C,E,w){return C.index=w,e?(w=C.alternate,w!==null?(w=w.index,w<E?(C.flags|=67108866,E):w):(C.flags|=67108866,E)):(C.flags|=1048576,E)}function h(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function y(C,E,w,z){return E===null||E.tag!==6?(E=Qc(w,C.mode,z),E.return=C,E):(E=c(E,w),E.return=C,E)}function x(C,E,w,z){var W=w.type;return W===D?M(C,E,w.props.children,z,w.key):E!==null&&(E.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Ke&&Ki(W)===E.type)?(E=c(E,w.props),Yr(E,w),E.return=C,E):(E=vl(w.type,w.key,w.props,null,C.mode,z),Yr(E,w),E.return=C,E)}function A(C,E,w,z){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=Wc(w,C.mode,z),E.return=C,E):(E=c(E,w.children||[]),E.return=C,E)}function M(C,E,w,z,W){return E===null||E.tag!==7?(E=Yi(w,C.mode,z,W),E.return=C,E):(E=c(E,w),E.return=C,E)}function U(C,E,w){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Qc(""+E,C.mode,w),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case N:return w=vl(E.type,E.key,E.props,null,C.mode,w),Yr(w,E),w.return=C,w;case I:return E=Wc(E,C.mode,w),E.return=C,E;case Ke:return E=Ki(E),U(C,E,w)}if(kt(E)||me(E))return E=Yi(E,C.mode,w,null),E.return=C,E;if(typeof E.then=="function")return U(C,wl(E),w);if(E.$$typeof===se)return U(C,xl(C,E),w);Al(C,E)}return null}function R(C,E,w,z){var W=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return W!==null?null:y(C,E,""+w,z);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case N:return w.key===W?x(C,E,w,z):null;case I:return w.key===W?A(C,E,w,z):null;case Ke:return w=Ki(w),R(C,E,w,z)}if(kt(w)||me(w))return W!==null?null:M(C,E,w,z,null);if(typeof w.then=="function")return R(C,E,wl(w),z);if(w.$$typeof===se)return R(C,E,xl(C,w),z);Al(C,w)}return null}function O(C,E,w,z,W){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return C=C.get(w)||null,y(E,C,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case N:return C=C.get(z.key===null?w:z.key)||null,x(E,C,z,W);case I:return C=C.get(z.key===null?w:z.key)||null,A(E,C,z,W);case Ke:return z=Ki(z),O(C,E,w,z,W)}if(kt(z)||me(z))return C=C.get(w)||null,M(E,C,z,W,null);if(typeof z.then=="function")return O(C,E,w,wl(z),W);if(z.$$typeof===se)return O(C,E,w,xl(E,z),W);Al(E,z)}return null}function G(C,E,w,z){for(var W=null,_e=null,F=E,re=E=0,pe=null;F!==null&&re<w.length;re++){F.index>re?(pe=F,F=null):pe=F.sibling;var ye=R(C,F,w[re],z);if(ye===null){F===null&&(F=pe);break}e&&F&&ye.alternate===null&&n(C,F),E=f(ye,E,re),_e===null?W=ye:_e.sibling=ye,_e=ye,F=pe}if(re===w.length)return r(C,F),ge&&An(C,re),W;if(F===null){for(;re<w.length;re++)F=U(C,w[re],z),F!==null&&(E=f(F,E,re),_e===null?W=F:_e.sibling=F,_e=F);return ge&&An(C,re),W}for(F=l(F);re<w.length;re++)pe=O(F,C,re,w[re],z),pe!==null&&(e&&pe.alternate!==null&&F.delete(pe.key===null?re:pe.key),E=f(pe,E,re),_e===null?W=pe:_e.sibling=pe,_e=pe);return e&&F.forEach(function(Ti){return n(C,Ti)}),ge&&An(C,re),W}function K(C,E,w,z){if(w==null)throw Error(a(151));for(var W=null,_e=null,F=E,re=E=0,pe=null,ye=w.next();F!==null&&!ye.done;re++,ye=w.next()){F.index>re?(pe=F,F=null):pe=F.sibling;var Ti=R(C,F,ye.value,z);if(Ti===null){F===null&&(F=pe);break}e&&F&&Ti.alternate===null&&n(C,F),E=f(Ti,E,re),_e===null?W=Ti:_e.sibling=Ti,_e=Ti,F=pe}if(ye.done)return r(C,F),ge&&An(C,re),W;if(F===null){for(;!ye.done;re++,ye=w.next())ye=U(C,ye.value,z),ye!==null&&(E=f(ye,E,re),_e===null?W=ye:_e.sibling=ye,_e=ye);return ge&&An(C,re),W}for(F=l(F);!ye.done;re++,ye=w.next())ye=O(F,C,re,ye.value,z),ye!==null&&(e&&ye.alternate!==null&&F.delete(ye.key===null?re:ye.key),E=f(ye,E,re),_e===null?W=ye:_e.sibling=ye,_e=ye);return e&&F.forEach(function(rx){return n(C,rx)}),ge&&An(C,re),W}function Re(C,E,w,z){if(typeof w=="object"&&w!==null&&w.type===D&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case N:e:{for(var W=w.key;E!==null;){if(E.key===W){if(W=w.type,W===D){if(E.tag===7){r(C,E.sibling),z=c(E,w.props.children),z.return=C,C=z;break e}}else if(E.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Ke&&Ki(W)===E.type){r(C,E.sibling),z=c(E,w.props),Yr(z,w),z.return=C,C=z;break e}r(C,E);break}else n(C,E);E=E.sibling}w.type===D?(z=Yi(w.props.children,C.mode,z,w.key),z.return=C,C=z):(z=vl(w.type,w.key,w.props,null,C.mode,z),Yr(z,w),z.return=C,C=z)}return h(C);case I:e:{for(W=w.key;E!==null;){if(E.key===W)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){r(C,E.sibling),z=c(E,w.children||[]),z.return=C,C=z;break e}else{r(C,E);break}else n(C,E);E=E.sibling}z=Wc(w,C.mode,z),z.return=C,C=z}return h(C);case Ke:return w=Ki(w),Re(C,E,w,z)}if(kt(w))return G(C,E,w,z);if(me(w)){if(W=me(w),typeof W!="function")throw Error(a(150));return w=W.call(w),K(C,E,w,z)}if(typeof w.then=="function")return Re(C,E,wl(w),z);if(w.$$typeof===se)return Re(C,E,xl(C,w),z);Al(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,E!==null&&E.tag===6?(r(C,E.sibling),z=c(E,w),z.return=C,C=z):(r(C,E),z=Qc(w,C.mode,z),z.return=C,C=z),h(C)):r(C,E)}return function(C,E,w,z){try{Gr=0;var W=Re(C,E,w,z);return Ps=null,W}catch(F){if(F===qs||F===Tl)throw F;var _e=jt(29,F,null,C.mode);return _e.lanes=z,_e.return=C,_e}finally{}}}var Ji=Xp(!0),Kp=Xp(!1),li=!1;function au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ci(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ve&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=yl(e),kp(e,null,r),n}return _l(e,l,n,r),yl(e)}function Fr(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,qh(e,r)}}function ou(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var h={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=h:f=f.next=h,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var cu=!1;function Qr(){if(cu){var e=Hs;if(e!==null)throw e}}function Wr(e,n,r,l){cu=!1;var c=e.updateQueue;li=!1;var f=c.firstBaseUpdate,h=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var x=y,A=x.next;x.next=null,h===null?f=A:h.next=A,h=x;var M=e.alternate;M!==null&&(M=M.updateQueue,y=M.lastBaseUpdate,y!==h&&(y===null?M.firstBaseUpdate=A:y.next=A,M.lastBaseUpdate=x))}if(f!==null){var U=c.baseState;h=0,M=A=x=null,y=f;do{var R=y.lane&-536870913,O=R!==y.lane;if(O?(he&R)===R:(l&R)===R){R!==0&&R===Bs&&(cu=!0),M!==null&&(M=M.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var G=e,K=y;R=n;var Re=r;switch(K.tag){case 1:if(G=K.payload,typeof G=="function"){U=G.call(Re,U,R);break e}U=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=K.payload,R=typeof G=="function"?G.call(Re,U,R):G,R==null)break e;U=v({},U,R);break e;case 2:li=!0}}R=y.callback,R!==null&&(e.flags|=64,O&&(e.flags|=8192),O=c.callbacks,O===null?c.callbacks=[R]:O.push(R))}else O={lane:R,tag:y.tag,payload:y.payload,callback:y.callback,next:null},M===null?(A=M=O,x=U):M=M.next=O,h|=R;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;O=y,y=O.next,O.next=null,c.lastBaseUpdate=O,c.shared.pending=null}}while(!0);M===null&&(x=U),c.baseState=x,c.firstBaseUpdate=A,c.lastBaseUpdate=M,f===null&&(c.shared.lanes=0),pi|=h,e.lanes=h,e.memoizedState=U}}function Zp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Jp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Zp(r[e],n)}var Vs=T(null),Rl=T(0);function $p(e,n){e=jn,V(Rl,e),V(Vs,n),jn=e|n.baseLanes}function uu(){V(Rl,jn),V(Vs,Vs.current)}function fu(){jn=Rl.current,j(Vs),j(Rl)}var Bt=T(null),$t=null;function ui(e){var n=e.alternate;V(Ye,Ye.current&1),V(Bt,e),$t===null&&(n===null||Vs.current!==null||n.memoizedState!==null)&&($t=e)}function du(e){V(Ye,Ye.current),V(Bt,e),$t===null&&($t=e)}function eg(e){e.tag===22?(V(Ye,Ye.current),V(Bt,e),$t===null&&($t=e)):fi()}function fi(){V(Ye,Ye.current),V(Bt,Bt.current)}function Ht(e){j(Bt),$t===e&&($t=null),j(Ye)}var Ye=T(0);function Nl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||vf(r)||bf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var On=0,ie=null,we=null,Je=null,Ol=!1,Gs=!1,$i=!1,Dl=0,Xr=0,Ys=null,Xb=0;function Be(){throw Error(a(321))}function hu(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Lt(e[r],n[r]))return!1;return!0}function pu(e,n,r,l,c,f){return On=f,ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?Lg:Nu,$i=!1,f=r(l,c),$i=!1,Gs&&(f=ng(n,r,l,c)),tg(e),f}function tg(e){k.H=Jr;var n=we!==null&&we.next!==null;if(On=0,Je=we=ie=null,Ol=!1,Xr=0,Ys=null,n)throw Error(a(300));e===null||$e||(e=e.dependencies,e!==null&&Sl(e)&&($e=!0))}function ng(e,n,r,l){ie=e;var c=0;do{if(Gs&&(Ys=null),Xr=0,Gs=!1,25<=c)throw Error(a(301));if(c+=1,Je=we=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=jg,f=n(r,l)}while(Gs);return f}function Kb(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?Kr(n):n,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(ie.flags|=1024),n}function gu(){var e=Dl!==0;return Dl=0,e}function mu(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function _u(e){if(Ol){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ol=!1}On=0,Je=we=ie=null,Gs=!1,Xr=Dl=0,Ys=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ie.memoizedState=Je=e:Je=Je.next=e,Je}function Fe(){if(we===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var n=Je===null?ie.memoizedState:Je.next;if(n!==null)Je=n,we=e;else{if(e===null)throw ie.alternate===null?Error(a(467)):Error(a(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Je===null?ie.memoizedState=Je=e:Je=Je.next=e}return Je}function Ml(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kr(e){var n=Xr;return Xr+=1,Ys===null&&(Ys=[]),e=Fp(Ys,e,n),n=ie,(Je===null?n.memoizedState:Je.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?Lg:Nu),e}function kl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kr(e);if(e.$$typeof===se)return dt(e)}throw Error(a(438,String(e)))}function yu(e){var n=null,r=ie.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ml(),ie.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=$n;return n.index++,r}function Dn(e,n){return typeof n=="function"?n(e):n}function Il(e){var n=Fe();return vu(n,we,e)}function vu(e,n,r){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var h=c.next;c.next=f.next,f.next=h}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var y=h=null,x=null,A=n,M=!1;do{var U=A.lane&-536870913;if(U!==A.lane?(he&U)===U:(On&U)===U){var R=A.revertLane;if(R===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),U===Bs&&(M=!0);else if((On&R)===R){A=A.next,R===Bs&&(M=!0);continue}else U={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},x===null?(y=x=U,h=f):x=x.next=U,ie.lanes|=R,pi|=R;U=A.action,$i&&r(f,U),f=A.hasEagerState?A.eagerState:r(f,U)}else R={lane:U,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},x===null?(y=x=R,h=f):x=x.next=R,ie.lanes|=U,pi|=U;A=A.next}while(A!==null&&A!==n);if(x===null?h=f:x.next=y,!Lt(f,e.memoizedState)&&($e=!0,M&&(r=Hs,r!==null)))throw r;e.memoizedState=f,e.baseState=h,e.baseQueue=x,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function bu(e){var n=Fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var h=c=c.next;do f=e(f,h.action),h=h.next;while(h!==c);Lt(f,n.memoizedState)||($e=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ig(e,n,r){var l=ie,c=Fe(),f=ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var h=!Lt((we||c).memoizedState,r);if(h&&(c.memoizedState=r,$e=!0),c=c.queue,Eu(ag.bind(null,l,c,e),[e]),c.getSnapshot!==n||h||Je!==null&&Je.memoizedState.tag&1){if(l.flags|=2048,Fs(9,{destroy:void 0},rg.bind(null,l,c,r,n),null),De===null)throw Error(a(349));f||(On&127)!==0||sg(l,n,r)}return r}function sg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=ie.updateQueue,n===null?(n=Ml(),ie.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function rg(e,n,r,l){n.value=r,n.getSnapshot=l,lg(n)&&og(e)}function ag(e,n,r){return r(function(){lg(n)&&og(e)})}function lg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Lt(e,r)}catch{return!0}}function og(e){var n=Gi(e,2);n!==null&&Rt(n,e,2)}function Su(e){var n=vt();if(typeof e=="function"){var r=e;if(e=r(),$i){ei(!0);try{r()}finally{ei(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},n}function cg(e,n,r,l){return e.baseState=r,vu(e,we,typeof l=="function"?l:Dn)}function Zb(e,n,r,l,c){if(Ll(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){f.listeners.push(h)}};k.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ug(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ug(e,n){var r=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=k.T,h={};k.T=h;try{var y=r(c,l),x=k.S;x!==null&&x(h,y),fg(e,n,y)}catch(A){xu(e,n,A)}finally{f!==null&&h.types!==null&&(f.types=h.types),k.T=f}}else try{f=r(c,l),fg(e,n,f)}catch(A){xu(e,n,A)}}function fg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){dg(e,n,l)},function(l){return xu(e,n,l)}):dg(e,n,r)}function dg(e,n,r){n.status="fulfilled",n.value=r,hg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ug(e,r)))}function xu(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,hg(n),n=n.next;while(n!==l)}e.action=null}function hg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pg(e,n){return n}function gg(e,n){if(ge){var r=De.formState;if(r!==null){e:{var l=ie;if(ge){if(Ie){t:{for(var c=Ie,f=Jt;c.nodeType!==8;){if(!f){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ie=en(c.nextSibling),l=c.data==="F!";break e}}ri(l)}l=!1}l&&(n=r[0])}}return r=vt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},r.queue=l,r=Ig.bind(null,ie,l),l.dispatch=r,l=Su(!1),f=Ru.bind(null,ie,!1,l.queue),l=vt(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,r=Zb.bind(null,ie,c,f,r),c.dispatch=r,l.memoizedState=e,[n,r,!1]}function mg(e){var n=Fe();return _g(n,we,e)}function _g(e,n,r){if(n=vu(e,n,pg)[0],e=Il(Dn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Kr(n)}catch(h){throw h===qs?Tl:h}else l=n;n=Fe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(ie.flags|=2048,Fs(9,{destroy:void 0},Jb.bind(null,c,r),null)),[l,f,e]}function Jb(e,n){e.action=n}function yg(e){var n=Fe(),r=we;if(r!==null)return _g(n,r,e);Fe(),n=n.memoizedState,r=Fe();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Fs(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=ie.updateQueue,n===null&&(n=Ml(),ie.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function vg(){return Fe().memoizedState}function zl(e,n,r,l){var c=vt();ie.flags|=e,c.memoizedState=Fs(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ul(e,n,r,l){var c=Fe();l=l===void 0?null:l;var f=c.memoizedState.inst;we!==null&&l!==null&&hu(l,we.memoizedState.deps)?c.memoizedState=Fs(n,f,r,l):(ie.flags|=e,c.memoizedState=Fs(1|n,f,r,l))}function bg(e,n){zl(8390656,8,e,n)}function Eu(e,n){Ul(2048,8,e,n)}function $b(e){ie.flags|=4;var n=ie.updateQueue;if(n===null)n=Ml(),ie.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Sg(e){var n=Fe().memoizedState;return $b({ref:n,nextImpl:e}),function(){if((ve&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function xg(e,n){return Ul(4,2,e,n)}function Eg(e,n){return Ul(4,4,e,n)}function Tg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cg(e,n,r){r=r!=null?r.concat([e]):null,Ul(4,4,Tg.bind(null,n,e),r)}function Tu(){}function wg(e,n){var r=Fe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&hu(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Ag(e,n){var r=Fe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&hu(n,l[1]))return l[0];if(l=e(),$i){ei(!0);try{e()}finally{ei(!1)}}return r.memoizedState=[l,n],l}function Cu(e,n,r){return r===void 0||(On&1073741824)!==0&&(he&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Rm(),ie.lanes|=e,pi|=e,r)}function Rg(e,n,r,l){return Lt(r,n)?r:Vs.current!==null?(e=Cu(e,r,l),Lt(e,n)||($e=!0),e):(On&42)===0||(On&1073741824)!==0&&(he&261930)===0?($e=!0,e.memoizedState=r):(e=Rm(),ie.lanes|=e,pi|=e,n)}function Ng(e,n,r,l,c){var f=H.p;H.p=f!==0&&8>f?f:8;var h=k.T,y={};k.T=y,Ru(e,!1,n,r);try{var x=c(),A=k.S;if(A!==null&&A(y,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var M=Wb(x,l);Zr(e,n,M,Vt(e))}else Zr(e,n,l,Vt(e))}catch(U){Zr(e,n,{then:function(){},status:"rejected",reason:U},Vt())}finally{H.p=f,h!==null&&y.types!==null&&(h.types=y.types),k.T=h}}function eS(){}function wu(e,n,r,l){if(e.tag!==5)throw Error(a(476));var c=Og(e).queue;Ng(e,c,n,X,r===null?eS:function(){return Dg(e),r(l)})}function Og(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:X},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Dg(e){var n=Og(e);n.next===null&&(n=e.alternate.memoizedState),Zr(e,n.next.queue,{},Vt())}function Au(){return dt(pa)}function Mg(){return Fe().memoizedState}function kg(){return Fe().memoizedState}function tS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Vt();e=oi(r);var l=ci(n,e,r);l!==null&&(Rt(l,n,r),Fr(l,n,r)),n={cache:nu()},e.payload=n;return}n=n.return}}function nS(e,n,r){var l=Vt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ll(e)?zg(n,r):(r=Yc(e,n,r,l),r!==null&&(Rt(r,e,l),Ug(r,n,l)))}function Ig(e,n,r){var l=Vt();Zr(e,n,r,l)}function Zr(e,n,r,l){var c={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ll(e))zg(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var h=n.lastRenderedState,y=f(h,r);if(c.hasEagerState=!0,c.eagerState=y,Lt(y,h))return _l(e,n,c,0),De===null&&ml(),!1}catch{}finally{}if(r=Yc(e,n,c,l),r!==null)return Rt(r,e,l),Ug(r,n,l),!0}return!1}function Ru(e,n,r,l){if(l={lane:2,revertLane:lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ll(e)){if(n)throw Error(a(479))}else n=Yc(e,r,l,2),n!==null&&Rt(n,e,2)}function Ll(e){var n=e.alternate;return e===ie||n!==null&&n===ie}function zg(e,n){Gs=Ol=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ug(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,qh(e,r)}}var Jr={readContext:dt,use:kl,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Jr.useEffectEvent=Be;var Lg={readContext:dt,use:kl,useCallback:function(e,n){return vt().memoizedState=[e,n===void 0?null:n],e},useContext:dt,useEffect:bg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,zl(4194308,4,Tg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return zl(4194308,4,e,n)},useInsertionEffect:function(e,n){zl(4,2,e,n)},useMemo:function(e,n){var r=vt();n=n===void 0?null:n;var l=e();if($i){ei(!0);try{e()}finally{ei(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=vt();if(r!==void 0){var c=r(n);if($i){ei(!0);try{r(n)}finally{ei(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=nS.bind(null,ie,e),[l.memoizedState,e]},useRef:function(e){var n=vt();return e={current:e},n.memoizedState=e},useState:function(e){e=Su(e);var n=e.queue,r=Ig.bind(null,ie,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Tu,useDeferredValue:function(e,n){var r=vt();return Cu(r,e,n)},useTransition:function(){var e=Su(!1);return e=Ng.bind(null,ie,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=ie,c=vt();if(ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),De===null)throw Error(a(349));(he&127)!==0||sg(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,bg(ag.bind(null,l,f,e),[e]),l.flags|=2048,Fs(9,{destroy:void 0},rg.bind(null,l,f,r,n),null),r},useId:function(){var e=vt(),n=De.identifierPrefix;if(ge){var r=gn,l=pn;r=(l&~(1<<32-Ut(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Dl++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Xb++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Au,useFormState:gg,useActionState:gg,useOptimistic:function(e){var n=vt();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ru.bind(null,ie,!0,r),r.dispatch=n,[e,n]},useMemoCache:yu,useCacheRefresh:function(){return vt().memoizedState=tS.bind(null,ie)},useEffectEvent:function(e){var n=vt(),r={impl:e};return n.memoizedState=r,function(){if((ve&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Nu={readContext:dt,use:kl,useCallback:wg,useContext:dt,useEffect:Eu,useImperativeHandle:Cg,useInsertionEffect:xg,useLayoutEffect:Eg,useMemo:Ag,useReducer:Il,useRef:vg,useState:function(){return Il(Dn)},useDebugValue:Tu,useDeferredValue:function(e,n){var r=Fe();return Rg(r,we.memoizedState,e,n)},useTransition:function(){var e=Il(Dn)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Kr(e),n]},useSyncExternalStore:ig,useId:Mg,useHostTransitionStatus:Au,useFormState:mg,useActionState:mg,useOptimistic:function(e,n){var r=Fe();return cg(r,we,e,n)},useMemoCache:yu,useCacheRefresh:kg};Nu.useEffectEvent=Sg;var jg={readContext:dt,use:kl,useCallback:wg,useContext:dt,useEffect:Eu,useImperativeHandle:Cg,useInsertionEffect:xg,useLayoutEffect:Eg,useMemo:Ag,useReducer:bu,useRef:vg,useState:function(){return bu(Dn)},useDebugValue:Tu,useDeferredValue:function(e,n){var r=Fe();return we===null?Cu(r,e,n):Rg(r,we.memoizedState,e,n)},useTransition:function(){var e=bu(Dn)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Kr(e),n]},useSyncExternalStore:ig,useId:Mg,useHostTransitionStatus:Au,useFormState:yg,useActionState:yg,useOptimistic:function(e,n){var r=Fe();return we!==null?cg(r,we,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:yu,useCacheRefresh:kg};jg.useEffectEvent=Sg;function Ou(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:v({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Du={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Vt(),c=oi(l);c.payload=n,r!=null&&(c.callback=r),n=ci(e,c,l),n!==null&&(Rt(n,e,l),Fr(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Vt(),c=oi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ci(e,c,l),n!==null&&(Rt(n,e,l),Fr(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Vt(),l=oi(r);l.tag=2,n!=null&&(l.callback=n),n=ci(e,l,r),n!==null&&(Rt(n,e,r),Fr(n,e,r))}};function Bg(e,n,r,l,c,f,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,h):n.prototype&&n.prototype.isPureReactComponent?!jr(r,l)||!jr(c,f):!0}function Hg(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Du.enqueueReplaceState(n,n.state,null)}function es(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=v({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function qg(e){gl(e)}function Pg(e){console.error(e)}function Vg(e){gl(e)}function jl(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gg(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Mu(e,n,r){return r=oi(r),r.tag=3,r.payload={element:null},r.callback=function(){jl(e,n)},r}function Yg(e){return e=oi(e),e.tag=3,e}function Fg(e,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Gg(n,r,l)}}var h=r.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Gg(n,r,l),typeof c!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function iS(e,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&js(n,r,c,!0),r=Bt.current,r!==null){switch(r.tag){case 31:case 13:return $t===null?Kl():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Cl?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),sf(e,l,c)),!1;case 22:return r.flags|=65536,l===Cl?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),sf(e,l,c)),!1}throw Error(a(435,r.tag))}return sf(e,l,c),Kl(),!1}if(ge)return n=Bt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(e=Error(a(422),{cause:l}),qr(Xt(e,r)))):(l!==Zc&&(n=Error(a(423),{cause:l}),qr(Xt(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Xt(l,r),c=Mu(e.stateNode,l,c),ou(e,c),He!==4&&(He=2)),!1;var f=Error(a(520),{cause:l});if(f=Xt(f,r),aa===null?aa=[f]:aa.push(f),He!==4&&(He=2),n===null)return!0;l=Xt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Mu(r.stateNode,l,e),ou(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(gi===null||!gi.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Yg(c),Fg(c,e,r,l),ou(r,c),!1}r=r.return}while(r!==null);return!1}var ku=Error(a(461)),$e=!1;function ht(e,n,r,l){n.child=e===null?Kp(n,null,r,l):Ji(n,e.child,r,l)}function Qg(e,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var h={};for(var y in l)y!=="ref"&&(h[y]=l[y])}else h=l;return Wi(n),l=pu(e,n,r,h,f,c),y=gu(),e!==null&&!$e?(mu(e,n,c),Mn(e,n,c)):(ge&&y&&Xc(n),n.flags|=1,ht(e,n,l,c),n.child)}function Wg(e,n,r,l,c){if(e===null){var f=r.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Xg(e,n,f,l,c)):(e=vl(r.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qu(e,c)){var h=f.memoizedProps;if(r=r.compare,r=r!==null?r:jr,r(h,l)&&e.ref===n.ref)return Mn(e,n,c)}return n.flags|=1,e=wn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Xg(e,n,r,l,c){if(e!==null){var f=e.memoizedProps;if(jr(f,l)&&e.ref===n.ref)if($e=!1,n.pendingProps=l=f,qu(e,c))(e.flags&131072)!==0&&($e=!0);else return n.lanes=e.lanes,Mn(e,n,c)}return Iu(e,n,r,l,c)}function Kg(e,n,r,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Zg(e,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&El(n,f!==null?f.cachePool:null),f!==null?$p(n,f):uu(),eg(n);else return l=n.lanes=536870912,Zg(e,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(El(n,f.cachePool),$p(n,f),fi(),n.memoizedState=null):(e!==null&&El(n,null),uu(),fi());return ht(e,n,c,r),n.child}function $r(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zg(e,n,r,l,c){var f=su();return f=f===null?null:{parent:Ze._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&El(n,null),uu(),eg(n),e!==null&&js(e,n,l,!0),n.childLanes=c,null}function Bl(e,n){return n=ql({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Jg(e,n,r){return Ji(n,e.child,null,r),e=Bl(n,n.pendingProps),e.flags|=2,Ht(n),n.memoizedState=null,e}function sS(e,n,r){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ge){if(l.mode==="hidden")return e=Bl(n,l),n.lanes=536870912,$r(null,e);if(du(n),(e=Ie)?(e=u_(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ii!==null?{id:pn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},r=zp(e),r.return=n,n.child=r,ft=n,Ie=null)):e=null,e===null)throw ri(n);return n.lanes=536870912,null}return Bl(n,l)}var f=e.memoizedState;if(f!==null){var h=f.dehydrated;if(du(n),c)if(n.flags&256)n.flags&=-257,n=Jg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if($e||js(e,n,r,!1),c=(r&e.childLanes)!==0,$e||c){if(l=De,l!==null&&(h=Ph(l,r),h!==0&&h!==f.retryLane))throw f.retryLane=h,Gi(e,h),Rt(l,e,h),ku;Kl(),n=Jg(e,n,r)}else e=f.treeContext,Ie=en(h.nextSibling),ft=n,ge=!0,si=null,Jt=!1,e!==null&&jp(n,e),n=Bl(n,l),n.flags|=4096;return n}return e=wn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hl(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Iu(e,n,r,l,c){return Wi(n),r=pu(e,n,r,l,void 0,c),l=gu(),e!==null&&!$e?(mu(e,n,c),Mn(e,n,c)):(ge&&l&&Xc(n),n.flags|=1,ht(e,n,r,c),n.child)}function $g(e,n,r,l,c,f){return Wi(n),n.updateQueue=null,r=ng(n,l,r,c),tg(e),l=gu(),e!==null&&!$e?(mu(e,n,f),Mn(e,n,f)):(ge&&l&&Xc(n),n.flags|=1,ht(e,n,r,f),n.child)}function em(e,n,r,l,c){if(Wi(n),n.stateNode===null){var f=Is,h=r.contextType;typeof h=="object"&&h!==null&&(f=dt(h)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Du,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},au(n),h=r.contextType,f.context=typeof h=="object"&&h!==null?dt(h):Is,f.state=n.memoizedState,h=r.getDerivedStateFromProps,typeof h=="function"&&(Ou(n,r,h,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(h=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),h!==f.state&&Du.enqueueReplaceState(f,f.state,null),Wr(n,l,f,c),Qr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var y=n.memoizedProps,x=es(r,y);f.props=x;var A=f.context,M=r.contextType;h=Is,typeof M=="object"&&M!==null&&(h=dt(M));var U=r.getDerivedStateFromProps;M=typeof U=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||A!==h)&&Hg(n,f,l,h),li=!1;var R=n.memoizedState;f.state=R,Wr(n,l,f,c),Qr(),A=n.memoizedState,y||R!==A||li?(typeof U=="function"&&(Ou(n,r,U,l),A=n.memoizedState),(x=li||Bg(n,r,x,l,R,A,h))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),f.props=l,f.state=A,f.context=h,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lu(e,n),h=n.memoizedProps,M=es(r,h),f.props=M,U=n.pendingProps,R=f.context,A=r.contextType,x=Is,typeof A=="object"&&A!==null&&(x=dt(A)),y=r.getDerivedStateFromProps,(A=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==U||R!==x)&&Hg(n,f,l,x),li=!1,R=n.memoizedState,f.state=R,Wr(n,l,f,c),Qr();var O=n.memoizedState;h!==U||R!==O||li||e!==null&&e.dependencies!==null&&Sl(e.dependencies)?(typeof y=="function"&&(Ou(n,r,y,l),O=n.memoizedState),(M=li||Bg(n,r,M,l,R,O,x)||e!==null&&e.dependencies!==null&&Sl(e.dependencies))?(A||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,O,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,O,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=x,l=M):(typeof f.componentDidUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Hl(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ji(n,e.child,null,c),n.child=Ji(n,null,r,c)):ht(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Mn(e,n,c),e}function tm(e,n,r,l){return Fi(),n.flags|=256,ht(e,n,r,l),n.child}var zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uu(e){return{baseLanes:e,cachePool:Gp()}}function Lu(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Pt),e}function nm(e,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,h;if((h=f)||(h=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),h&&(c=!0,n.flags&=-129),h=(n.flags&32)!==0,n.flags&=-33,e===null){if(ge){if(c?ui(n):fi(),(e=Ie)?(e=u_(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ii!==null?{id:pn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},r=zp(e),r.return=n,n.child=r,ft=n,Ie=null)):e=null,e===null)throw ri(n);return bf(e)?n.lanes=32:n.lanes=536870912,null}var y=l.children;return l=l.fallback,c?(fi(),c=n.mode,y=ql({mode:"hidden",children:y},c),l=Yi(l,c,r,null),y.return=n,l.return=n,y.sibling=l,n.child=y,l=n.child,l.memoizedState=Uu(r),l.childLanes=Lu(e,h,r),n.memoizedState=zu,$r(null,l)):(ui(n),ju(n,y))}var x=e.memoizedState;if(x!==null&&(y=x.dehydrated,y!==null)){if(f)n.flags&256?(ui(n),n.flags&=-257,n=Bu(e,n,r)):n.memoizedState!==null?(fi(),n.child=e.child,n.flags|=128,n=null):(fi(),y=l.fallback,c=n.mode,l=ql({mode:"visible",children:l.children},c),y=Yi(y,c,r,null),y.flags|=2,l.return=n,y.return=n,l.sibling=y,n.child=l,Ji(n,e.child,null,r),l=n.child,l.memoizedState=Uu(r),l.childLanes=Lu(e,h,r),n.memoizedState=zu,n=$r(null,l));else if(ui(n),bf(y)){if(h=y.nextSibling&&y.nextSibling.dataset,h)var A=h.dgst;h=A,l=Error(a(419)),l.stack="",l.digest=h,qr({value:l,source:null,stack:null}),n=Bu(e,n,r)}else if($e||js(e,n,r,!1),h=(r&e.childLanes)!==0,$e||h){if(h=De,h!==null&&(l=Ph(h,r),l!==0&&l!==x.retryLane))throw x.retryLane=l,Gi(e,l),Rt(h,e,l),ku;vf(y)||Kl(),n=Bu(e,n,r)}else vf(y)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,Ie=en(y.nextSibling),ft=n,ge=!0,si=null,Jt=!1,e!==null&&jp(n,e),n=ju(n,l.children),n.flags|=4096);return n}return c?(fi(),y=l.fallback,c=n.mode,x=e.child,A=x.sibling,l=wn(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,A!==null?y=wn(A,y):(y=Yi(y,c,r,null),y.flags|=2),y.return=n,l.return=n,l.sibling=y,n.child=l,$r(null,l),l=n.child,y=e.child.memoizedState,y===null?y=Uu(r):(c=y.cachePool,c!==null?(x=Ze._currentValue,c=c.parent!==x?{parent:x,pool:x}:c):c=Gp(),y={baseLanes:y.baseLanes|r,cachePool:c}),l.memoizedState=y,l.childLanes=Lu(e,h,r),n.memoizedState=zu,$r(e.child,l)):(ui(n),r=e.child,e=r.sibling,r=wn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(h=n.deletions,h===null?(n.deletions=[e],n.flags|=16):h.push(e)),n.child=r,n.memoizedState=null,r)}function ju(e,n){return n=ql({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ql(e,n){return e=jt(22,e,null,n),e.lanes=0,e}function Bu(e,n,r){return Ji(n,e.child,null,r),e=ju(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function im(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),eu(e.return,n,r)}function Hu(e,n,r,l,c,f){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c,treeForkCount:f}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c,h.treeForkCount=f)}function sm(e,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var h=Ye.current,y=(h&2)!==0;if(y?(h=h&1|2,n.flags|=128):h&=1,V(Ye,h),ht(e,n,l,r),l=ge?Hr:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&im(e,r,n);else if(e.tag===19)im(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Nl(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Hu(n,!1,c,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Nl(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Hu(n,!0,r,null,f,l);break;case"together":Hu(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Mn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),pi|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(js(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=wn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=wn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function qu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Sl(e)))}function rS(e,n,r){switch(n.tag){case 3:yt(n,n.stateNode.containerInfo),ai(n,Ze,e.memoizedState.cache),Fi();break;case 27:case 5:Cr(n);break;case 4:yt(n,n.stateNode.containerInfo);break;case 10:ai(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,du(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ui(n),n.flags|=128,null):(r&n.child.childLanes)!==0?nm(e,n,r):(ui(n),e=Mn(e,n,r),e!==null?e.sibling:null);ui(n);break;case 19:var c=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(js(e,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return sm(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),V(Ye,Ye.current),l)break;return null;case 22:return n.lanes=0,Kg(e,n,r,n.pendingProps);case 24:ai(n,Ze,e.memoizedState.cache)}return Mn(e,n,r)}function rm(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)$e=!0;else{if(!qu(e,r)&&(n.flags&128)===0)return $e=!1,rS(e,n,r);$e=(e.flags&131072)!==0}else $e=!1,ge&&(n.flags&1048576)!==0&&Lp(n,Hr,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Ki(n.elementType),n.type=e,typeof e=="function")Fc(e)?(l=es(e,l),n.tag=1,n=em(null,n,e,l,r)):(n.tag=0,n=Iu(null,n,e,l,r));else{if(e!=null){var c=e.$$typeof;if(c===te){n.tag=11,n=Qg(null,n,e,l,r);break e}else if(c===ae){n.tag=14,n=Wg(null,n,e,l,r);break e}}throw n=sn(e)||e,Error(a(306,n,""))}}return n;case 0:return Iu(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=es(l,n.pendingProps),em(e,n,l,c,r);case 3:e:{if(yt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,lu(e,n),Wr(n,l,null,r);var h=n.memoizedState;if(l=h.cache,ai(n,Ze,l),l!==f.cache&&tu(n,[Ze],r,!0),Qr(),l=h.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:h.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=tm(e,n,l,r);break e}else if(l!==c){c=Xt(Error(a(424)),n),qr(c),n=tm(e,n,l,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=en(e.firstChild),ft=n,ge=!0,si=null,Jt=!0,r=Kp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Fi(),l===c){n=Mn(e,n,r);break e}ht(e,n,l,r)}n=n.child}return n;case 26:return Hl(e,n),e===null?(r=m_(n.type,null,n.pendingProps,null))?n.memoizedState=r:ge||(r=n.type,e=n.pendingProps,l=io(ce.current).createElement(r),l[ut]=n,l[xt]=e,pt(l,r,e),it(l),n.stateNode=l):n.memoizedState=m_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Cr(n),e===null&&ge&&(l=n.stateNode=h_(n.type,n.pendingProps,ce.current),ft=n,Jt=!0,c=Ie,vi(n.type)?(Sf=c,Ie=en(l.firstChild)):Ie=c),ht(e,n,n.pendingProps.children,r),Hl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ge&&((c=l=Ie)&&(l=zS(l,n.type,n.pendingProps,Jt),l!==null?(n.stateNode=l,ft=n,Ie=en(l.firstChild),Jt=!1,c=!0):c=!1),c||ri(n)),Cr(n),c=n.type,f=n.pendingProps,h=e!==null?e.memoizedProps:null,l=f.children,mf(c,f)?l=null:h!==null&&mf(c,h)&&(n.flags|=32),n.memoizedState!==null&&(c=pu(e,n,Kb,null,null,r),pa._currentValue=c),Hl(e,n),ht(e,n,l,r),n.child;case 6:return e===null&&ge&&((e=r=Ie)&&(r=US(r,n.pendingProps,Jt),r!==null?(n.stateNode=r,ft=n,Ie=null,e=!0):e=!1),e||ri(n)),null;case 13:return nm(e,n,r);case 4:return yt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ji(n,null,l,r):ht(e,n,l,r),n.child;case 11:return Qg(e,n,n.type,n.pendingProps,r);case 7:return ht(e,n,n.pendingProps,r),n.child;case 8:return ht(e,n,n.pendingProps.children,r),n.child;case 12:return ht(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ai(n,n.type,l.value),ht(e,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Wi(n),c=dt(c),l=l(c),n.flags|=1,ht(e,n,l,r),n.child;case 14:return Wg(e,n,n.type,n.pendingProps,r);case 15:return Xg(e,n,n.type,n.pendingProps,r);case 19:return sm(e,n,r);case 31:return sS(e,n,r);case 22:return Kg(e,n,r,n.pendingProps);case 24:return Wi(n),l=dt(Ze),e===null?(c=su(),c===null&&(c=De,f=nu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},au(n),ai(n,Ze,c)):((e.lanes&r)!==0&&(lu(e,n),Wr(n,null,null,r),Qr()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ai(n,Ze,l)):(l=f.cache,ai(n,Ze,l),l!==c.cache&&tu(n,[Ze],r,!0))),ht(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function kn(e){e.flags|=4}function Pu(e,n,r,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Mm())e.flags|=8192;else throw Zi=Cl,ru}else e.flags&=-16777217}function am(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(Mm())e.flags|=8192;else throw Zi=Cl,ru}function Pl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bh():536870912,e.lanes|=n,Ks|=n)}function ea(e,n){if(!ge)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function aS(e,n,r){var l=n.pendingProps;switch(Kc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Nn(Ze),Ge(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ls(n)?kn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jc())),ze(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(kn(n),f!==null?(ze(n),am(n,f)):(ze(n),Pu(n,c,null,l,r))):f?f!==e.memoizedState?(kn(n),ze(n),am(n,f)):(ze(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&kn(n),ze(n),Pu(n,c,e,l,r)),null;case 27:if($a(n),r=ce.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ze(n),null}e=Y.current,Ls(n)?Bp(n):(e=h_(c,l,r),n.stateNode=e,kn(n))}return ze(n),null;case 5:if($a(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ze(n),null}if(f=Y.current,Ls(n))Bp(n);else{var h=io(ce.current);switch(f){case 1:f=h.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=h.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=h.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?h.createElement(c,{is:l.is}):h.createElement(c)}}f[ut]=n,f[xt]=l;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)f.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=f;e:switch(pt(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&kn(n)}}return ze(n),Pu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=ce.current,Ls(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,c=ft,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ut]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||n_(e.nodeValue,r)),e||ri(n,!0)}else e=io(e).createTextNode(l),e[ut]=n,n.stateNode=e}return ze(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=Ls(n),r!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ut]=n}else Fi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),e=!1}else r=Jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Ht(n),n):(Ht(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ze(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ls(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ut]=n}else Fi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),c=!1}else c=Jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ht(n),n):(Ht(n),null)}return Ht(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Pl(n,n.updateQueue),ze(n),null);case 4:return Ge(),e===null&&ff(n.stateNode.containerInfo),ze(n),null;case 10:return Nn(n.type),ze(n),null;case 19:if(j(Ye),l=n.memoizedState,l===null)return ze(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)ea(l,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Nl(e),f!==null){for(n.flags|=128,ea(l,!1),e=f.updateQueue,n.updateQueue=e,Pl(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ip(r,e),r=r.sibling;return V(Ye,Ye.current&1|2),ge&&An(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&It()>Ql&&(n.flags|=128,c=!0,ea(l,!1),n.lanes=4194304)}else{if(!c)if(e=Nl(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Pl(n,e),ea(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!ge)return ze(n),null}else 2*It()-l.renderingStartTime>Ql&&r!==536870912&&(n.flags|=128,c=!0,ea(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=It(),e.sibling=null,r=Ye.current,V(Ye,c?r&1|2:r&1),ge&&An(n,l.treeForkCount),e):(ze(n),null);case 22:case 23:return Ht(n),fu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),r=n.updateQueue,r!==null&&Pl(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&j(Xi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Nn(Ze),ze(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function lS(e,n){switch(Kc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Nn(Ze),Ge(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $a(n),null;case 31:if(n.memoizedState!==null){if(Ht(n),n.alternate===null)throw Error(a(340));Fi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ht(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Fi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return j(Ye),null;case 4:return Ge(),null;case 10:return Nn(n.type),null;case 22:case 23:return Ht(n),fu(),e!==null&&j(Xi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Nn(Ze),null;case 25:return null;default:return null}}function lm(e,n){switch(Kc(n),n.tag){case 3:Nn(Ze),Ge();break;case 26:case 27:case 5:$a(n);break;case 4:Ge();break;case 31:n.memoizedState!==null&&Ht(n);break;case 13:Ht(n);break;case 19:j(Ye);break;case 10:Nn(n.type);break;case 22:case 23:Ht(n),fu(),e!==null&&j(Xi);break;case 24:Nn(Ze)}}function ta(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var f=r.create,h=r.inst;l=f(),h.destroy=l}r=r.next}while(r!==c)}}catch(y){Te(n,n.return,y)}}function di(e,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var h=l.inst,y=h.destroy;if(y!==void 0){h.destroy=void 0,c=n;var x=r,A=y;try{A()}catch(M){Te(c,x,M)}}}l=l.next}while(l!==f)}}catch(M){Te(n,n.return,M)}}function om(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Jp(n,r)}catch(l){Te(e,e.return,l)}}}function cm(e,n,r){r.props=es(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Te(e,n,l)}}function na(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(c){Te(e,n,c)}}function mn(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Te(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Te(e,n,c)}else r.current=null}function um(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Te(e,e.return,c)}}function Vu(e,n,r){try{var l=e.stateNode;NS(l,e.type,r,n),l[xt]=n}catch(c){Te(e,e.return,c)}}function fm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vi(e.type)||e.tag===4}function Gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Tn));else if(l!==4&&(l===27&&vi(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Yu(e,n,r),e=e.sibling;e!==null;)Yu(e,n,r),e=e.sibling}function Vl(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&vi(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Vl(e,n,r),e=e.sibling;e!==null;)Vl(e,n,r),e=e.sibling}function dm(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);pt(n,l,r),n[ut]=e,n[xt]=r}catch(f){Te(e,e.return,f)}}var In=!1,et=!1,Fu=!1,hm=typeof WeakSet=="function"?WeakSet:Set,st=null;function oS(e,n){if(e=e.containerInfo,pf=uo,e=Cp(e),Bc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var h=0,y=-1,x=-1,A=0,M=0,U=e,R=null;t:for(;;){for(var O;U!==r||c!==0&&U.nodeType!==3||(y=h+c),U!==f||l!==0&&U.nodeType!==3||(x=h+l),U.nodeType===3&&(h+=U.nodeValue.length),(O=U.firstChild)!==null;)R=U,U=O;for(;;){if(U===e)break t;if(R===r&&++A===c&&(y=h),R===f&&++M===l&&(x=h),(O=U.nextSibling)!==null)break;U=R,R=U.parentNode}U=O}r=y===-1||x===-1?null:{start:y,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(gf={focusedElem:e,selectionRange:r},uo=!1,st=n;st!==null;)if(n=st,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,st=e;else for(;st!==null;){switch(n=st,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var G=es(r.type,c);e=l.getSnapshotBeforeUpdate(G,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(K){Te(r,r.return,K)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)yf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,st=e;break}st=n.return}}function pm(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Un(e,r),l&4&&ta(5,r);break;case 1:if(Un(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(h){Te(r,r.return,h)}else{var c=es(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Te(r,r.return,h)}}l&64&&om(r),l&512&&na(r,r.return);break;case 3:if(Un(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Jp(e,n)}catch(h){Te(r,r.return,h)}}break;case 27:n===null&&l&4&&dm(r);case 26:case 5:Un(e,r),n===null&&l&4&&um(r),l&512&&na(r,r.return);break;case 12:Un(e,r);break;case 31:Un(e,r),l&4&&_m(e,r);break;case 13:Un(e,r),l&4&&ym(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=_S.bind(null,r),LS(e,r))));break;case 22:if(l=r.memoizedState!==null||In,!l){n=n!==null&&n.memoizedState!==null||et,c=In;var f=et;In=l,(et=n)&&!f?Ln(e,r,(r.subtreeFlags&8772)!==0):Un(e,r),In=c,et=f}break;case 30:break;default:Un(e,r)}}function gm(e){var n=e.alternate;n!==null&&(e.alternate=null,gm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&xc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,Tt=!1;function zn(e,n,r){for(r=r.child;r!==null;)mm(e,n,r),r=r.sibling}function mm(e,n,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(wr,r)}catch{}switch(r.tag){case 26:et||mn(r,n),zn(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:et||mn(r,n);var l=je,c=Tt;vi(r.type)&&(je=r.stateNode,Tt=!1),zn(e,n,r),fa(r.stateNode),je=l,Tt=c;break;case 5:et||mn(r,n);case 6:if(l=je,c=Tt,je=null,zn(e,n,r),je=l,Tt=c,je!==null)if(Tt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(r.stateNode)}catch(f){Te(r,n,f)}else try{je.removeChild(r.stateNode)}catch(f){Te(r,n,f)}break;case 18:je!==null&&(Tt?(e=je,o_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),sr(e)):o_(je,r.stateNode));break;case 4:l=je,c=Tt,je=r.stateNode.containerInfo,Tt=!0,zn(e,n,r),je=l,Tt=c;break;case 0:case 11:case 14:case 15:di(2,r,n),et||di(4,r,n),zn(e,n,r);break;case 1:et||(mn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&cm(r,n,l)),zn(e,n,r);break;case 21:zn(e,n,r);break;case 22:et=(l=et)||r.memoizedState!==null,zn(e,n,r),et=l;break;default:zn(e,n,r)}}function _m(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{sr(e)}catch(r){Te(n,n.return,r)}}}function ym(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{sr(e)}catch(r){Te(n,n.return,r)}}function cS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hm),n;default:throw Error(a(435,e.tag))}}function Gl(e,n){var r=cS(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var c=yS.bind(null,e,l);l.then(c,c)}})}function Ct(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=e,h=n,y=h;e:for(;y!==null;){switch(y.tag){case 27:if(vi(y.type)){je=y.stateNode,Tt=!1;break e}break;case 5:je=y.stateNode,Tt=!1;break e;case 3:case 4:je=y.stateNode.containerInfo,Tt=!0;break e}y=y.return}if(je===null)throw Error(a(160));mm(f,h,c),je=null,Tt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vm(n,e),n=n.sibling}var an=null;function vm(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(n,e),wt(e),l&4&&(di(3,e,e.return),ta(3,e),di(5,e,e.return));break;case 1:Ct(n,e),wt(e),l&512&&(et||r===null||mn(r,r.return)),l&64&&In&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=an;if(Ct(n,e),wt(e),l&512&&(et||r===null||mn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Nr]||f[ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),pt(f,l,r),f[ut]=e,it(f),l=f;break e;case"link":var h=v_("link","href",c).get(l+(r.href||""));if(h){for(var y=0;y<h.length;y++)if(f=h[y],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){h.splice(y,1);break t}}f=c.createElement(l),pt(f,l,r),c.head.appendChild(f);break;case"meta":if(h=v_("meta","content",c).get(l+(r.content||""))){for(y=0;y<h.length;y++)if(f=h[y],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){h.splice(y,1);break t}}f=c.createElement(l),pt(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ut]=e,it(f),l=f}e.stateNode=l}else b_(c,e.type,e.stateNode);else e.stateNode=y_(c,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?b_(c,e.type,e.stateNode):y_(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Vu(e,e.memoizedProps,r.memoizedProps)}break;case 27:Ct(n,e),wt(e),l&512&&(et||r===null||mn(r,r.return)),r!==null&&l&4&&Vu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Ct(n,e),wt(e),l&512&&(et||r===null||mn(r,r.return)),e.flags&32){c=e.stateNode;try{As(c,"")}catch(G){Te(e,e.return,G)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Vu(e,c,r!==null?r.memoizedProps:c)),l&1024&&(Fu=!0);break;case 6:if(Ct(n,e),wt(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(G){Te(e,e.return,G)}}break;case 3:if(ao=null,c=an,an=so(n.containerInfo),Ct(n,e),an=c,wt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{sr(n.containerInfo)}catch(G){Te(e,e.return,G)}Fu&&(Fu=!1,bm(e));break;case 4:l=an,an=so(e.stateNode.containerInfo),Ct(n,e),wt(e),an=l;break;case 12:Ct(n,e),wt(e);break;case 31:Ct(n,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gl(e,l)));break;case 13:Ct(n,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Fl=It()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gl(e,l)));break;case 22:c=e.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,A=In,M=et;if(In=A||c,et=M||x,Ct(n,e),et=M,In=A,wt(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||x||In||et||ts(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,c)h=f.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=x.stateNode;var U=x.memoizedProps.style,R=U!=null&&U.hasOwnProperty("display")?U.display:null;y.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(G){Te(x,x.return,G)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(G){Te(x,x.return,G)}}}else if(n.tag===18){if(r===null){x=n;try{var O=x.stateNode;c?c_(O,!0):c_(x.stateNode,!1)}catch(G){Te(x,x.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Gl(e,r))));break;case 19:Ct(n,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gl(e,l)));break;case 30:break;case 21:break;default:Ct(n,e),wt(e)}}function wt(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(fm(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Gu(e);Vl(e,f,c);break;case 5:var h=r.stateNode;r.flags&32&&(As(h,""),r.flags&=-33);var y=Gu(e);Vl(e,y,h);break;case 3:case 4:var x=r.stateNode.containerInfo,A=Gu(e);Yu(e,A,x);break;default:throw Error(a(161))}}catch(M){Te(e,e.return,M)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function bm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;bm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Un(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pm(e,n.alternate,n),n=n.sibling}function ts(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:di(4,n,n.return),ts(n);break;case 1:mn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&cm(n,n.return,r),ts(n);break;case 27:fa(n.stateNode);case 26:case 5:mn(n,n.return),ts(n);break;case 22:n.memoizedState===null&&ts(n);break;case 30:ts(n);break;default:ts(n)}e=e.sibling}}function Ln(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,h=f.flags;switch(f.tag){case 0:case 11:case 15:Ln(c,f,r),ta(4,f);break;case 1:if(Ln(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){Te(l,l.return,A)}if(l=f,c=l.updateQueue,c!==null){var y=l.stateNode;try{var x=c.shared.hiddenCallbacks;if(x!==null)for(c.shared.hiddenCallbacks=null,c=0;c<x.length;c++)Zp(x[c],y)}catch(A){Te(l,l.return,A)}}r&&h&64&&om(f),na(f,f.return);break;case 27:dm(f);case 26:case 5:Ln(c,f,r),r&&l===null&&h&4&&um(f),na(f,f.return);break;case 12:Ln(c,f,r);break;case 31:Ln(c,f,r),r&&h&4&&_m(c,f);break;case 13:Ln(c,f,r),r&&h&4&&ym(c,f);break;case 22:f.memoizedState===null&&Ln(c,f,r),na(f,f.return);break;case 30:break;default:Ln(c,f,r)}n=n.sibling}}function Qu(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Pr(r))}function Wu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pr(e))}function ln(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sm(e,n,r,l),n=n.sibling}function Sm(e,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ln(e,n,r,l),c&2048&&ta(9,n);break;case 1:ln(e,n,r,l);break;case 3:ln(e,n,r,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pr(e)));break;case 12:if(c&2048){ln(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,h=f.id,y=f.onPostCommit;typeof y=="function"&&y(h,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Te(n,n.return,x)}}else ln(e,n,r,l);break;case 31:ln(e,n,r,l);break;case 13:ln(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,h=n.alternate,n.memoizedState!==null?f._visibility&2?ln(e,n,r,l):ia(e,n):f._visibility&2?ln(e,n,r,l):(f._visibility|=2,Qs(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Qu(h,n);break;case 24:ln(e,n,r,l),c&2048&&Wu(n.alternate,n);break;default:ln(e,n,r,l)}}function Qs(e,n,r,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,h=n,y=r,x=l,A=h.flags;switch(h.tag){case 0:case 11:case 15:Qs(f,h,y,x,c),ta(8,h);break;case 23:break;case 22:var M=h.stateNode;h.memoizedState!==null?M._visibility&2?Qs(f,h,y,x,c):ia(f,h):(M._visibility|=2,Qs(f,h,y,x,c)),c&&A&2048&&Qu(h.alternate,h);break;case 24:Qs(f,h,y,x,c),c&&A&2048&&Wu(h.alternate,h);break;default:Qs(f,h,y,x,c)}n=n.sibling}}function ia(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,c=l.flags;switch(l.tag){case 22:ia(r,l),c&2048&&Qu(l.alternate,l);break;case 24:ia(r,l),c&2048&&Wu(l.alternate,l);break;default:ia(r,l)}n=n.sibling}}var sa=8192;function Ws(e,n,r){if(e.subtreeFlags&sa)for(e=e.child;e!==null;)xm(e,n,r),e=e.sibling}function xm(e,n,r){switch(e.tag){case 26:Ws(e,n,r),e.flags&sa&&e.memoizedState!==null&&XS(r,an,e.memoizedState,e.memoizedProps);break;case 5:Ws(e,n,r);break;case 3:case 4:var l=an;an=so(e.stateNode.containerInfo),Ws(e,n,r),an=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=sa,sa=16777216,Ws(e,n,r),sa=l):Ws(e,n,r));break;default:Ws(e,n,r)}}function Em(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ra(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];st=l,Cm(l,e)}Em(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tm(e),e=e.sibling}function Tm(e){switch(e.tag){case 0:case 11:case 15:ra(e),e.flags&2048&&di(9,e,e.return);break;case 3:ra(e);break;case 12:ra(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yl(e)):ra(e);break;default:ra(e)}}function Yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];st=l,Cm(l,e)}Em(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:di(8,n,n.return),Yl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Yl(n));break;default:Yl(n)}e=e.sibling}}function Cm(e,n){for(;st!==null;){var r=st;switch(r.tag){case 0:case 11:case 15:di(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,st=l;else e:for(r=e;st!==null;){l=st;var c=l.sibling,f=l.return;if(gm(l),l===r){st=null;break e}if(c!==null){c.return=f,st=c;break e}st=f}}}var uS={getCacheForType:function(e){var n=dt(Ze),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return dt(Ze).controller.signal}},fS=typeof WeakMap=="function"?WeakMap:Map,ve=0,De=null,ue=null,he=0,Ee=0,qt=null,hi=!1,Xs=!1,Xu=!1,jn=0,He=0,pi=0,ns=0,Ku=0,Pt=0,Ks=0,aa=null,At=null,Zu=!1,Fl=0,wm=0,Ql=1/0,Wl=null,gi=null,tt=0,mi=null,Zs=null,Bn=0,Ju=0,$u=null,Am=null,la=0,ef=null;function Vt(){return(ve&2)!==0&&he!==0?he&-he:k.T!==null?lf():Vh()}function Rm(){if(Pt===0)if((he&536870912)===0||ge){var e=nl;nl<<=1,(nl&3932160)===0&&(nl=262144),Pt=e}else Pt=536870912;return e=Bt.current,e!==null&&(e.flags|=32),Pt}function Rt(e,n,r){(e===De&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Js(e,0),_i(e,he,Pt,!1)),Rr(e,r),((ve&2)===0||e!==De)&&(e===De&&((ve&2)===0&&(ns|=r),He===4&&_i(e,he,Pt,!1)),_n(e))}function Nm(e,n,r){if((ve&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Ar(e,n),c=l?pS(e,n):nf(e,n,!0),f=l;do{if(c===0){Xs&&!l&&_i(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!dS(r)){c=nf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){n=h;e:{var y=e;c=aa;var x=y.current.memoizedState.isDehydrated;if(x&&(Js(y,h).flags|=256),h=nf(y,h,!1),h!==2){if(Xu&&!x){y.errorRecoveryDisabledLanes|=f,ns|=f,c=4;break e}f=At,At=c,f!==null&&(At===null?At=f:At.push.apply(At,f))}c=h}if(f=!1,c!==2)continue}}if(c===1){Js(e,0),_i(e,n,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:_i(l,n,Pt,!hi);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Fl+300-It(),10<c)){if(_i(l,n,Pt,!hi),sl(l,0,!0)!==0)break e;Bn=n,l.timeoutHandle=a_(Om.bind(null,l,r,At,Wl,Zu,n,Pt,ns,Ks,hi,f,"Throttled",-0,0),c);break e}Om(l,r,At,Wl,Zu,n,Pt,ns,Ks,hi,f,null,-0,0)}}break}while(!0);_n(e)}function Om(e,n,r,l,c,f,h,y,x,A,M,U,R,O){if(e.timeoutHandle=-1,U=n.subtreeFlags,U&8192||(U&16785408)===16785408){U={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},xm(n,f,U);var G=(f&62914560)===f?Fl-It():(f&4194048)===f?wm-It():0;if(G=KS(U,G),G!==null){Bn=f,e.cancelPendingCommit=G(jm.bind(null,e,n,f,r,l,c,h,y,x,M,U,null,R,O)),_i(e,f,h,!A);return}}jm(e,n,f,r,l,c,h,y,x)}function dS(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!Lt(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _i(e,n,r,l){n&=~Ku,n&=~ns,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-Ut(c),h=1<<f;l[f]=-1,c&=~h}r!==0&&Hh(e,r,n)}function Xl(){return(ve&6)===0?(oa(0),!1):!0}function tf(){if(ue!==null){if(Ee===0)var e=ue.return;else e=ue,Rn=Qi=null,_u(e),Ps=null,Gr=0,e=ue;for(;e!==null;)lm(e.alternate,e),e=e.return;ue=null}}function Js(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,MS(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Bn=0,tf(),De=e,ue=r=wn(e.current,null),he=n,Ee=0,qt=null,hi=!1,Xs=Ar(e,n),Xu=!1,Ks=Pt=Ku=ns=pi=He=0,At=aa=null,Zu=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-Ut(l),f=1<<c;n|=e[c],l&=~f}return jn=n,ml(),r}function Dm(e,n){ie=null,k.H=Jr,n===qs||n===Tl?(n=Qp(),Ee=3):n===ru?(n=Qp(),Ee=4):Ee=n===ku?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qt=n,ue===null&&(He=1,jl(e,Xt(n,e.current)))}function Mm(){var e=Bt.current;return e===null?!0:(he&4194048)===he?$t===null:(he&62914560)===he||(he&536870912)!==0?e===$t:!1}function km(){var e=k.H;return k.H=Jr,e===null?Jr:e}function Im(){var e=k.A;return k.A=uS,e}function Kl(){He=4,hi||(he&4194048)!==he&&Bt.current!==null||(Xs=!0),(pi&134217727)===0&&(ns&134217727)===0||De===null||_i(De,he,Pt,!1)}function nf(e,n,r){var l=ve;ve|=2;var c=km(),f=Im();(De!==e||he!==n)&&(Wl=null,Js(e,n)),n=!1;var h=He;e:do try{if(Ee!==0&&ue!==null){var y=ue,x=qt;switch(Ee){case 8:tf(),h=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(n=!0);var A=Ee;if(Ee=0,qt=null,$s(e,y,x,A),r&&Xs){h=0;break e}break;default:A=Ee,Ee=0,qt=null,$s(e,y,x,A)}}hS(),h=He;break}catch(M){Dm(e,M)}while(!0);return n&&e.shellSuspendCounter++,Rn=Qi=null,ve=l,k.H=c,k.A=f,ue===null&&(De=null,he=0,ml()),h}function hS(){for(;ue!==null;)zm(ue)}function pS(e,n){var r=ve;ve|=2;var l=km(),c=Im();De!==e||he!==n?(Wl=null,Ql=It()+500,Js(e,n)):Xs=Ar(e,n);e:do try{if(Ee!==0&&ue!==null){n=ue;var f=qt;t:switch(Ee){case 1:Ee=0,qt=null,$s(e,n,f,1);break;case 2:case 9:if(Yp(f)){Ee=0,qt=null,Um(n);break}n=function(){Ee!==2&&Ee!==9||De!==e||(Ee=7),_n(e)},f.then(n,n);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Yp(f)?(Ee=0,qt=null,Um(n)):(Ee=0,qt=null,$s(e,n,f,7));break;case 5:var h=null;switch(ue.tag){case 26:h=ue.memoizedState;case 5:case 27:var y=ue;if(h?S_(h):y.stateNode.complete){Ee=0,qt=null;var x=y.sibling;if(x!==null)ue=x;else{var A=y.return;A!==null?(ue=A,Zl(A)):ue=null}break t}}Ee=0,qt=null,$s(e,n,f,5);break;case 6:Ee=0,qt=null,$s(e,n,f,6);break;case 8:tf(),He=6;break e;default:throw Error(a(462))}}gS();break}catch(M){Dm(e,M)}while(!0);return Rn=Qi=null,k.H=l,k.A=c,ve=r,ue!==null?0:(De=null,he=0,ml(),He)}function gS(){for(;ue!==null&&!j1();)zm(ue)}function zm(e){var n=rm(e.alternate,e,jn);e.memoizedProps=e.pendingProps,n===null?Zl(e):ue=n}function Um(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=$g(r,n,n.pendingProps,n.type,void 0,he);break;case 11:n=$g(r,n,n.pendingProps,n.type.render,n.ref,he);break;case 5:_u(n);default:lm(r,n),n=ue=Ip(n,jn),n=rm(r,n,jn)}e.memoizedProps=e.pendingProps,n===null?Zl(e):ue=n}function $s(e,n,r,l){Rn=Qi=null,_u(n),Ps=null,Gr=0;var c=n.return;try{if(iS(e,c,n,r,he)){He=1,jl(e,Xt(r,e.current)),ue=null;return}}catch(f){if(c!==null)throw ue=c,f;He=1,jl(e,Xt(r,e.current)),ue=null;return}n.flags&32768?(ge||l===1?e=!0:Xs||(he&536870912)!==0?e=!1:(hi=e=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lm(n,e)):Zl(n)}function Zl(e){var n=e;do{if((n.flags&32768)!==0){Lm(n,hi);return}e=n.return;var r=aS(n.alternate,n,jn);if(r!==null){ue=r;return}if(n=n.sibling,n!==null){ue=n;return}ue=n=e}while(n!==null);He===0&&(He=5)}function Lm(e,n){do{var r=lS(e.alternate,e);if(r!==null){r.flags&=32767,ue=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){ue=e;return}ue=e=r}while(e!==null);He=6,ue=null}function jm(e,n,r,l,c,f,h,y,x){e.cancelPendingCommit=null;do Jl();while(tt!==0);if((ve&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gc,W1(e,r,f,h,y,x),e===De&&(ue=De=null,he=0),Zs=n,mi=e,Bn=r,Ju=f,$u=c,Am=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vS(el,function(){return Vm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,c=H.p,H.p=2,h=ve,ve|=4;try{oS(e,n,r)}finally{ve=h,H.p=c,k.T=l}}tt=1,Bm(),Hm(),qm()}}function Bm(){if(tt===1){tt=0;var e=mi,n=Zs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=k.T,k.T=null;var l=H.p;H.p=2;var c=ve;ve|=4;try{vm(n,e);var f=gf,h=Cp(e.containerInfo),y=f.focusedElem,x=f.selectionRange;if(h!==y&&y&&y.ownerDocument&&Tp(y.ownerDocument.documentElement,y)){if(x!==null&&Bc(y)){var A=x.start,M=x.end;if(M===void 0&&(M=A),"selectionStart"in y)y.selectionStart=A,y.selectionEnd=Math.min(M,y.value.length);else{var U=y.ownerDocument||document,R=U&&U.defaultView||window;if(R.getSelection){var O=R.getSelection(),G=y.textContent.length,K=Math.min(x.start,G),Re=x.end===void 0?K:Math.min(x.end,G);!O.extend&&K>Re&&(h=Re,Re=K,K=h);var C=Ep(y,K),E=Ep(y,Re);if(C&&E&&(O.rangeCount!==1||O.anchorNode!==C.node||O.anchorOffset!==C.offset||O.focusNode!==E.node||O.focusOffset!==E.offset)){var w=U.createRange();w.setStart(C.node,C.offset),O.removeAllRanges(),K>Re?(O.addRange(w),O.extend(E.node,E.offset)):(w.setEnd(E.node,E.offset),O.addRange(w))}}}}for(U=[],O=y;O=O.parentNode;)O.nodeType===1&&U.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<U.length;y++){var z=U[y];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}uo=!!pf,gf=pf=null}finally{ve=c,H.p=l,k.T=r}}e.current=n,tt=2}}function Hm(){if(tt===2){tt=0;var e=mi,n=Zs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=k.T,k.T=null;var l=H.p;H.p=2;var c=ve;ve|=4;try{pm(e,n.alternate,n)}finally{ve=c,H.p=l,k.T=r}}tt=3}}function qm(){if(tt===4||tt===3){tt=0,B1();var e=mi,n=Zs,r=Bn,l=Am;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tt=5:(tt=0,Zs=mi=null,Pm(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(gi=null),bc(r),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(wr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,c=H.p,H.p=2,k.T=null;try{for(var f=e.onRecoverableError,h=0;h<l.length;h++){var y=l[h];f(y.value,{componentStack:y.stack})}}finally{k.T=n,H.p=c}}(Bn&3)!==0&&Jl(),_n(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===ef?la++:(la=0,ef=e):la=0,oa(0)}}function Pm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pr(n)))}function Jl(){return Bm(),Hm(),qm(),Vm()}function Vm(){if(tt!==5)return!1;var e=mi,n=Ju;Ju=0;var r=bc(Bn),l=k.T,c=H.p;try{H.p=32>r?32:r,k.T=null,r=$u,$u=null;var f=mi,h=Bn;if(tt=0,Zs=mi=null,Bn=0,(ve&6)!==0)throw Error(a(331));var y=ve;if(ve|=4,Tm(f.current),Sm(f,f.current,h,r),ve=y,oa(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(wr,f)}catch{}return!0}finally{H.p=c,k.T=l,Pm(e,n)}}function Gm(e,n,r){n=Xt(r,n),n=Mu(e.stateNode,n,2),e=ci(e,n,2),e!==null&&(Rr(e,2),_n(e))}function Te(e,n,r){if(e.tag===3)Gm(e,e,r);else for(;n!==null;){if(n.tag===3){Gm(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gi===null||!gi.has(l))){e=Xt(r,e),r=Yg(2),l=ci(n,r,2),l!==null&&(Fg(r,l,n,e),Rr(l,2),_n(l));break}}n=n.return}}function sf(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new fS;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Xu=!0,c.add(r),e=mS.bind(null,e,n,r),n.then(e,e))}function mS(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,De===e&&(he&r)===r&&(He===4||He===3&&(he&62914560)===he&&300>It()-Fl?(ve&2)===0&&Js(e,0):Ku|=r,Ks===he&&(Ks=0)),_n(e)}function Ym(e,n){n===0&&(n=Bh()),e=Gi(e,n),e!==null&&(Rr(e,n),_n(e))}function _S(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ym(e,r)}function yS(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Ym(e,r)}function vS(e,n){return mc(e,n)}var $l=null,er=null,rf=!1,eo=!1,af=!1,yi=0;function _n(e){e!==er&&e.next===null&&(er===null?$l=er=e:er=er.next=e),eo=!0,rf||(rf=!0,SS())}function oa(e,n){if(!af&&eo){af=!0;do for(var r=!1,l=$l;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var h=l.suspendedLanes,y=l.pingedLanes;f=(1<<31-Ut(42|e)+1)-1,f&=c&~(h&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Xm(l,f))}else f=he,f=sl(l,l===De?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ar(l,f)||(r=!0,Xm(l,f));l=l.next}while(r);af=!1}}function bS(){Fm()}function Fm(){eo=rf=!1;var e=0;yi!==0&&DS()&&(e=yi);for(var n=It(),r=null,l=$l;l!==null;){var c=l.next,f=Qm(l,n);f===0?(l.next=null,r===null?$l=c:r.next=c,c===null&&(er=r)):(r=l,(e!==0||(f&3)!==0)&&(eo=!0)),l=c}tt!==0&&tt!==5||oa(e),yi!==0&&(yi=0)}function Qm(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var h=31-Ut(f),y=1<<h,x=c[h];x===-1?((y&r)===0||(y&l)!==0)&&(c[h]=Q1(y,n)):x<=n&&(e.expiredLanes|=y),f&=~y}if(n=De,r=he,r=sl(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&_c(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ar(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&_c(l),bc(r)){case 2:case 8:r=Lh;break;case 32:r=el;break;case 268435456:r=jh;break;default:r=el}return l=Wm.bind(null,e),r=mc(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&_c(l),e.callbackPriority=2,e.callbackNode=null,2}function Wm(e,n){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Jl()&&e.callbackNode!==r)return null;var l=he;return l=sl(e,e===De?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Nm(e,l,n),Qm(e,It()),e.callbackNode!=null&&e.callbackNode===r?Wm.bind(null,e):null)}function Xm(e,n){if(Jl())return null;Nm(e,n,!0)}function SS(){kS(function(){(ve&6)!==0?mc(Uh,bS):Fm()})}function lf(){if(yi===0){var e=Bs;e===0&&(e=tl,tl<<=1,(tl&261888)===0&&(tl=256)),yi=e}return yi}function Km(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ol(""+e)}function Zm(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function xS(e,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Km((c[xt]||null).action),h=l.submitter;h&&(n=(n=h[xt]||null)?Km(n.formAction):h.getAttribute("formAction"),n!==null&&(f=n,h=null));var y=new dl("action","action",null,l,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yi!==0){var x=h?Zm(c,h):new FormData(c);wu(r,{pending:!0,data:x,method:c.method,action:f},null,x)}}else typeof f=="function"&&(y.preventDefault(),x=h?Zm(c,h):new FormData(c),wu(r,{pending:!0,data:x,method:c.method,action:f},f,x))},currentTarget:c}]})}}for(var of=0;of<Vc.length;of++){var cf=Vc[of],ES=cf.toLowerCase(),TS=cf[0].toUpperCase()+cf.slice(1);rn(ES,"on"+TS)}rn(Rp,"onAnimationEnd"),rn(Np,"onAnimationIteration"),rn(Op,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(Hb,"onTransitionRun"),rn(qb,"onTransitionStart"),rn(Pb,"onTransitionCancel"),rn(Dp,"onTransitionEnd"),Cs("onMouseEnter",["mouseout","mouseover"]),Cs("onMouseLeave",["mouseout","mouseover"]),Cs("onPointerEnter",["pointerout","pointerover"]),Cs("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ca));function Jm(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var h=l.length-1;0<=h;h--){var y=l[h],x=y.instance,A=y.currentTarget;if(y=y.listener,x!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=A;try{f(c)}catch(M){gl(M)}c.currentTarget=null,f=x}else for(h=0;h<l.length;h++){if(y=l[h],x=y.instance,A=y.currentTarget,y=y.listener,x!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=A;try{f(c)}catch(M){gl(M)}c.currentTarget=null,f=x}}}}function fe(e,n){var r=n[Sc];r===void 0&&(r=n[Sc]=new Set);var l=e+"__bubble";r.has(l)||($m(n,e,2,!1),r.add(l))}function uf(e,n,r){var l=0;n&&(l|=4),$m(r,e,l,n)}var to="_reactListening"+Math.random().toString(36).slice(2);function ff(e){if(!e[to]){e[to]=!0,Fh.forEach(function(r){r!=="selectionchange"&&(CS.has(r)||uf(r,!1,e),uf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[to]||(n[to]=!0,uf("selectionchange",!1,n))}}function $m(e,n,r,l){switch(R_(n)){case 2:var c=$S;break;case 8:c=ex;break;default:c=wf}r=c.bind(null,n,r,e),c=void 0,!Oc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function df(e,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var y=l.stateNode.containerInfo;if(y===c)break;if(h===4)for(h=l.return;h!==null;){var x=h.tag;if((x===3||x===4)&&h.stateNode.containerInfo===c)return;h=h.return}for(;y!==null;){if(h=xs(y),h===null)return;if(x=h.tag,x===5||x===6||x===26||x===27){l=f=h;continue e}y=y.parentNode}}l=l.return}sp(function(){var A=f,M=Rc(r),U=[];e:{var R=Mp.get(e);if(R!==void 0){var O=dl,G=e;switch(e){case"keypress":if(ul(r)===0)break e;case"keydown":case"keyup":O=yb;break;case"focusin":G="focus",O=Ic;break;case"focusout":G="blur",O=Ic;break;case"beforeblur":case"afterblur":O=Ic;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=ab;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Sb;break;case Rp:case Np:case Op:O=cb;break;case Dp:O=Eb;break;case"scroll":case"scrollend":O=sb;break;case"wheel":O=Cb;break;case"copy":case"cut":case"paste":O=fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=cp;break;case"toggle":case"beforetoggle":O=Ab}var K=(n&4)!==0,Re=!K&&(e==="scroll"||e==="scrollend"),C=K?R!==null?R+"Capture":null:R;K=[];for(var E=A,w;E!==null;){var z=E;if(w=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||w===null||C===null||(z=Dr(E,C),z!=null&&K.push(ua(E,z,w))),Re)break;E=E.return}0<K.length&&(R=new O(R,G,null,r,M),U.push({event:R,listeners:K}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",R&&r!==Ac&&(G=r.relatedTarget||r.fromElement)&&(xs(G)||G[Ss]))break e;if((O||R)&&(R=M.window===M?M:(R=M.ownerDocument)?R.defaultView||R.parentWindow:window,O?(G=r.relatedTarget||r.toElement,O=A,G=G?xs(G):null,G!==null&&(Re=u(G),K=G.tag,G!==Re||K!==5&&K!==27&&K!==6)&&(G=null)):(O=null,G=A),O!==G)){if(K=lp,z="onMouseLeave",C="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(K=cp,z="onPointerLeave",C="onPointerEnter",E="pointer"),Re=O==null?R:Or(O),w=G==null?R:Or(G),R=new K(z,E+"leave",O,r,M),R.target=Re,R.relatedTarget=w,z=null,xs(M)===A&&(K=new K(C,E+"enter",G,r,M),K.target=w,K.relatedTarget=Re,z=K),Re=z,O&&G)t:{for(K=wS,C=O,E=G,w=0,z=C;z;z=K(z))w++;z=0;for(var W=E;W;W=K(W))z++;for(;0<w-z;)C=K(C),w--;for(;0<z-w;)E=K(E),z--;for(;w--;){if(C===E||E!==null&&C===E.alternate){K=C;break t}C=K(C),E=K(E)}K=null}else K=null;O!==null&&e_(U,R,O,K,!1),G!==null&&Re!==null&&e_(U,Re,G,K,!0)}}e:{if(R=A?Or(A):window,O=R.nodeName&&R.nodeName.toLowerCase(),O==="select"||O==="input"&&R.type==="file")var _e=_p;else if(gp(R))if(yp)_e=Lb;else{_e=zb;var F=Ib}else O=R.nodeName,!O||O.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?A&&wc(A.elementType)&&(_e=_p):_e=Ub;if(_e&&(_e=_e(e,A))){mp(U,_e,r,M);break e}F&&F(e,R,A),e==="focusout"&&A&&R.type==="number"&&A.memoizedProps.value!=null&&Cc(R,"number",R.value)}switch(F=A?Or(A):window,e){case"focusin":(gp(F)||F.contentEditable==="true")&&(Ds=F,Hc=A,Br=null);break;case"focusout":Br=Hc=Ds=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,wp(U,r,M);break;case"selectionchange":if(Bb)break;case"keydown":case"keyup":wp(U,r,M)}var re;if(Uc)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Os?hp(e,r)&&(pe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(pe="onCompositionStart");pe&&(up&&r.locale!=="ko"&&(Os||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Os&&(re=rp()):(ni=M,Dc="value"in ni?ni.value:ni.textContent,Os=!0)),F=no(A,pe),0<F.length&&(pe=new op(pe,e,null,r,M),U.push({event:pe,listeners:F}),re?pe.data=re:(re=pp(r),re!==null&&(pe.data=re)))),(re=Nb?Ob(e,r):Db(e,r))&&(pe=no(A,"onBeforeInput"),0<pe.length&&(F=new op("onBeforeInput","beforeinput",null,r,M),U.push({event:F,listeners:pe}),F.data=re)),xS(U,e,A,r,M)}Jm(U,n)})}function ua(e,n,r){return{instance:e,listener:n,currentTarget:r}}function no(e,n){for(var r=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Dr(e,r),c!=null&&l.unshift(ua(e,c,f)),c=Dr(e,n),c!=null&&l.push(ua(e,c,f))),e.tag===3)return l;e=e.return}return[]}function wS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function e_(e,n,r,l,c){for(var f=n._reactName,h=[];r!==null&&r!==l;){var y=r,x=y.alternate,A=y.stateNode;if(y=y.tag,x!==null&&x===l)break;y!==5&&y!==26&&y!==27||A===null||(x=A,c?(A=Dr(r,f),A!=null&&h.unshift(ua(r,A,x))):c||(A=Dr(r,f),A!=null&&h.push(ua(r,A,x)))),r=r.return}h.length!==0&&e.push({event:n,listeners:h})}var AS=/\r\n?/g,RS=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(AS,`
`).replace(RS,"")}function n_(e,n){return n=t_(n),t_(e)===n}function Ae(e,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||As(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&As(e,""+l);break;case"className":al(e,"class",l);break;case"tabIndex":al(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":al(e,r,l);break;case"style":np(e,l,f);break;case"data":if(n!=="object"){al(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ol(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ae(e,n,"name",c.name,c,null),Ae(e,n,"formEncType",c.formEncType,c,null),Ae(e,n,"formMethod",c.formMethod,c,null),Ae(e,n,"formTarget",c.formTarget,c,null)):(Ae(e,n,"encType",c.encType,c,null),Ae(e,n,"method",c.method,c,null),Ae(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ol(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Tn);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=ol(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":fe("beforetoggle",e),fe("toggle",e),rl(e,"popover",l);break;case"xlinkActuate":En(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":En(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":En(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":En(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":En(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":En(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":En(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":En(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":En(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":rl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=nb.get(r)||r,rl(e,r,l))}}function hf(e,n,r,l,c,f){switch(r){case"style":np(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof l=="string"?As(e,l):(typeof l=="number"||typeof l=="bigint")&&As(e,""+l);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qh.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[xt]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,c);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):rl(e,r,l)}}}function pt(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var h=r[f];if(h!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ae(e,n,f,h,r,null)}}c&&Ae(e,n,"srcSet",r.srcSet,r,null),l&&Ae(e,n,"src",r.src,r,null);return;case"input":fe("invalid",e);var y=f=h=c=null,x=null,A=null;for(l in r)if(r.hasOwnProperty(l)){var M=r[l];if(M!=null)switch(l){case"name":c=M;break;case"type":h=M;break;case"checked":x=M;break;case"defaultChecked":A=M;break;case"value":f=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(137,n));break;default:Ae(e,n,l,M,r,null)}}Jh(e,f,y,x,A,h,c,!1);return;case"select":fe("invalid",e),l=h=f=null;for(c in r)if(r.hasOwnProperty(c)&&(y=r[c],y!=null))switch(c){case"value":f=y;break;case"defaultValue":h=y;break;case"multiple":l=y;default:Ae(e,n,c,y,r,null)}n=f,r=h,e.multiple=!!l,n!=null?ws(e,!!l,n,!1):r!=null&&ws(e,!!l,r,!0);return;case"textarea":fe("invalid",e),f=c=l=null;for(h in r)if(r.hasOwnProperty(h)&&(y=r[h],y!=null))switch(h){case"value":l=y;break;case"defaultValue":c=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:Ae(e,n,h,y,r,null)}ep(e,l,c,f);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(l=r[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ae(e,n,x,l,r,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(l=0;l<ca.length;l++)fe(ca[l],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in r)if(r.hasOwnProperty(A)&&(l=r[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ae(e,n,A,l,r,null)}return;default:if(wc(n)){for(M in r)r.hasOwnProperty(M)&&(l=r[M],l!==void 0&&hf(e,n,M,l,r,void 0));return}}for(y in r)r.hasOwnProperty(y)&&(l=r[y],l!=null&&Ae(e,n,y,l,r,null))}function NS(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,h=null,y=null,x=null,A=null,M=null;for(O in r){var U=r[O];if(r.hasOwnProperty(O)&&U!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":x=U;default:l.hasOwnProperty(O)||Ae(e,n,O,null,l,U)}}for(var R in l){var O=l[R];if(U=r[R],l.hasOwnProperty(R)&&(O!=null||U!=null))switch(R){case"type":f=O;break;case"name":c=O;break;case"checked":A=O;break;case"defaultChecked":M=O;break;case"value":h=O;break;case"defaultValue":y=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:O!==U&&Ae(e,n,R,O,l,U)}}Tc(e,h,y,x,A,M,f,c);return;case"select":O=h=y=R=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":O=x;default:l.hasOwnProperty(f)||Ae(e,n,f,null,l,x)}for(c in l)if(f=l[c],x=r[c],l.hasOwnProperty(c)&&(f!=null||x!=null))switch(c){case"value":R=f;break;case"defaultValue":y=f;break;case"multiple":h=f;default:f!==x&&Ae(e,n,c,f,l,x)}n=y,r=h,l=O,R!=null?ws(e,!!r,R,!1):!!l!=!!r&&(n!=null?ws(e,!!r,n,!0):ws(e,!!r,r?[]:"",!1));return;case"textarea":O=R=null;for(y in r)if(c=r[y],r.hasOwnProperty(y)&&c!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ae(e,n,y,null,l,c)}for(h in l)if(c=l[h],f=r[h],l.hasOwnProperty(h)&&(c!=null||f!=null))switch(h){case"value":R=c;break;case"defaultValue":O=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ae(e,n,h,c,l,f)}$h(e,R,O);return;case"option":for(var G in r)if(R=r[G],r.hasOwnProperty(G)&&R!=null&&!l.hasOwnProperty(G))switch(G){case"selected":e.selected=!1;break;default:Ae(e,n,G,null,l,R)}for(x in l)if(R=l[x],O=r[x],l.hasOwnProperty(x)&&R!==O&&(R!=null||O!=null))switch(x){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Ae(e,n,x,R,l,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in r)R=r[K],r.hasOwnProperty(K)&&R!=null&&!l.hasOwnProperty(K)&&Ae(e,n,K,null,l,R);for(A in l)if(R=l[A],O=r[A],l.hasOwnProperty(A)&&R!==O&&(R!=null||O!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(137,n));break;default:Ae(e,n,A,R,l,O)}return;default:if(wc(n)){for(var Re in r)R=r[Re],r.hasOwnProperty(Re)&&R!==void 0&&!l.hasOwnProperty(Re)&&hf(e,n,Re,void 0,l,R);for(M in l)R=l[M],O=r[M],!l.hasOwnProperty(M)||R===O||R===void 0&&O===void 0||hf(e,n,M,R,l,O);return}}for(var C in r)R=r[C],r.hasOwnProperty(C)&&R!=null&&!l.hasOwnProperty(C)&&Ae(e,n,C,null,l,R);for(U in l)R=l[U],O=r[U],!l.hasOwnProperty(U)||R===O||R==null&&O==null||Ae(e,n,U,R,l,O)}function i_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var c=r[l],f=c.transferSize,h=c.initiatorType,y=c.duration;if(f&&y&&i_(h)){for(h=0,y=c.responseEnd,l+=1;l<r.length;l++){var x=r[l],A=x.startTime;if(A>y)break;var M=x.transferSize,U=x.initiatorType;M&&i_(U)&&(x=x.responseEnd,h+=M*(x<y?1:(y-A)/(x-A)))}if(--l,n+=8*(f+h)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pf=null,gf=null;function io(e){return e.nodeType===9?e:e.ownerDocument}function s_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function mf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function DS(){var e=window.event;return e&&e.type==="popstate"?e===_f?!1:(_f=e,!0):(_f=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,kS=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(e){return l_.resolve(null).then(e).catch(IS)}:a_;function IS(e){setTimeout(function(){throw e})}function vi(e){return e==="head"}function o_(e,n){var r=n,l=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(c),sr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")fa(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,fa(r);for(var f=r.firstChild;f;){var h=f.nextSibling,y=f.nodeName;f[Nr]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=h}}else r==="body"&&fa(e.ownerDocument.body);r=c}while(r);sr(n)}function c_(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function yf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yf(r),xc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function zS(e,n,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Nr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function US(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=en(e.nextSibling),e===null))return null;return e}function u_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=en(e.nextSibling),e===null))return null;return e}function vf(e){return e.data==="$?"||e.data==="$~"}function bf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function LS(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function en(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Sf=null;function f_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return en(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function d_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function h_(e,n,r){switch(n=io(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fa(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);xc(e)}var tn=new Map,p_=new Set;function so(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=H.d;H.d={f:jS,r:BS,D:HS,C:qS,L:PS,m:VS,X:YS,S:GS,M:FS};function jS(){var e=Hn.f(),n=Xl();return e||n}function BS(e){var n=Es(e);n!==null&&n.tag===5&&n.type==="form"?Dg(n):Hn.r(e)}var tr=typeof document>"u"?null:document;function g_(e,n,r){var l=tr;if(l&&typeof n=="string"&&n){var c=Qt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),p_.has(c)||(p_.add(c),e={rel:e,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),pt(n,"link",e),it(n),l.head.appendChild(n)))}}function HS(e){Hn.D(e),g_("dns-prefetch",e,null)}function qS(e,n){Hn.C(e,n),g_("preconnect",e,n)}function PS(e,n,r){Hn.L(e,n,r);var l=tr;if(l&&e&&n){var c='link[rel="preload"][as="'+Qt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Qt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Qt(r.imageSizes)+'"]')):c+='[href="'+Qt(e)+'"]';var f=c;switch(n){case"style":f=nr(e);break;case"script":f=ir(e)}tn.has(f)||(e=v({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),tn.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(da(f))||n==="script"&&l.querySelector(ha(f))||(n=l.createElement("link"),pt(n,"link",e),it(n),l.head.appendChild(n)))}}function VS(e,n){Hn.m(e,n);var r=tr;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Qt(l)+'"][href="'+Qt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ir(e)}if(!tn.has(f)&&(e=v({rel:"modulepreload",href:e},n),tn.set(f,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ha(f)))return}l=r.createElement("link"),pt(l,"link",e),it(l),r.head.appendChild(l)}}}function GS(e,n,r){Hn.S(e,n,r);var l=tr;if(l&&e){var c=Ts(l).hoistableStyles,f=nr(e);n=n||"default";var h=c.get(f);if(!h){var y={loading:0,preload:null};if(h=l.querySelector(da(f)))y.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},r),(r=tn.get(f))&&xf(e,r);var x=h=l.createElement("link");it(x),pt(x,"link",e),x._p=new Promise(function(A,M){x.onload=A,x.onerror=M}),x.addEventListener("load",function(){y.loading|=1}),x.addEventListener("error",function(){y.loading|=2}),y.loading|=4,ro(h,n,l)}h={type:"stylesheet",instance:h,count:1,state:y},c.set(f,h)}}}function YS(e,n){Hn.X(e,n);var r=tr;if(r&&e){var l=Ts(r).hoistableScripts,c=ir(e),f=l.get(c);f||(f=r.querySelector(ha(c)),f||(e=v({src:e,async:!0},n),(n=tn.get(c))&&Ef(e,n),f=r.createElement("script"),it(f),pt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function FS(e,n){Hn.M(e,n);var r=tr;if(r&&e){var l=Ts(r).hoistableScripts,c=ir(e),f=l.get(c);f||(f=r.querySelector(ha(c)),f||(e=v({src:e,async:!0,type:"module"},n),(n=tn.get(c))&&Ef(e,n),f=r.createElement("script"),it(f),pt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function m_(e,n,r,l){var c=(c=ce.current)?so(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=nr(r.href),r=Ts(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=nr(r.href);var f=Ts(c).hoistableStyles,h=f.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,h),(f=c.querySelector(da(e)))&&!f._p&&(h.instance=f,h.state.loading=5),tn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},tn.set(e,r),f||QS(c,e,r,h.state))),n&&l===null)throw Error(a(528,""));return h}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ir(r),r=Ts(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function nr(e){return'href="'+Qt(e)+'"'}function da(e){return'link[rel="stylesheet"]['+e+"]"}function __(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function QS(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),pt(n,"link",r),it(n),e.head.appendChild(n))}function ir(e){return'[src="'+Qt(e)+'"]'}function ha(e){return"script[async]"+e}function y_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Qt(r.href)+'"]');if(l)return n.instance=l,it(l),l;var c=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),it(l),pt(l,"style",c),ro(l,r.precedence,e),n.instance=l;case"stylesheet":c=nr(r.href);var f=e.querySelector(da(c));if(f)return n.state.loading|=4,n.instance=f,it(f),f;l=__(r),(c=tn.get(c))&&xf(l,c),f=(e.ownerDocument||e).createElement("link"),it(f);var h=f;return h._p=new Promise(function(y,x){h.onload=y,h.onerror=x}),pt(f,"link",l),n.state.loading|=4,ro(f,r.precedence,e),n.instance=f;case"script":return f=ir(r.src),(c=e.querySelector(ha(f)))?(n.instance=c,it(c),c):(l=r,(c=tn.get(f))&&(l=v({},r),Ef(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),it(c),pt(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ro(l,r.precedence,e));return n.instance}function ro(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,h=0;h<l.length;h++){var y=l[h];if(y.dataset.precedence===n)f=y;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ef(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ao=null;function v_(e,n,r){if(ao===null){var l=new Map,c=ao=new Map;c.set(r,l)}else c=ao,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[Nr]||f[ut]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var h=f.getAttribute(n)||"";h=e+h;var y=l.get(h);y?y.push(f):l.set(h,[f])}}return l}function b_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function WS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function XS(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=nr(l.href),f=n.querySelector(da(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=lo.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,it(f);return}f=n.ownerDocument||n,l=__(l),(c=tn.get(c))&&xf(l,c),f=f.createElement("link"),it(f);var h=f;h._p=new Promise(function(y,x){h.onload=y,h.onerror=x}),pt(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=lo.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Tf=0;function KS(e,n){return e.stylesheets&&e.count===0&&co(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&co(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Tf===0&&(Tf=62500*OS());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&co(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Tf?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function lo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)co(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oo=null;function co(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oo=new Map,n.forEach(ZS,e),oo=null,lo.call(e))}function ZS(e,n){if(!(n.state.loading&4)){var r=oo.get(e);if(r)var l=r.get(null);else{r=new Map,oo.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var h=c[f];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(r.set(h.dataset.precedence,h),l=h)}l&&r.set(null,l)}c=n.instance,h=c.getAttribute("data-precedence"),f=r.get(h)||l,f===l&&r.set(null,c),r.set(h,c),this.count++,l=lo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var pa={$$typeof:se,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function JS(e,n,r,l,c,f,h,y,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yc(0),this.hiddenUpdates=yc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function x_(e,n,r,l,c,f,h,y,x,A,M,U){return e=new JS(e,n,r,h,x,A,M,U,y),n=1,f===!0&&(n|=24),f=jt(3,null,null,n),e.current=f,f.stateNode=e,n=nu(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},au(f),e}function E_(e){return e?(e=Is,e):Is}function T_(e,n,r,l,c,f){c=E_(c),l.context===null?l.context=c:l.pendingContext=c,l=oi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ci(e,l,n),r!==null&&(Rt(r,e,n),Fr(r,e,n))}function C_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Cf(e,n){C_(e,n),(e=e.alternate)&&C_(e,n)}function w_(e){if(e.tag===13||e.tag===31){var n=Gi(e,67108864);n!==null&&Rt(n,e,67108864),Cf(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=Vt();n=vc(n);var r=Gi(e,n);r!==null&&Rt(r,e,n),Cf(e,n)}}var uo=!0;function $S(e,n,r,l){var c=k.T;k.T=null;var f=H.p;try{H.p=2,wf(e,n,r,l)}finally{H.p=f,k.T=c}}function ex(e,n,r,l){var c=k.T;k.T=null;var f=H.p;try{H.p=8,wf(e,n,r,l)}finally{H.p=f,k.T=c}}function wf(e,n,r,l){if(uo){var c=Af(l);if(c===null)df(e,n,l,fo,r),N_(e,l);else if(nx(c,e,n,r,l))l.stopPropagation();else if(N_(e,l),n&4&&-1<tx.indexOf(e)){for(;c!==null;){var f=Es(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var h=Bi(f.pendingLanes);if(h!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;h;){var x=1<<31-Ut(h);y.entanglements[1]|=x,h&=~x}_n(f),(ve&6)===0&&(Ql=It()+500,oa(0))}}break;case 31:case 13:y=Gi(f,2),y!==null&&Rt(y,f,2),Xl(),Cf(f,2)}if(f=Af(l),f===null&&df(e,n,l,fo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else df(e,n,l,null,r)}}function Af(e){return e=Rc(e),Rf(e)}var fo=null;function Rf(e){if(fo=null,e=xs(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fo=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(H1()){case Uh:return 2;case Lh:return 8;case el:case q1:return 32;case jh:return 268435456;default:return 32}default:return 32}}var Nf=!1,bi=null,Si=null,xi=null,ga=new Map,ma=new Map,Ei=[],tx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(e,n){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":ga.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(n.pointerId)}}function _a(e,n,r,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Es(n),n!==null&&w_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function nx(e,n,r,l,c){switch(n){case"focusin":return bi=_a(bi,e,n,r,l,c),!0;case"dragenter":return Si=_a(Si,e,n,r,l,c),!0;case"mouseover":return xi=_a(xi,e,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return ga.set(f,_a(ga.get(f)||null,e,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,ma.set(f,_a(ma.get(f)||null,e,n,r,l,c)),!0}return!1}function O_(e){var n=xs(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Gh(e.priority,function(){A_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Gh(e.priority,function(){A_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ho(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Af(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Ac=l,r.target.dispatchEvent(l),Ac=null}else return n=Es(r),n!==null&&w_(n),e.blockedOn=r,!1;n.shift()}return!0}function D_(e,n,r){ho(e)&&r.delete(n)}function ix(){Nf=!1,bi!==null&&ho(bi)&&(bi=null),Si!==null&&ho(Si)&&(Si=null),xi!==null&&ho(xi)&&(xi=null),ga.forEach(D_),ma.forEach(D_)}function po(e,n){e.blockedOn===n&&(e.blockedOn=null,Nf||(Nf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ix)))}var go=null;function M_(e){go!==e&&(go=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){go===e&&(go=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Rf(l||r)===null)continue;break}var f=Es(r);f!==null&&(e.splice(n,3),n-=3,wu(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function sr(e){function n(x){return po(x,e)}bi!==null&&po(bi,e),Si!==null&&po(Si,e),xi!==null&&po(xi,e),ga.forEach(n),ma.forEach(n);for(var r=0;r<Ei.length;r++){var l=Ei[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ei.length&&(r=Ei[0],r.blockedOn===null);)O_(r),r.blockedOn===null&&Ei.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],h=c[xt]||null;if(typeof f=="function")h||M_(r);else if(h){var y=null;if(f&&f.hasAttribute("formAction")){if(c=f,h=f[xt]||null)y=h.formAction;else if(Rf(c)!==null)continue}else y=h.action;typeof y=="function"?r[l+1]=y:(r.splice(l,3),l-=3),M_(r)}}}function k_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(h){return c=h})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Of(e){this._internalRoot=e}mo.prototype.render=Of.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Vt();T_(r,l,e,n,null,null)},mo.prototype.unmount=Of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;T_(e.current,2,null,e,null,null),Xl(),n[Ss]=null}};function mo(e){this._internalRoot=e}mo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Vh();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ei.length&&n!==0&&n<Ei[r].priority;r++);Ei.splice(r,0,e),r===0&&O_(e)}};var I_=t.version;if(I_!=="19.2.0")throw Error(a(527,I_,"19.2.0"));H.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var sx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{wr=_o.inject(sx),zt=_o}catch{}}return va.createRoot=function(e,n){if(!o(e))throw Error(a(299));var r=!1,l="",c=qg,f=Pg,h=Vg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=x_(e,1,!1,null,null,r,l,null,c,f,h,k_),e[Ss]=n.current,ff(e),new Of(n)},va.hydrateRoot=function(e,n,r){if(!o(e))throw Error(a(299));var l=!1,c="",f=qg,h=Pg,y=Vg,x=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(h=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),n=x_(e,1,!0,n,r??null,l,c,x,f,h,y,k_),n.context=E_(null),r=n.current,l=Vt(),l=vc(l),c=oi(l),c.callback=null,ci(r,c,l),r=l,n.current.lanes=r,Rr(n,r),_n(n),e[Ss]=n.current,ff(e),new mo(n)},va.version="19.2.0",va}var G_;function px(){if(G_)return Mf.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Mf.exports=hx(),Mf.exports}var gx=px(),Z=wd();const mx=()=>{};var Y_={};const cv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const B=function(s,t){if(!s)throw vr(t)},vr=function(s){return new Error("Firebase Database ("+cv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const uv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},_x=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],d=s[i++],g=s[i++],m=((o&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const u=s[i++],d=s[i++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return t.join("")},Ad={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,g=d?s[o+1]:0,m=o+2<s.length,p=m?s[o+2]:0,b=u>>2,v=(u&3)<<4|g>>4;let S=(g&15)<<2|p>>6,N=p&63;m||(N=64,d||(S=64)),a.push(i[b],i[v],i[S],i[N])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(uv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):_x(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const v=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||g==null||p==null||v==null)throw new yx;const S=u<<2|g>>4;if(a.push(S),p!==64){const N=g<<4&240|p>>2;if(a.push(N),v!==64){const I=p<<6&192|v;a.push(I)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class yx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fv=function(s){const t=uv(s);return Ad.encodeByteArray(t,!0)},No=function(s){return fv(s).replace(/\./g,"")},Oo=function(s){try{return Ad.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function vx(s){return dv(void 0,s)}function dv(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!bx(i)||(s[i]=dv(s[i],t[i]));return s}function bx(s){return s!=="__proto__"}function Sx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xx=()=>Sx().__FIREBASE_DEFAULTS__,Ex=()=>{if(typeof process>"u"||typeof Y_>"u")return;const s=Y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Tx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Oo(s[1]);return t&&JSON.parse(t)},Rd=()=>{try{return mx()||xx()||Ex()||Tx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},hv=s=>Rd()?.emulatorHosts?.[s],pv=s=>{const t=hv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},gv=()=>Rd()?.config,mv=s=>Rd()?.[`_${s}`];class Jo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Ui(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nd(s){return(await fetch(s,{credentials:"include"})).ok}function _v(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[No(JSON.stringify(i)),No(JSON.stringify(d)),""].join(".")}const Ca={};function Cx(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ca))Ca[t]?s.emulator.push(t):s.prod.push(t);return s}function wx(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let F_=!1;function Od(s,t){if(typeof window>"u"||typeof document>"u"||!Ui(window.location.host)||Ca[s]===t||Ca[s]||F_)return;Ca[s]=t;function i(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=Cx().prod.length>0;function d(){const S=document.getElementById(a);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{F_=!0,d()},S}function b(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=wx(a),N=i("text"),I=document.getElementById(N)||document.createElement("span"),D=i("learnmore"),L=document.getElementById(D)||document.createElement("a"),P=i("preprendIcon"),Q=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const se=S.element;g(se),b(L,D);const te=p();m(Q,P),se.append(Q,I,L,te),document.body.appendChild(se)}u?(I.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function Ax(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Rx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function yv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nx(){const s=St();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Ox(){return cv.NODE_ADMIN===!0}function Dx(){try{return typeof indexedDB=="object"}catch{return!1}}function Mx(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const kx="FirebaseError";class Zn extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=kx,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ga.prototype.create)}}class Ga{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],d=u?Ix(u,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Zn(o,g,a)}}function Ix(s,t){return s.replace(zx,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const zx=/\{\$([^}]+)}/g;function Ia(s){return JSON.parse(s)}function lt(s){return JSON.stringify(s)}const vv=function(s){let t={},i={},a={},o="";try{const u=s.split(".");t=Ia(Oo(u[0])||""),i=Ia(Oo(u[1])||""),o=u[2],a=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:a,signature:o}},Ux=function(s){const t=vv(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Lx=function(s){const t=vv(s).claims;return typeof t=="object"&&t.admin===!0};function Jn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function hr(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function ed(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Do(s,t,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=t.call(i,s[o],o,s));return a}function fs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const u=s[o],d=t[o];if(Q_(u)&&Q_(d)){if(!fs(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Q_(s){return s!==null&&typeof s=="object"}function br(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}class jx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const a=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)a[v]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)a[v]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let v=16;v<80;v++){const S=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],d=this.chain_[2],g=this.chain_[3],m=this.chain_[4],p,b;for(let v=0;v<80;v++){v<40?v<20?(p=g^u&(d^g),b=1518500249):(p=u^d^g,b=1859775393):v<60?(p=u&d|g&(u|d),b=2400959708):(p=u^d^g,b=3395469782);const S=(o<<5|o>>>27)+p+m+b+a[v]&4294967295;m=g,g=d,d=(u<<30|u>>>2)&4294967295,u=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const a=i-this.blockSize;let o=0;const u=this.buf_;let d=this.inbuf_;for(;o<i;){if(d===0)for(;o<=a;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[d]=t.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(u),d=0;break}}else for(;o<i;)if(u[d]=t[o],++d,++o,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[a]=this.chain_[o]>>u&255,++a;return t}}function Bx(s,t){const i=new Hx(s,t);return i.subscribe.bind(i)}class Hx{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");qx(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Lf),o.error===void 0&&(o.error=Lf),o.complete===void 0&&(o.complete=Lf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qx(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Lf(){}function Md(s,t){return`${s} failed: ${t} argument `}const Px=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const u=o-55296;a++,B(a<s.length,"Surrogate pair missing trail surrogate.");const d=s.charCodeAt(a)-56320;o=65536+(u<<10)+d}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},$o=function(s){let t=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?t++:a<2048?t+=2:a>=55296&&a<=56319?(t+=4,i++):t+=3}return t};function ot(s){return s&&s._delegate?s._delegate:s}class ki{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const is="[DEFAULT]";class Vx{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Jo;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Yx(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=is){return this.instances.has(t)}getOptions(t=is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Gx(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=is){return this.component?this.component.multipleInstances?t:is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gx(s){return s===is?void 0:s}function Yx(s){return s.instantiationMode==="EAGER"}class Fx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Vx(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ne;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ne||(Ne={}));const Qx={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Wx=Ne.INFO,Xx={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Kx=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),o=Xx[t];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class kd{constructor(t){this.name=t,this._logLevel=Wx,this._logHandler=Kx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Qx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...t),this._logHandler(this,Ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...t),this._logHandler(this,Ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...t),this._logHandler(this,Ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...t),this._logHandler(this,Ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...t),this._logHandler(this,Ne.ERROR,...t)}}const Zx=(s,t)=>t.some(i=>s instanceof i);let W_,X_;function Jx(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $x(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bv=new WeakMap,td=new WeakMap,Sv=new WeakMap,jf=new WeakMap,Id=new WeakMap;function eE(s){const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(Oi(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&bv.set(i,s)}).catch(()=>{}),Id.set(t,s),t}function tE(s){if(td.has(s))return;const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});td.set(s,t)}let nd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return td.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Sv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Oi(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function nE(s){nd=s(nd)}function iE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Bf(this),t,...i);return Sv.set(a,t.sort?t.sort():[t]),Oi(a)}:$x().includes(s)?function(...t){return s.apply(Bf(this),t),Oi(bv.get(this))}:function(...t){return Oi(s.apply(Bf(this),t))}}function sE(s){return typeof s=="function"?iE(s):(s instanceof IDBTransaction&&tE(s),Zx(s,Jx())?new Proxy(s,nd):s)}function Oi(s){if(s instanceof IDBRequest)return eE(s);if(jf.has(s))return jf.get(s);const t=sE(s);return t!==s&&(jf.set(s,t),Id.set(t,s)),t}const Bf=s=>Id.get(s);function rE(s,t,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(s,t),g=Oi(d);return a&&d.addEventListener("upgradeneeded",m=>{a(Oi(d.result),m.oldVersion,m.newVersion,Oi(d.transaction),m)}),i&&d.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),g.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const aE=["get","getKey","getAll","getAllKeys","count"],lE=["put","add","delete","clear"],Hf=new Map;function K_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Hf.get(t))return Hf.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=lE.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||aE.includes(i)))return;const u=async function(d,...g){const m=this.transaction(d,o?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&m.done]))[0]};return Hf.set(t,u),u}nE(s=>({...s,get:(t,i,a)=>K_(t,i)||s.get(t,i,a),has:(t,i)=>!!K_(t,i)||s.has(t,i)}));class oE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(cE(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function cE(s){return s.getComponent()?.type==="VERSION"}const id="@firebase/app",Z_="0.14.5";const Qn=new kd("@firebase/app"),uE="@firebase/app-compat",fE="@firebase/analytics-compat",dE="@firebase/analytics",hE="@firebase/app-check-compat",pE="@firebase/app-check",gE="@firebase/auth",mE="@firebase/auth-compat",_E="@firebase/database",yE="@firebase/data-connect",vE="@firebase/database-compat",bE="@firebase/functions",SE="@firebase/functions-compat",xE="@firebase/installations",EE="@firebase/installations-compat",TE="@firebase/messaging",CE="@firebase/messaging-compat",wE="@firebase/performance",AE="@firebase/performance-compat",RE="@firebase/remote-config",NE="@firebase/remote-config-compat",OE="@firebase/storage",DE="@firebase/storage-compat",ME="@firebase/firestore",kE="@firebase/ai",IE="@firebase/firestore-compat",zE="firebase",UE="12.5.0";const sd="[DEFAULT]",LE={[id]:"fire-core",[uE]:"fire-core-compat",[dE]:"fire-analytics",[fE]:"fire-analytics-compat",[pE]:"fire-app-check",[hE]:"fire-app-check-compat",[gE]:"fire-auth",[mE]:"fire-auth-compat",[_E]:"fire-rtdb",[yE]:"fire-data-connect",[vE]:"fire-rtdb-compat",[bE]:"fire-fn",[SE]:"fire-fn-compat",[xE]:"fire-iid",[EE]:"fire-iid-compat",[TE]:"fire-fcm",[CE]:"fire-fcm-compat",[wE]:"fire-perf",[AE]:"fire-perf-compat",[RE]:"fire-rc",[NE]:"fire-rc-compat",[OE]:"fire-gcs",[DE]:"fire-gcs-compat",[ME]:"fire-fst",[IE]:"fire-fst-compat",[kE]:"fire-vertex","fire-js":"fire-js",[zE]:"fire-js-all"};const Mo=new Map,jE=new Map,rd=new Map;function J_(s,t){try{s.container.addComponent(t)}catch(i){Qn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ds(s){const t=s.name;if(rd.has(t))return Qn.debug(`There were multiple attempts to register component ${t}.`),!1;rd.set(t,s);for(const i of Mo.values())J_(i,s);for(const i of jE.values())J_(i,s);return!0}function ec(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function nn(s){return s==null?!1:s.settings!==void 0}const BE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new Ga("app","Firebase",BE);class HE{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const vs=UE;function xv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:sd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Di.create("bad-app-name",{appName:String(o)});if(i||(i=gv()),!i)throw Di.create("no-options");const u=Mo.get(o);if(u){if(fs(i,u.options)&&fs(a,u.config))return u;throw Di.create("duplicate-app",{appName:o})}const d=new Fx(o);for(const m of rd.values())d.addComponent(m);const g=new HE(i,a,d);return Mo.set(o,g),g}function zd(s=sd){const t=Mo.get(s);if(!t&&s===sd&&gv())return xv();if(!t)throw Di.create("no-app",{appName:s});return t}function bn(s,t,i){let a=LE[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qn.warn(d.join(" "));return}ds(new ki(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const qE="firebase-heartbeat-database",PE=1,za="firebase-heartbeat-store";let qf=null;function Ev(){return qf||(qf=rE(qE,PE,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(za)}catch(i){console.warn(i)}}}}).catch(s=>{throw Di.create("idb-open",{originalErrorMessage:s.message})})),qf}async function VE(s){try{const i=(await Ev()).transaction(za),a=await i.objectStore(za).get(Tv(s));return await i.done,a}catch(t){if(t instanceof Zn)Qn.warn(t.message);else{const i=Di.create("idb-get",{originalErrorMessage:t?.message});Qn.warn(i.message)}}}async function $_(s,t){try{const a=(await Ev()).transaction(za,"readwrite");await a.objectStore(za).put(t,Tv(s)),await a.done}catch(i){if(i instanceof Zn)Qn.warn(i.message);else{const a=Di.create("idb-set",{originalErrorMessage:i?.message});Qn.warn(a.message)}}}function Tv(s){return`${s.name}!${s.options.appId}`}const GE=1024,YE=30;class FE{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new WE(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ey();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>YE){const o=XE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Qn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ey(),{heartbeatsToSend:i,unsentEntries:a}=QE(this._heartbeatsCache.heartbeats),o=No(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qn.warn(t),""}}}function ey(){return new Date().toISOString().substring(0,10)}function QE(s,t=GE){const i=[];let a=s.slice();for(const o of s){const u=i.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),ty(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ty(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class WE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dx()?Mx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await VE(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function ty(s){return No(JSON.stringify({version:2,heartbeats:s})).length}function XE(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function KE(s){ds(new ki("platform-logger",t=>new oE(t),"PRIVATE")),ds(new ki("heartbeat",t=>new FE(t),"PRIVATE")),bn(id,Z_,s),bn(id,Z_,"esm2020"),bn("fire-js","")}KE("");var ZE="firebase",JE="12.5.0";bn(ZE,JE,"app");var ny={};const iy="@firebase/database",sy="1.1.0";let Cv="";function $E(s){Cv=s}class eT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),lt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Ia(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class tT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Jn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const wv=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new eT(t)}}catch{}return new tT},rs=wv("localStorage"),nT=wv("sessionStorage");const lr=new kd("@firebase/database"),iT=(function(){let s=1;return function(){return s++}})(),Av=function(s){const t=Px(s),i=new jx;i.update(t);const a=i.digest();return Ad.encodeByteArray(a)},Ya=function(...s){let t="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?t+=Ya.apply(null,a):typeof a=="object"?t+=lt(a):t+=a,t+=" "}return t};let wa=null,ry=!0;const sT=function(s,t){B(!0,"Can't turn on custom loggers persistently."),lr.logLevel=Ne.VERBOSE,wa=lr.log.bind(lr)},_t=function(...s){if(ry===!0&&(ry=!1,wa===null&&nT.get("logging_enabled")===!0&&sT()),wa){const t=Ya.apply(null,s);wa(t)}},Fa=function(s){return function(...t){_t(s,...t)}},ad=function(...s){const t="FIREBASE INTERNAL ERROR: "+Ya(...s);lr.error(t)},Wn=function(...s){const t=`FIREBASE FATAL ERROR: ${Ya(...s)}`;throw lr.error(t),new Error(t)},Dt=function(...s){const t="FIREBASE WARNING: "+Ya(...s);lr.warn(t)},rT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rv=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},aT=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},pr="[MIN_NAME]",hs="[MAX_NAME]",Sr=function(s,t){if(s===t)return 0;if(s===pr||t===hs)return-1;if(t===pr||s===hs)return 1;{const i=ay(s),a=ay(t);return i!==null?a!==null?i-a===0?s.length-t.length:i-a:-1:a!==null?1:s<t?-1:1}},lT=function(s,t){return s===t?0:s<t?-1:1},ba=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+lt(t))},Ud=function(s){if(typeof s!="object"||s===null)return lt(s);const t=[];for(const a in s)t.push(a);t.sort();let i="{";for(let a=0;a<t.length;a++)a!==0&&(i+=","),i+=lt(t[a]),i+=":",i+=Ud(s[t[a]]);return i+="}",i},Nv=function(s,t){const i=s.length;if(i<=t)return[s];const a=[];for(let o=0;o<i;o+=t)o+t>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+t));return a};function Mt(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const Ov=function(s){B(!Rv(s),"Invalid JSON number");const t=11,i=52,a=(1<<t-1)-1;let o,u,d,g,m;s===0?(u=0,d=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(g=Math.min(Math.floor(Math.log(s)/Math.LN2),a),u=g+a,d=Math.round(s*Math.pow(2,i-g)-Math.pow(2,i))):(u=0,d=Math.round(s/Math.pow(2,1-a-i))));const p=[];for(m=i;m;m-=1)p.push(d%2?1:0),d=Math.floor(d/2);for(m=t;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const b=p.join("");let v="";for(m=0;m<64;m+=8){let S=parseInt(b.substr(m,8),2).toString(16);S.length===1&&(S="0"+S),v=v+S}return v.toLowerCase()},oT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uT(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+t._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const fT=new RegExp("^-?(0*)\\d{1,10}$"),dT=-2147483648,hT=2147483647,ay=function(s){if(fT.test(s)){const t=Number(s);if(t>=dT&&t<=hT)return t}return null},xr=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Dt("Exception was thrown by user callback.",i),t},Math.floor(0))}},pT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Aa=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class gT{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,nn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Dt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mT{constructor(t,i,a){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dt(t)}}class Eo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Eo.OWNER="owner";const Ld="5",Dv="v",Mv="s",kv="r",Iv="f",zv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Uv="ls",Lv="p",ld="ac",jv="websocket",Bv="long_polling";class Hv{constructor(t,i,a,o,u=!1,d="",g=!1,m=!1,p=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rs.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&rs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function _T(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function qv(s,t,i){B(typeof t=="string","typeof type must == string"),B(typeof i=="object","typeof params must == object");let a;if(t===jv)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Bv)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);_T(s)&&(i.ns=s.namespace);const o=[];return Mt(i,(u,d)=>{o.push(u+"="+d)}),a+o.join("&")}class yT{constructor(){this.counters_={}}incrementCounter(t,i=1){Jn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return vx(this.counters_)}}const Pf={},Vf={};function jd(s){const t=s.toString();return Pf[t]||(Pf[t]=new yT),Pf[t]}function vT(s,t){const i=s.toString();return Vf[i]||(Vf[i]=t()),Vf[i]}class bT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&xr(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ly="start",ST="close",xT="pLPCommand",ET="pRTLPCB",Pv="id",Vv="pw",Gv="ser",TT="cb",CT="seg",wT="ts",AT="d",RT="dframe",Yv=1870,Fv=30,NT=Yv-Fv,OT=25e3,DT=3e4;class ar{constructor(t,i,a,o,u,d,g){this.connId=t,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.transportSessionId=d,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fa(t),this.stats_=jd(i),this.urlFn=m=>(this.appCheckToken&&(m[ld]=this.appCheckToken),qv(i,Bv,m))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new bT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(DT)),aT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bd((...u)=>{const[d,g,m,p,b]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===ly)this.id=g,this.password=m;else if(d===ST)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,g]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,g)},()=>{this.onClosed_()},this.urlFn);const a={};a[ly]="t",a[Gv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[TT]=this.scriptTagHolder.uniqueCallbackIdentifier),a[Dv]=Ld,this.transportSessionId&&(a[Mv]=this.transportSessionId),this.lastSessionId&&(a[Uv]=this.lastSessionId),this.applicationId&&(a[Lv]=this.applicationId),this.appCheckToken&&(a[ld]=this.appCheckToken),typeof location<"u"&&location.hostname&&zv.test(location.hostname)&&(a[kv]=Iv);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ar.forceAllow_=!0}static forceDisallow(){ar.forceDisallow_=!0}static isAvailable(){return ar.forceAllow_?!0:!ar.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oT()&&!cT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=lt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=fv(i),o=Nv(a,NT);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[RT]="t",a[Pv]=t,a[Vv]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=lt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Bd{constructor(t,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iT(),window[xT+this.uniqueCallbackIdentifier]=t,window[ET+this.uniqueCallbackIdentifier]=i,this.myIFrame=Bd.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(g){_t("frame writing exception"),g.stack&&_t(g.stack),_t(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||_t("No IE domain setting required")}catch{const a=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Pv]=this.myID,t[Vv]=this.myPW,t[Gv]=this.currentSerial;let i=this.urlFn(t),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Fv+a.length<=Yv;){const d=this.pendingSegs.shift();a=a+"&"+CT+o+"="+d.seg+"&"+wT+o+"="+d.ts+"&"+AT+o+"="+d.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,a){this.pendingSegs.push({seg:t,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(OT)),u=()=>{clearTimeout(o),a()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=t,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{_t("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}const MT=16384,kT=45e3;let ko=null;typeof MozWebSocket<"u"?ko=MozWebSocket:typeof WebSocket<"u"&&(ko=WebSocket);class on{constructor(t,i,a,o,u,d,g){this.connId=t,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fa(this.connId),this.stats_=jd(i),this.connURL=on.connectionURL_(i,d,g,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,a,o,u){const d={};return d[Dv]=Ld,typeof location<"u"&&location.hostname&&zv.test(location.hostname)&&(d[kv]=Iv),i&&(d[Mv]=i),a&&(d[Uv]=a),o&&(d[ld]=o),u&&(d[Lv]=u),qv(t,jv,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rs.set("previous_websocket_failure",!0);try{let a;Ox(),this.mySock=new ko(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){on.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(t=!0)}return!t&&ko!==null&&!on.forceDisallow_}static previouslyFailed(){return rs.isInMemoryStorage||rs.get("previous_websocket_failure")===!0}markConnectionHealthy(){rs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Ia(i);this.onMessage(a)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(B(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(t){this.resetKeepAlive();const i=lt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Nv(i,MT);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kT))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}on.responsesRequiredToBeHealthy=2;on.healthyTimeout=3e4;class Ua{static get ALL_TRANSPORTS(){return[ar,on]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=on&&on.isAvailable();let a=i&&!on.previouslyFailed();if(t.webSocketOnly&&(i||Dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[on];else{const o=this.transports_=[];for(const u of Ua.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Ua.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ua.globalTransportInitialized_=!1;const IT=6e4,zT=5e3,UT=10*1024,LT=100*1024,Gf="t",oy="d",jT="s",cy="r",BT="e",uy="o",fy="a",dy="n",hy="p",HT="h";class qT{constructor(t,i,a,o,u,d,g,m,p,b){this.id=t,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=d,this.onReady_=g,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fa("c:"+this.id+":"),this.transportManager_=new Ua(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Aa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>UT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Gf in t){const i=t[Gf];i===fy?this.upgradeIfSecondaryHealthy_():i===cy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===uy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=ba("t",t),a=ba("d",t);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:hy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=ba("t",t),a=ba("d",t);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=ba(Gf,t);if(oy in t){const a=t[oy];if(i===HT){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===dy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===jT?this.onConnectionShutdown_(a):i===cy?this.onReset_(a):i===BT?ad("Server Error: "+a):i===uy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ad("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,a=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Ld!==a&&Dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),Aa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(IT))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Aa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:hy,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Qv{put(t,i,a,o){}merge(t,i,a,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,a){}onDisconnectMerge(t,i,a){}onDisconnectCancel(t,i){}reportStats(t){}}class Wv{constructor(t){this.allowedEvents_=t,this.listeners_={},B(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const a=[...this.listeners_[t]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(t,i,a){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:a});const o=this.getInitialEvent(t);o&&i.apply(a,o)}off(t,i,a){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!a||a===o[u].context)){o.splice(u,1);return}}validateEventType_(t){B(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Io extends Wv{static getInstance(){return new Io}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return B(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const py=32,gy=768;class Me{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function be(){return new Me("")}function le(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ii(s){return s.pieces_.length-s.pieceNum_}function ke(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Me(s.pieces_,t)}function Xv(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function PT(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function Kv(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function Zv(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Me(t,0)}function nt(s,t){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(t instanceof Me)for(let a=t.pieceNum_;a<t.pieces_.length;a++)i.push(t.pieces_[a]);else{const a=t.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Me(i,0)}function de(s){return s.pieceNum_>=s.pieces_.length}function Nt(s,t){const i=le(s),a=le(t);if(i===null)return t;if(i===a)return Nt(ke(s),ke(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function Hd(s,t){if(Ii(s)!==Ii(t))return!1;for(let i=s.pieceNum_,a=t.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==t.pieces_[a])return!1;return!0}function cn(s,t){let i=s.pieceNum_,a=t.pieceNum_;if(Ii(s)>Ii(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[a])return!1;++i,++a}return!0}class VT{constructor(t,i){this.errorPrefix_=i,this.parts_=Kv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=$o(this.parts_[a]);Jv(this)}}function GT(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=$o(t),Jv(s)}function YT(s){const t=s.parts_.pop();s.byteLength_-=$o(t),s.parts_.length>0&&(s.byteLength_-=1)}function Jv(s){if(s.byteLength_>gy)throw new Error(s.errorPrefix_+"has a key path longer than "+gy+" bytes ("+s.byteLength_+").");if(s.parts_.length>py)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+py+") or object contains a cycle "+ss(s))}function ss(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class qd extends Wv{static getInstance(){return new qd}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[t];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(t){return B(t==="visible","Unknown event type: "+t),[this.visible_]}}const Sa=1e3,FT=300*1e3,my=30*1e3,QT=1.3,WT=3e4,XT="server_kill",_y=3;class Yn extends Qv{constructor(t,i,a,o,u,d,g,m){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=g,this.authOverride_=m,this.id=Yn.nextPersistentConnectionId_++,this.log_=Fa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sa,this.maxReconnectDelay_=FT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Io.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,a){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(lt(u)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[o]=a)}get(t){this.initConnection_();const i=new Jo,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const g=d.d;d.s==="ok"?i.resolve(g):i.reject(g)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,a,o){this.initConnection_();const u=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),B(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const g={onComplete:o,hashFn:i,query:t,tag:a};this.listens.get(d).set(u,g),this.connected_&&this.sendListen_(g)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(t){const i=t.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const u={p:a},d="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(d,u,g=>{const m=g.d,p=g.s;Yn.warnOnListenWarnings_(m,i),(this.listens.get(a)&&this.listens.get(a).get(o))===t&&(this.log_("listen response",g),p!=="ok"&&this.removeListen_(a,o),t.onComplete&&t.onComplete(p,m))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Jn(t,"w")){const a=hr(t,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Lx(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=my)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=Ux(t)?"auth":"gauth",a={cred:t};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const u=o.s,d=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,a=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(t,i){const a=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),B(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,t._queryObject,i)}sendUnlisten_(t,i,a,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},d="n";o&&(u.q=a,u.t=o),this.sendRequest(d,u)}onDisconnectPut(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:a})}onDisconnectMerge(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:a})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,a,o){const u={p:i,d:a};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(t,i,a,o){this.putInternal("p",t,i,a,o)}merge(t,i,a,o){this.putInternal("m",t,i,a,o)}putInternal(t,i,a,o,u){this.initConnection_();const d={p:i,d:a};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:t,request:d,onComplete:o}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,a=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,a,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+lt(t));const i=t.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):ad("Unrecognized action received from server: "+lt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>WT&&(this.reconnectDelay_=Sa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*QT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Yn.nextConnectionId_++,u=this.lastSessionId;let d=!1,g=null;const m=function(){g?g.close():(d=!0,a())},p=function(v){B(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(v)};this.realtime_={close:m,sendRequest:p};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,S]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);d?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=S&&S.token,g=new qT(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,a,N=>{Dt(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(XT)},u))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&Dt(v),m())}}}interrupt(t){_t("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){_t("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ed(this.interruptReasons_)&&(this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let a;i?a=i.map(u=>Ud(u)).join("$"):a="default";const o=this.removeListen_(t,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const a=new Me(t).toString();let o;if(this.listens.has(a)){const u=this.listens.get(a);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(t,i){_t("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=_y&&(this.reconnectDelay_=my,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){_t("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=_y&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Cv.replace(/\./g,"-")]=1,Dd()?t["framework.cordova"]=1:yv()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Io.getInstance().currentlyOnline();return ed(this.interruptReasons_)&&t}}Yn.nextPersistentConnectionId_=0;Yn.nextConnectionId_=0;class oe{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new oe(t,i)}}class tc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const a=new oe(pr,t),o=new oe(pr,i);return this.compare(a,o)!==0}minPost(){return oe.MIN}}let yo;class $v extends tc{static get __EMPTY_NODE(){return yo}static set __EMPTY_NODE(t){yo=t}compare(t,i){return Sr(t.name,i.name)}isDefinedOn(t){throw vr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return oe.MIN}maxPost(){return new oe(hs,yo)}makePost(t,i){return B(typeof t=="string","KeyIndex indexValue must always be a string."),new oe(t,yo)}toString(){return".key"}}const or=new $v;class vo{constructor(t,i,a,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=i?a(t.key,i):1,o&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class at{constructor(t,i,a,o,u){this.key=t,this.value=i,this.color=a??at.RED,this.left=o??Ot.EMPTY_NODE,this.right=u??Ot.EMPTY_NODE}copy(t,i,a,o,u){return new at(t??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const u=a(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,a),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let a,o;if(a=this,i(t,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(t,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(t,a.key)===0){if(a.right.isEmpty())return Ot.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(t,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class KT{copy(t,i,a,o,u){return this}insert(t,i,a){return new at(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ot{constructor(t,i=Ot.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Ot(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(t){return new Ot(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,at.BLACK,null,null))}get(t){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(t,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(t){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(t,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new vo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new vo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new vo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new vo(this.root_,null,this.comparator_,!0,t)}}Ot.EMPTY_NODE=new KT;function ZT(s,t){return Sr(s.name,t.name)}function Pd(s,t){return Sr(s,t)}let od;function JT(s){od=s}const e0=function(s){return typeof s=="number"?"number:"+Ov(s):"string:"+s},t0=function(s){if(s.isLeafNode()){const t=s.val();B(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Jn(t,".sv"),"Priority must be a string or number.")}else B(s===od||s.isEmpty(),"priority of unexpected type.");B(s===od||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let yy;class rt{static set __childrenNodeConstructor(t){yy=t}static get __childrenNodeConstructor(){return yy}constructor(t,i=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),t0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new rt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return de(t)?this:le(t)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const a=le(t);return a===null?i:i.isEmpty()&&a!==".priority"?this:(B(a!==".priority"||Ii(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+e0(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Ov(this.value_):t+=this.value_,this.lazyHash_=Av(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===rt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof rt.__childrenNodeConstructor?-1:(B(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,a=typeof this.value_,o=rt.VALUE_TYPE_ORDER.indexOf(i),u=rt.VALUE_TYPE_ORDER.indexOf(a);return B(o>=0,"Unknown leaf type: "+i),B(u>=0,"Unknown leaf type: "+a),o===u?a==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let n0,i0;function $T(s){n0=s}function eC(s){i0=s}class tC extends tc{compare(t,i){const a=t.node.getPriority(),o=i.node.getPriority(),u=a.compareTo(o);return u===0?Sr(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(hs,new rt("[PRIORITY-POST]",i0))}makePost(t,i){const a=n0(t);return new oe(i,new rt("[PRIORITY-POST]",a))}toString(){return".priority"}}const qe=new tC;const nC=Math.log(2);class iC{constructor(t){const i=u=>parseInt(Math.log(u)/nC,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=a(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const zo=function(s,t,i,a){s.sort(t);const o=function(m,p){const b=p-m;let v,S;if(b===0)return null;if(b===1)return v=s[m],S=i?i(v):v,new at(S,v.node,at.BLACK,null,null);{const N=parseInt(b/2,10)+m,I=o(m,N),D=o(N+1,p);return v=s[N],S=i?i(v):v,new at(S,v.node,at.BLACK,I,D)}},u=function(m){let p=null,b=null,v=s.length;const S=function(I,D){const L=v-I,P=v;v-=I;const Q=o(L+1,P),se=s[L],te=i?i(se):se;N(new at(te,se.node,D,null,Q))},N=function(I){p?(p.left=I,p=I):(b=I,p=I)};for(let I=0;I<m.count;++I){const D=m.nextBitIsOne(),L=Math.pow(2,m.count-(I+1));D?S(L,at.BLACK):(S(L,at.BLACK),S(L,at.RED))}return b},d=new iC(s.length),g=u(d);return new Ot(a||t,g)};let Yf;const rr={};class Pn{static get Default(){return B(rr&&qe,"ChildrenNode.ts has not been loaded"),Yf=Yf||new Pn({".priority":rr},{".priority":qe}),Yf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=hr(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Ot?i:null}hasIndex(t){return Jn(this.indexSet_,t.toString())}addIndex(t,i){B(t!==or,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const u=i.getIterator(oe.Wrap);let d=u.getNext();for(;d;)o=o||t.isDefinedOn(d.node),a.push(d),d=u.getNext();let g;o?g=zo(a,t.getCompare()):g=rr;const m=t.toString(),p={...this.indexSet_};p[m]=t;const b={...this.indexes_};return b[m]=g,new Pn(b,p)}addToIndexes(t,i){const a=Do(this.indexes_,(o,u)=>{const d=hr(this.indexSet_,u);if(B(d,"Missing index implementation for "+u),o===rr)if(d.isDefinedOn(t.node)){const g=[],m=i.getIterator(oe.Wrap);let p=m.getNext();for(;p;)p.name!==t.name&&g.push(p),p=m.getNext();return g.push(t),zo(g,d.getCompare())}else return rr;else{const g=i.get(t.name);let m=o;return g&&(m=m.remove(new oe(t.name,g))),m.insert(t,t.node)}});return new Pn(a,this.indexSet_)}removeFromIndexes(t,i){const a=Do(this.indexes_,o=>{if(o===rr)return o;{const u=i.get(t.name);return u?o.remove(new oe(t.name,u)):o}});return new Pn(a,this.indexSet_)}}let xa;class J{static get EMPTY_NODE(){return xa||(xa=new J(new Ot(Pd),null,Pn.Default))}constructor(t,i,a){this.children_=t,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&t0(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xa}updatePriority(t){return this.children_.isEmpty()?this:new J(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?xa:i}}getChild(t){const i=le(t);return i===null?this:this.getImmediateChild(i).getChild(ke(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(B(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const a=new oe(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(a,this.children_));const d=o.isEmpty()?xa:this.priorityNode_;return new J(o,d,u)}}updateChild(t,i){const a=le(t);if(a===null)return i;{B(le(t)!==".priority"||Ii(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(ke(t),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let a=0,o=0,u=!0;if(this.forEachChild(qe,(d,g)=>{i[d]=g.val(t),a++,u&&J.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):u=!1}),!t&&u&&o<2*a){const d=[];for(const g in i)d[g]=i[g];return d}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+e0(this.getPriority().val())+":"),this.forEachChild(qe,(i,a)=>{const o=a.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Av(t)}return this.lazyHash_}getPredecessorChildName(t,i,a){const o=this.resolveIndex_(a);if(o){const u=o.getPredecessorKey(new oe(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new oe(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new oe(i,this.children_.get(i)):null}forEachChild(t,i){const a=this.resolveIndex_(t);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,oe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,oe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Qa?-1:0}withIndex(t){if(t===or||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new J(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===or||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(qe),o=i.getIterator(qe);let u=a.getNext(),d=o.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=a.getNext(),d=o.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===or?null:this.indexMap_.get(t.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class sC extends J{constructor(){super(new Ot(Pd),J.EMPTY_NODE,Pn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return J.EMPTY_NODE}isEmpty(){return!1}}const Qa=new sC;Object.defineProperties(oe,{MIN:{value:new oe(pr,J.EMPTY_NODE)},MAX:{value:new oe(hs,Qa)}});$v.__EMPTY_NODE=J.EMPTY_NODE;rt.__childrenNodeConstructor=J;JT(Qa);eC(Qa);const rC=!0;function gt(s,t=null){if(s===null)return J.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),B(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new rt(i,gt(t))}if(!(s instanceof Array)&&rC){const i=[];let a=!1;if(Mt(s,(d,g)=>{if(d.substring(0,1)!=="."){const m=gt(g);m.isEmpty()||(a=a||!m.getPriority().isEmpty(),i.push(new oe(d,m)))}}),i.length===0)return J.EMPTY_NODE;const u=zo(i,ZT,d=>d.name,Pd);if(a){const d=zo(i,qe.getCompare());return new J(u,gt(t),new Pn({".priority":d},{".priority":qe}))}else return new J(u,gt(t),Pn.Default)}else{let i=J.EMPTY_NODE;return Mt(s,(a,o)=>{if(Jn(s,a)&&a.substring(0,1)!=="."){const u=gt(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(a,u))}}),i.updatePriority(gt(t))}}$T(gt);class aC extends tc{constructor(t){super(),this.indexPath_=t,B(!de(t)&&le(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const a=this.extractChild(t.node),o=this.extractChild(i.node),u=a.compareTo(o);return u===0?Sr(t.name,i.name):u}makePost(t,i){const a=gt(t),o=J.EMPTY_NODE.updateChild(this.indexPath_,a);return new oe(i,o)}maxPost(){const t=J.EMPTY_NODE.updateChild(this.indexPath_,Qa);return new oe(hs,t)}toString(){return Kv(this.indexPath_,0).join("/")}}class lC extends tc{compare(t,i){const a=t.node.compareTo(i.node);return a===0?Sr(t.name,i.name):a}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(t,i){const a=gt(t);return new oe(i,a)}toString(){return".value"}}const oC=new lC;function s0(s){return{type:"value",snapshotNode:s}}function gr(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function La(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function ja(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function cC(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}class Vd{constructor(t){this.index_=t}updateChild(t,i,a,o,u,d){B(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(i);return g.getChild(o).equals(a.getChild(o))&&g.isEmpty()===a.isEmpty()||(d!=null&&(a.isEmpty()?t.hasChild(i)?d.trackChildChange(La(i,g)):B(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?d.trackChildChange(gr(i,a)):d.trackChildChange(ja(i,a,g))),t.isLeafNode()&&a.isEmpty())?t:t.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(t,i,a){return a!=null&&(t.isLeafNode()||t.forEachChild(qe,(o,u)=>{i.hasChild(o)||a.trackChildChange(La(o,u))}),i.isLeafNode()||i.forEachChild(qe,(o,u)=>{if(t.hasChild(o)){const d=t.getImmediateChild(o);d.equals(u)||a.trackChildChange(ja(o,u,d))}else a.trackChildChange(gr(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?J.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ba{constructor(t){this.indexedFilter_=new Vd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ba.getStartPost_(t),this.endPost_=Ba.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,a=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&a}updateChild(t,i,a,o,u,d){return this.matches(new oe(i,a))||(a=J.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,a,o,u,d)}updateFullNode(t,i,a){i.isLeafNode()&&(i=J.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(J.EMPTY_NODE);const u=this;return i.forEachChild(qe,(d,g)=>{u.matches(new oe(d,g))||(o=o.updateImmediateChild(d,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class uC{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Ba(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,a,o,u,d){return this.rangedFilter_.matches(new oe(i,a))||(a=J.EMPTY_NODE),t.getImmediateChild(i).equals(a)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,a,o,u,d):this.fullLimitUpdateChild_(t,i,a,u,d)}updateFullNode(t,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=J.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const g=u.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))o=o.updateImmediateChild(g.name,g.node),d++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(J.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let d=0;for(;u.hasNext();){const g=u.getNext();d<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?d++:o=o.updateImmediateChild(g.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,a,o,u){let d;if(this.reverse_){const v=this.index_.getCompare();d=(S,N)=>v(N,S)}else d=this.index_.getCompare();const g=t;B(g.numChildren()===this.limit_,"");const m=new oe(i,a),p=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),b=this.rangedFilter_.matches(m);if(g.hasChild(i)){const v=g.getImmediateChild(i);let S=o.getChildAfterChild(this.index_,p,this.reverse_);for(;S!=null&&(S.name===i||g.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const N=S==null?1:d(S,m);if(b&&!a.isEmpty()&&N>=0)return u?.trackChildChange(ja(i,a,v)),g.updateImmediateChild(i,a);{u?.trackChildChange(La(i,v));const D=g.updateImmediateChild(i,J.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(u?.trackChildChange(gr(S.name,S.node)),D.updateImmediateChild(S.name,S.node)):D}}else return a.isEmpty()?t:b&&d(p,m)>=0?(u!=null&&(u.trackChildChange(La(p.name,p.node)),u.trackChildChange(gr(i,a))),g.updateImmediateChild(i,a).updateImmediateChild(p.name,J.EMPTY_NODE)):t}}class Gd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pr}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const t=new Gd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function fC(s){return s.loadsAllData()?new Vd(s.getIndex()):s.hasLimit()?new uC(s):new Ba(s)}function vy(s){const t={};if(s.isDefault())return t;let i;if(s.index_===qe?i="$priority":s.index_===oC?i="$value":s.index_===or?i="$key":(B(s.index_ instanceof aC,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=lt(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";t[a]=lt(s.indexStartValue_),s.startNameSet_&&(t[a]+=","+lt(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";t[a]=lt(s.indexEndValue_),s.endNameSet_&&(t[a]+=","+lt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function by(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==qe&&(t.i=s.index_.toString()),t}class Uo extends Qv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(B(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,a,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=Fa("p:rest:"),this.listens_={}}listen(t,i,a,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const d=Uo.getListenId_(t,a),g={};this.listens_[d]=g;const m=vy(t._queryParams);this.restRequest_(u+".json",m,(p,b)=>{let v=b;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(u,v,!1,a),hr(this.listens_,d)===g){let S;p?p===401?S="permission_denied":S="rest_error:"+p:S="ok",o(S,null)}})}unlisten(t,i){const a=Uo.getListenId_(t,i);delete this.listens_[a]}get(t){const i=vy(t._queryParams),a=t._path.toString(),o=new Jo;return this.restRequest_(a+".json",i,(u,d)=>{let g=d;u===404&&(g=null,u=null),u===null?(this.onDataUpdate_(a,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+br(i);this.log_("Sending REST request for "+d);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(a&&g.readyState===4){this.log_("REST Response for "+d+" received. status:",g.status,"response:",g.responseText);let m=null;if(g.status>=200&&g.status<300){try{m=Ia(g.responseText)}catch{Dt("Failed to parse JSON response for "+d+": "+g.responseText)}a(null,m)}else g.status!==401&&g.status!==404&&Dt("Got unsuccessful REST response for "+d+" Status: "+g.status),a(g.status);a=null}},g.open("GET",d,!0),g.send()})}}class dC{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function Lo(){return{value:null,children:new Map}}function r0(s,t,i){if(de(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const a=le(t);s.children.has(a)||s.children.set(a,Lo());const o=s.children.get(a);t=ke(t),r0(o,t,i)}}function cd(s,t,i){s.value!==null?i(t,s.value):hC(s,(a,o)=>{const u=new Me(t.toString()+"/"+a);cd(o,u,i)})}function hC(s,t){s.children.forEach((i,a)=>{t(a,i)})}class pC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&Mt(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=t,i}}const Sy=10*1e3,gC=30*1e3,mC=300*1e3;class _C{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new pC(t);const a=Sy+(gC-Sy)*Math.random();Aa(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const t=this.statsListener_.get(),i={};let a=!1;Mt(t,(o,u)=>{u>0&&Jn(this.statsToReport_,o)&&(i[o]=u,a=!0)}),a&&this.server_.reportStats(i),Aa(this.reportStats_.bind(this),Math.floor(Math.random()*2*mC))}}var un;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(un||(un={}));function a0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Fd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class jo{constructor(t,i,a){this.path=t,this.affectedTree=i,this.revert=a,this.type=un.ACK_USER_WRITE,this.source=a0()}operationForChild(t){if(de(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Me(t));return new jo(be(),i,this.revert)}}else return B(le(this.path)===t,"operationForChild called for unrelated child."),new jo(ke(this.path),this.affectedTree,this.revert)}}class Ha{constructor(t,i){this.source=t,this.path=i,this.type=un.LISTEN_COMPLETE}operationForChild(t){return de(this.path)?new Ha(this.source,be()):new Ha(this.source,ke(this.path))}}class ps{constructor(t,i,a){this.source=t,this.path=i,this.snap=a,this.type=un.OVERWRITE}operationForChild(t){return de(this.path)?new ps(this.source,be(),this.snap.getImmediateChild(t)):new ps(this.source,ke(this.path),this.snap)}}class qa{constructor(t,i,a){this.source=t,this.path=i,this.children=a,this.type=un.MERGE}operationForChild(t){if(de(this.path)){const i=this.children.subtree(new Me(t));return i.isEmpty()?null:i.value?new ps(this.source,be(),i.value):new qa(this.source,be(),i)}else return B(le(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new qa(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class gs{constructor(t,i,a){this.node_=t,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(de(t))return this.isFullyInitialized()&&!this.filtered_;const i=le(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class yC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function vC(s,t,i,a){const o=[],u=[];return t.forEach(d=>{d.type==="child_changed"&&s.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(cC(d.childName,d.snapshotNode))}),Ea(s,o,"child_removed",t,a,i),Ea(s,o,"child_added",t,a,i),Ea(s,o,"child_moved",u,a,i),Ea(s,o,"child_changed",t,a,i),Ea(s,o,"value",t,a,i),o}function Ea(s,t,i,a,o,u){const d=a.filter(g=>g.type===i);d.sort((g,m)=>SC(s,g,m)),d.forEach(g=>{const m=bC(s,g,u);o.forEach(p=>{p.respondsTo(g.type)&&t.push(p.createEvent(m,s.query_))})})}function bC(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function SC(s,t,i){if(t.childName==null||i.childName==null)throw vr("Should only compare child_ events.");const a=new oe(t.childName,t.snapshotNode),o=new oe(i.childName,i.snapshotNode);return s.index_.compare(a,o)}function nc(s,t){return{eventCache:s,serverCache:t}}function Ra(s,t,i,a){return nc(new gs(t,i,a),s.serverCache)}function l0(s,t,i,a){return nc(s.eventCache,new gs(t,i,a))}function ud(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function ms(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let Ff;const xC=()=>(Ff||(Ff=new Ot(lT)),Ff);class Ue{static fromObject(t){let i=new Ue(null);return Mt(t,(a,o)=>{i=i.set(new Me(a),o)}),i}constructor(t,i=xC()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:be(),value:this.value};if(de(t))return null;{const a=le(t),o=this.children.get(a);if(o!==null){const u=o.findRootMostMatchingPathAndValue(ke(t),i);return u!=null?{path:nt(new Me(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(de(t))return this;{const i=le(t),a=this.children.get(i);return a!==null?a.subtree(ke(t)):new Ue(null)}}set(t,i){if(de(t))return new Ue(i,this.children);{const a=le(t),u=(this.children.get(a)||new Ue(null)).set(ke(t),i),d=this.children.insert(a,u);return new Ue(this.value,d)}}remove(t){if(de(t))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const i=le(t),a=this.children.get(i);if(a){const o=a.remove(ke(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Ue(null):new Ue(this.value,u)}else return this}}get(t){if(de(t))return this.value;{const i=le(t),a=this.children.get(i);return a?a.get(ke(t)):null}}setTree(t,i){if(de(t))return i;{const a=le(t),u=(this.children.get(a)||new Ue(null)).setTree(ke(t),i);let d;return u.isEmpty()?d=this.children.remove(a):d=this.children.insert(a,u),new Ue(this.value,d)}}fold(t){return this.fold_(be(),t)}fold_(t,i){const a={};return this.children.inorderTraversal((o,u)=>{a[o]=u.fold_(nt(t,o),i)}),i(t,this.value,a)}findOnPath(t,i){return this.findOnPath_(t,be(),i)}findOnPath_(t,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(de(t))return null;{const u=le(t),d=this.children.get(u);return d?d.findOnPath_(ke(t),nt(i,u),a):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,be(),i)}foreachOnPath_(t,i,a){if(de(t))return this;{this.value&&a(i,this.value);const o=le(t),u=this.children.get(o);return u?u.foreachOnPath_(ke(t),nt(i,o),a):new Ue(null)}}foreach(t){this.foreach_(be(),t)}foreach_(t,i){this.children.inorderTraversal((a,o)=>{o.foreach_(nt(t,a),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,a)=>{a.value&&t(i,a.value)})}}class dn{constructor(t){this.writeTree_=t}static empty(){return new dn(new Ue(null))}}function Na(s,t,i){if(de(t))return new dn(new Ue(i));{const a=s.writeTree_.findRootMostValueAndPath(t);if(a!=null){const o=a.path;let u=a.value;const d=Nt(o,t);return u=u.updateChild(d,i),new dn(s.writeTree_.set(o,u))}else{const o=new Ue(i),u=s.writeTree_.setTree(t,o);return new dn(u)}}}function xy(s,t,i){let a=s;return Mt(i,(o,u)=>{a=Na(a,nt(t,o),u)}),a}function Ey(s,t){if(de(t))return dn.empty();{const i=s.writeTree_.setTree(t,new Ue(null));return new dn(i)}}function fd(s,t){return bs(s,t)!=null}function bs(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(Nt(i.path,t)):null}function Ty(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(qe,(a,o)=>{t.push(new oe(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&t.push(new oe(a,o.value))}),t}function Mi(s,t){if(de(t))return s;{const i=bs(s,t);return i!=null?new dn(new Ue(i)):new dn(s.writeTree_.subtree(t))}}function dd(s){return s.writeTree_.isEmpty()}function mr(s,t){return o0(be(),s.writeTree_,t)}function o0(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let a=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(B(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):i=o0(nt(s,o),u,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(nt(s,".priority"),a)),i}}function Qd(s,t){return d0(t,s)}function EC(s,t,i,a,o){B(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=Na(s.visibleWrites,t,i)),s.lastWriteId=a}function TC(s,t){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===t)return a}return null}function CC(s,t){const i=s.allWrites.findIndex(g=>g.writeId===t);B(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,u=!1,d=s.allWrites.length-1;for(;o&&d>=0;){const g=s.allWrites[d];g.visible&&(d>=i&&wC(g,a.path)?o=!1:cn(a.path,g.path)&&(u=!0)),d--}if(o){if(u)return AC(s),!0;if(a.snap)s.visibleWrites=Ey(s.visibleWrites,a.path);else{const g=a.children;Mt(g,m=>{s.visibleWrites=Ey(s.visibleWrites,nt(a.path,m))})}return!0}else return!1}function wC(s,t){if(s.snap)return cn(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&cn(nt(s.path,i),t))return!0;return!1}function AC(s){s.visibleWrites=c0(s.allWrites,RC,be()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function RC(s){return s.visible}function c0(s,t,i){let a=dn.empty();for(let o=0;o<s.length;++o){const u=s[o];if(t(u)){const d=u.path;let g;if(u.snap)cn(i,d)?(g=Nt(i,d),a=Na(a,g,u.snap)):cn(d,i)&&(g=Nt(d,i),a=Na(a,be(),u.snap.getChild(g)));else if(u.children){if(cn(i,d))g=Nt(i,d),a=xy(a,g,u.children);else if(cn(d,i))if(g=Nt(d,i),de(g))a=xy(a,be(),u.children);else{const m=hr(u.children,le(g));if(m){const p=m.getChild(ke(g));a=Na(a,be(),p)}}}else throw vr("WriteRecord should have .snap or .children")}}return a}function u0(s,t,i,a,o){if(!a&&!o){const u=bs(s.visibleWrites,t);if(u!=null)return u;{const d=Mi(s.visibleWrites,t);if(dd(d))return i;if(i==null&&!fd(d,be()))return null;{const g=i||J.EMPTY_NODE;return mr(d,g)}}}else{const u=Mi(s.visibleWrites,t);if(!o&&dd(u))return i;if(!o&&i==null&&!fd(u,be()))return null;{const d=function(p){return(p.visible||o)&&(!a||!~a.indexOf(p.writeId))&&(cn(p.path,t)||cn(t,p.path))},g=c0(s.allWrites,d,t),m=i||J.EMPTY_NODE;return mr(g,m)}}}function NC(s,t,i){let a=J.EMPTY_NODE;const o=bs(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(qe,(u,d)=>{a=a.updateImmediateChild(u,d)}),a;if(i){const u=Mi(s.visibleWrites,t);return i.forEachChild(qe,(d,g)=>{const m=mr(Mi(u,new Me(d)),g);a=a.updateImmediateChild(d,m)}),Ty(u).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}else{const u=Mi(s.visibleWrites,t);return Ty(u).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}}function OC(s,t,i,a,o){B(a||o,"Either existingEventSnap or existingServerSnap must exist");const u=nt(t,i);if(fd(s.visibleWrites,u))return null;{const d=Mi(s.visibleWrites,u);return dd(d)?o.getChild(i):mr(d,o.getChild(i))}}function DC(s,t,i,a){const o=nt(t,i),u=bs(s.visibleWrites,o);if(u!=null)return u;if(a.isCompleteForChild(i)){const d=Mi(s.visibleWrites,o);return mr(d,a.getNode().getImmediateChild(i))}else return null}function MC(s,t){return bs(s.visibleWrites,t)}function kC(s,t,i,a,o,u,d){let g;const m=Mi(s.visibleWrites,t),p=bs(m,be());if(p!=null)g=p;else if(i!=null)g=mr(m,i);else return[];if(g=g.withIndex(d),!g.isEmpty()&&!g.isLeafNode()){const b=[],v=d.getCompare(),S=u?g.getReverseIteratorFrom(a,d):g.getIteratorFrom(a,d);let N=S.getNext();for(;N&&b.length<o;)v(N,a)!==0&&b.push(N),N=S.getNext();return b}else return[]}function IC(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function Bo(s,t,i,a){return u0(s.writeTree,s.treePath,t,i,a)}function Wd(s,t){return NC(s.writeTree,s.treePath,t)}function Cy(s,t,i,a){return OC(s.writeTree,s.treePath,t,i,a)}function Ho(s,t){return MC(s.writeTree,nt(s.treePath,t))}function zC(s,t,i,a,o,u){return kC(s.writeTree,s.treePath,t,i,a,o,u)}function Xd(s,t,i){return DC(s.writeTree,s.treePath,t,i)}function f0(s,t){return d0(nt(s.treePath,t),s.writeTree)}function d0(s,t){return{treePath:s,writeTree:t}}class UC{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,a=t.childName;B(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),B(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(a,ja(a,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(a,La(a,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(a,gr(a,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(a,ja(a,t.snapshotNode,o.oldSnap));else throw vr("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(a,t)}getChanges(){return Array.from(this.changeMap.values())}}class LC{getCompleteChild(t){return null}getChildAfterChild(t,i,a){return null}}const h0=new LC;class Kd{constructor(t,i,a=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const a=this.optCompleteServerCache_!=null?new gs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xd(this.writes_,t,a)}}getChildAfterChild(t,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ms(this.viewCache_),u=zC(this.writes_,o,i,1,a,t);return u.length===0?null:u[0]}}function jC(s){return{filter:s}}function BC(s,t){B(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),B(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function HC(s,t,i,a,o){const u=new UC;let d,g;if(i.type===un.OVERWRITE){const p=i;p.source.fromUser?d=hd(s,t,p.path,p.snap,a,o,u):(B(p.source.fromServer,"Unknown source."),g=p.source.tagged||t.serverCache.isFiltered()&&!de(p.path),d=qo(s,t,p.path,p.snap,a,o,g,u))}else if(i.type===un.MERGE){const p=i;p.source.fromUser?d=PC(s,t,p.path,p.children,a,o,u):(B(p.source.fromServer,"Unknown source."),g=p.source.tagged||t.serverCache.isFiltered(),d=pd(s,t,p.path,p.children,a,o,g,u))}else if(i.type===un.ACK_USER_WRITE){const p=i;p.revert?d=YC(s,t,p.path,a,o,u):d=VC(s,t,p.path,p.affectedTree,a,o,u)}else if(i.type===un.LISTEN_COMPLETE)d=GC(s,t,i.path,a,u);else throw vr("Unknown operation type: "+i.type);const m=u.getChanges();return qC(t,d,m),{viewCache:d,changes:m}}function qC(s,t,i){const a=t.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=ud(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&i.push(s0(ud(t)))}}function p0(s,t,i,a,o,u){const d=t.eventCache;if(Ho(a,i)!=null)return t;{let g,m;if(de(i))if(B(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=ms(t),b=p instanceof J?p:J.EMPTY_NODE,v=Wd(a,b);g=s.filter.updateFullNode(t.eventCache.getNode(),v,u)}else{const p=Bo(a,ms(t));g=s.filter.updateFullNode(t.eventCache.getNode(),p,u)}else{const p=le(i);if(p===".priority"){B(Ii(i)===1,"Can't have a priority with additional path components");const b=d.getNode();m=t.serverCache.getNode();const v=Cy(a,i,b,m);v!=null?g=s.filter.updatePriority(b,v):g=d.getNode()}else{const b=ke(i);let v;if(d.isCompleteForChild(p)){m=t.serverCache.getNode();const S=Cy(a,i,d.getNode(),m);S!=null?v=d.getNode().getImmediateChild(p).updateChild(b,S):v=d.getNode().getImmediateChild(p)}else v=Xd(a,p,t.serverCache);v!=null?g=s.filter.updateChild(d.getNode(),p,v,b,o,u):g=d.getNode()}}return Ra(t,g,d.isFullyInitialized()||de(i),s.filter.filtersNodes())}}function qo(s,t,i,a,o,u,d,g){const m=t.serverCache;let p;const b=d?s.filter:s.filter.getIndexedFilter();if(de(i))p=b.updateFullNode(m.getNode(),a,null);else if(b.filtersNodes()&&!m.isFiltered()){const N=m.getNode().updateChild(i,a);p=b.updateFullNode(m.getNode(),N,null)}else{const N=le(i);if(!m.isCompleteForPath(i)&&Ii(i)>1)return t;const I=ke(i),L=m.getNode().getImmediateChild(N).updateChild(I,a);N===".priority"?p=b.updatePriority(m.getNode(),L):p=b.updateChild(m.getNode(),N,L,I,h0,null)}const v=l0(t,p,m.isFullyInitialized()||de(i),b.filtersNodes()),S=new Kd(o,v,u);return p0(s,v,i,o,S,g)}function hd(s,t,i,a,o,u,d){const g=t.eventCache;let m,p;const b=new Kd(o,t,u);if(de(i))p=s.filter.updateFullNode(t.eventCache.getNode(),a,d),m=Ra(t,p,!0,s.filter.filtersNodes());else{const v=le(i);if(v===".priority")p=s.filter.updatePriority(t.eventCache.getNode(),a),m=Ra(t,p,g.isFullyInitialized(),g.isFiltered());else{const S=ke(i),N=g.getNode().getImmediateChild(v);let I;if(de(S))I=a;else{const D=b.getCompleteChild(v);D!=null?Xv(S)===".priority"&&D.getChild(Zv(S)).isEmpty()?I=D:I=D.updateChild(S,a):I=J.EMPTY_NODE}if(N.equals(I))m=t;else{const D=s.filter.updateChild(g.getNode(),v,I,S,b,d);m=Ra(t,D,g.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function wy(s,t){return s.eventCache.isCompleteForChild(t)}function PC(s,t,i,a,o,u,d){let g=t;return a.foreach((m,p)=>{const b=nt(i,m);wy(t,le(b))&&(g=hd(s,g,b,p,o,u,d))}),a.foreach((m,p)=>{const b=nt(i,m);wy(t,le(b))||(g=hd(s,g,b,p,o,u,d))}),g}function Ay(s,t,i){return i.foreach((a,o)=>{t=t.updateChild(a,o)}),t}function pd(s,t,i,a,o,u,d,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,p;de(i)?p=a:p=new Ue(null).setTree(i,a);const b=t.serverCache.getNode();return p.children.inorderTraversal((v,S)=>{if(b.hasChild(v)){const N=t.serverCache.getNode().getImmediateChild(v),I=Ay(s,N,S);m=qo(s,m,new Me(v),I,o,u,d,g)}}),p.children.inorderTraversal((v,S)=>{const N=!t.serverCache.isCompleteForChild(v)&&S.value===null;if(!b.hasChild(v)&&!N){const I=t.serverCache.getNode().getImmediateChild(v),D=Ay(s,I,S);m=qo(s,m,new Me(v),D,o,u,d,g)}}),m}function VC(s,t,i,a,o,u,d){if(Ho(o,i)!=null)return t;const g=t.serverCache.isFiltered(),m=t.serverCache;if(a.value!=null){if(de(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return qo(s,t,i,m.getNode().getChild(i),o,u,g,d);if(de(i)){let p=new Ue(null);return m.getNode().forEachChild(or,(b,v)=>{p=p.set(new Me(b),v)}),pd(s,t,i,p,o,u,g,d)}else return t}else{let p=new Ue(null);return a.foreach((b,v)=>{const S=nt(i,b);m.isCompleteForPath(S)&&(p=p.set(b,m.getNode().getChild(S)))}),pd(s,t,i,p,o,u,g,d)}}function GC(s,t,i,a,o){const u=t.serverCache,d=l0(t,u.getNode(),u.isFullyInitialized()||de(i),u.isFiltered());return p0(s,d,i,a,h0,o)}function YC(s,t,i,a,o,u){let d;if(Ho(a,i)!=null)return t;{const g=new Kd(a,t,o),m=t.eventCache.getNode();let p;if(de(i)||le(i)===".priority"){let b;if(t.serverCache.isFullyInitialized())b=Bo(a,ms(t));else{const v=t.serverCache.getNode();B(v instanceof J,"serverChildren would be complete if leaf node"),b=Wd(a,v)}b=b,p=s.filter.updateFullNode(m,b,u)}else{const b=le(i);let v=Xd(a,b,t.serverCache);v==null&&t.serverCache.isCompleteForChild(b)&&(v=m.getImmediateChild(b)),v!=null?p=s.filter.updateChild(m,b,v,ke(i),g,u):t.eventCache.getNode().hasChild(b)?p=s.filter.updateChild(m,b,J.EMPTY_NODE,ke(i),g,u):p=m,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Bo(a,ms(t)),d.isLeafNode()&&(p=s.filter.updateFullNode(p,d,u)))}return d=t.serverCache.isFullyInitialized()||Ho(a,be())!=null,Ra(t,p,d,s.filter.filtersNodes())}}class FC{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new Vd(a.getIndex()),u=fC(a);this.processor_=jC(u);const d=i.serverCache,g=i.eventCache,m=o.updateFullNode(J.EMPTY_NODE,d.getNode(),null),p=u.updateFullNode(J.EMPTY_NODE,g.getNode(),null),b=new gs(m,d.isFullyInitialized(),o.filtersNodes()),v=new gs(p,g.isFullyInitialized(),u.filtersNodes());this.viewCache_=nc(v,b),this.eventGenerator_=new yC(this.query_)}get query(){return this.query_}}function QC(s){return s.viewCache_.serverCache.getNode()}function WC(s,t){const i=ms(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!de(t)&&!i.getImmediateChild(le(t)).isEmpty())?i.getChild(t):null}function Ry(s){return s.eventRegistrations_.length===0}function XC(s,t){s.eventRegistrations_.push(t)}function Ny(s,t,i){const a=[];if(i){B(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(i,o);d&&a.push(d)})}if(t){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const d=s.eventRegistrations_[u];if(!d.matches(t))o.push(d);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function Oy(s,t,i,a){t.type===un.MERGE&&t.source.queryId!==null&&(B(ms(s.viewCache_),"We should always have a full cache before handling merges"),B(ud(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=HC(s.processor_,o,t,i,a);return BC(s.processor_,u.viewCache),B(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,g0(s,u.changes,u.viewCache.eventCache.getNode(),null)}function KC(s,t){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(qe,(u,d)=>{a.push(gr(u,d))}),i.isFullyInitialized()&&a.push(s0(i.getNode())),g0(s,a,i.getNode(),t)}function g0(s,t,i,a){const o=a?[a]:s.eventRegistrations_;return vC(s.eventGenerator_,t,i,o)}let Po;class ZC{constructor(){this.views=new Map}}function JC(s){B(!Po,"__referenceConstructor has already been defined"),Po=s}function $C(){return B(Po,"Reference.ts has not been loaded"),Po}function e2(s){return s.views.size===0}function Zd(s,t,i,a){const o=t.source.queryId;if(o!==null){const u=s.views.get(o);return B(u!=null,"SyncTree gave us an op for an invalid query."),Oy(u,t,i,a)}else{let u=[];for(const d of s.views.values())u=u.concat(Oy(d,t,i,a));return u}}function t2(s,t,i,a,o){const u=t._queryIdentifier,d=s.views.get(u);if(!d){let g=Bo(i,o?a:null),m=!1;g?m=!0:a instanceof J?(g=Wd(i,a),m=!1):(g=J.EMPTY_NODE,m=!1);const p=nc(new gs(g,m,!1),new gs(a,o,!1));return new FC(t,p)}return d}function n2(s,t,i,a,o,u){const d=t2(s,t,a,o,u);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,d),XC(d,i),KC(d,i)}function i2(s,t,i,a){const o=t._queryIdentifier,u=[];let d=[];const g=zi(s);if(o==="default")for(const[m,p]of s.views.entries())d=d.concat(Ny(p,i,a)),Ry(p)&&(s.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=s.views.get(o);m&&(d=d.concat(Ny(m,i,a)),Ry(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return g&&!zi(s)&&u.push(new($C())(t._repo,t._path)),{removed:u,events:d}}function m0(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function cr(s,t){let i=null;for(const a of s.views.values())i=i||WC(a,t);return i}function _0(s,t){if(t._queryParams.loadsAllData())return ic(s);{const a=t._queryIdentifier;return s.views.get(a)}}function y0(s,t){return _0(s,t)!=null}function zi(s){return ic(s)!=null}function ic(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Vo;function s2(s){B(!Vo,"__referenceConstructor has already been defined"),Vo=s}function r2(){return B(Vo,"Reference.ts has not been loaded"),Vo}let a2=1;class Dy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=IC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function v0(s,t,i,a,o){return EC(s.pendingWriteTree_,t,i,a,o),o?Wa(s,new ps(a0(),t,i)):[]}function as(s,t,i=!1){const a=TC(s.pendingWriteTree_,t);if(CC(s.pendingWriteTree_,t)){let u=new Ue(null);return a.snap!=null?u=u.set(be(),!0):Mt(a.children,d=>{u=u.set(new Me(d),!0)}),Wa(s,new jo(a.path,u,i))}else return[]}function sc(s,t,i){return Wa(s,new ps(Yd(),t,i))}function l2(s,t,i){const a=Ue.fromObject(i);return Wa(s,new qa(Yd(),t,a))}function o2(s,t){return Wa(s,new Ha(Yd(),t))}function c2(s,t,i){const a=$d(s,i);if(a){const o=eh(a),u=o.path,d=o.queryId,g=Nt(u,t),m=new Ha(Fd(d),g);return th(s,u,m)}else return[]}function gd(s,t,i,a,o=!1){const u=t._path,d=s.syncPointTree_.get(u);let g=[];if(d&&(t._queryIdentifier==="default"||y0(d,t))){const m=i2(d,t,i,a);e2(d)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const p=m.removed;if(g=m.events,!o){const b=p.findIndex(S=>S._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(u,(S,N)=>zi(N));if(b&&!v){const S=s.syncPointTree_.subtree(u);if(!S.isEmpty()){const N=d2(S);for(let I=0;I<N.length;++I){const D=N[I],L=D.query,P=x0(s,D);s.listenProvider_.startListening(Oa(L),Go(s,L),P.hashFn,P.onComplete)}}}!v&&p.length>0&&!a&&(b?s.listenProvider_.stopListening(Oa(t),null):p.forEach(S=>{const N=s.queryToTagMap.get(rc(S));s.listenProvider_.stopListening(Oa(S),N)}))}h2(s,p)}return g}function u2(s,t,i,a){const o=$d(s,a);if(o!=null){const u=eh(o),d=u.path,g=u.queryId,m=Nt(d,t),p=new ps(Fd(g),m,i);return th(s,d,p)}else return[]}function f2(s,t,i,a){const o=$d(s,a);if(o){const u=eh(o),d=u.path,g=u.queryId,m=Nt(d,t),p=Ue.fromObject(i),b=new qa(Fd(g),m,p);return th(s,d,b)}else return[]}function My(s,t,i,a=!1){const o=t._path;let u=null,d=!1;s.syncPointTree_.foreachOnPath(o,(S,N)=>{const I=Nt(S,o);u=u||cr(N,I),d=d||zi(N)});let g=s.syncPointTree_.get(o);g?(d=d||zi(g),u=u||cr(g,be())):(g=new ZC,s.syncPointTree_=s.syncPointTree_.set(o,g));let m;u!=null?m=!0:(m=!1,u=J.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((N,I)=>{const D=cr(I,be());D&&(u=u.updateImmediateChild(N,D))}));const p=y0(g,t);if(!p&&!t._queryParams.loadsAllData()){const S=rc(t);B(!s.queryToTagMap.has(S),"View does not exist, but we have a tag");const N=p2();s.queryToTagMap.set(S,N),s.tagToQueryMap.set(N,S)}const b=Qd(s.pendingWriteTree_,o);let v=n2(g,t,i,b,u,m);if(!p&&!d&&!a){const S=_0(g,t);v=v.concat(g2(s,t,S))}return v}function Jd(s,t,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(t,(d,g)=>{const m=Nt(d,t),p=cr(g,m);if(p)return p});return u0(o,t,u,i,!0)}function Wa(s,t){return b0(t,s.syncPointTree_,null,Qd(s.pendingWriteTree_,be()))}function b0(s,t,i,a){if(de(s.path))return S0(s,t,i,a);{const o=t.get(be());i==null&&o!=null&&(i=cr(o,be()));let u=[];const d=le(s.path),g=s.operationForChild(d),m=t.children.get(d);if(m&&g){const p=i?i.getImmediateChild(d):null,b=f0(a,d);u=u.concat(b0(g,m,p,b))}return o&&(u=u.concat(Zd(o,s,a,i))),u}}function S0(s,t,i,a){const o=t.get(be());i==null&&o!=null&&(i=cr(o,be()));let u=[];return t.children.inorderTraversal((d,g)=>{const m=i?i.getImmediateChild(d):null,p=f0(a,d),b=s.operationForChild(d);b&&(u=u.concat(S0(b,g,m,p)))}),o&&(u=u.concat(Zd(o,s,a,i))),u}function x0(s,t){const i=t.query,a=Go(s,i);return{hashFn:()=>(QC(t)||J.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?c2(s,i._path,a):o2(s,i._path);{const u=uT(o,i);return gd(s,i,null,u)}}}}function Go(s,t){const i=rc(t);return s.queryToTagMap.get(i)}function rc(s){return s._path.toString()+"$"+s._queryIdentifier}function $d(s,t){return s.tagToQueryMap.get(t)}function eh(s){const t=s.indexOf("$");return B(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Me(s.substr(0,t))}}function th(s,t,i){const a=s.syncPointTree_.get(t);B(a,"Missing sync point for query tag that we're tracking");const o=Qd(s.pendingWriteTree_,t);return Zd(a,i,o,null)}function d2(s){return s.fold((t,i,a)=>{if(i&&zi(i))return[ic(i)];{let o=[];return i&&(o=m0(i)),Mt(a,(u,d)=>{o=o.concat(d)}),o}})}function Oa(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(r2())(s._repo,s._path):s}function h2(s,t){for(let i=0;i<t.length;++i){const a=t[i];if(!a._queryParams.loadsAllData()){const o=rc(a),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function p2(){return a2++}function g2(s,t,i){const a=t._path,o=Go(s,t),u=x0(s,i),d=s.listenProvider_.startListening(Oa(t),o,u.hashFn,u.onComplete),g=s.syncPointTree_.subtree(a);if(o)B(!zi(g.value),"If we're adding a query, it shouldn't be shadowed");else{const m=g.fold((p,b,v)=>{if(!de(p)&&b&&zi(b))return[ic(b).query];{let S=[];return b&&(S=S.concat(m0(b).map(N=>N.query))),Mt(v,(N,I)=>{S=S.concat(I)}),S}});for(let p=0;p<m.length;++p){const b=m[p];s.listenProvider_.stopListening(Oa(b),Go(s,b))}}return d}class nh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new nh(i)}node(){return this.node_}}class ih{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=nt(this.path_,t);return new ih(this.syncTree_,i)}node(){return Jd(this.syncTree_,this.path_)}}const m2=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},ky=function(s,t,i){if(!s||typeof s!="object")return s;if(B(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return _2(s[".sv"],t,i);if(typeof s[".sv"]=="object")return y2(s[".sv"],t);B(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},_2=function(s,t,i){switch(s){case"timestamp":return i.timestamp;default:B(!1,"Unexpected server value: "+s)}},y2=function(s,t,i){s.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&B(!1,"Unexpected increment value: "+a);const o=t.node();if(B(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const d=o.getValue();return typeof d!="number"?a:d+a},v2=function(s,t,i,a){return sh(t,new ih(i,s),a)},E0=function(s,t,i){return sh(s,new nh(t),i)};function sh(s,t,i){const a=s.getPriority().val(),o=ky(a,t.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const d=s,g=ky(d.getValue(),t,i);return g!==d.getValue()||o!==d.getPriority().val()?new rt(g,gt(o)):s}else{const d=s;return u=d,o!==d.getPriority().val()&&(u=u.updatePriority(new rt(o))),d.forEachChild(qe,(g,m)=>{const p=sh(m,t.getImmediateChild(g),i);p!==m&&(u=u.updateImmediateChild(g,p))}),u}}class rh{constructor(t="",i=null,a={children:{},childCount:0}){this.name=t,this.parent=i,this.node=a}}function ah(s,t){let i=t instanceof Me?t:new Me(t),a=s,o=le(i);for(;o!==null;){const u=hr(a.node.children,o)||{children:{},childCount:0};a=new rh(o,a,u),i=ke(i),o=le(i)}return a}function Er(s){return s.node.value}function T0(s,t){s.node.value=t,md(s)}function C0(s){return s.node.childCount>0}function b2(s){return Er(s)===void 0&&!C0(s)}function ac(s,t){Mt(s.node.children,(i,a)=>{t(new rh(i,s,a))})}function w0(s,t,i,a){i&&t(s),ac(s,o=>{w0(o,t,!0)})}function S2(s,t,i){let a=s.parent;for(;a!==null;){if(t(a))return!0;a=a.parent}return!1}function Xa(s){return new Me(s.parent===null?s.name:Xa(s.parent)+"/"+s.name)}function md(s){s.parent!==null&&x2(s.parent,s.name,s)}function x2(s,t,i){const a=b2(i),o=Jn(s.node.children,t);a&&o?(delete s.node.children[t],s.node.childCount--,md(s)):!a&&!o&&(s.node.children[t]=i.node,s.node.childCount++,md(s))}const E2=/[\[\].#$\/\u0000-\u001F\u007F]/,T2=/[\[\].#$\u0000-\u001F\u007F]/,Qf=10*1024*1024,A0=function(s){return typeof s=="string"&&s.length!==0&&!E2.test(s)},R0=function(s){return typeof s=="string"&&s.length!==0&&!T2.test(s)},C2=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),R0(s)},N0=function(s,t,i,a){a&&t===void 0||lh(Md(s,"value"),t,i)},lh=function(s,t,i){const a=i instanceof Me?new VT(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+ss(a));if(typeof t=="function")throw new Error(s+"contains a function "+ss(a)+" with contents = "+t.toString());if(Rv(t))throw new Error(s+"contains "+t.toString()+" "+ss(a));if(typeof t=="string"&&t.length>Qf/3&&$o(t)>Qf)throw new Error(s+"contains a string greater than "+Qf+" utf8 bytes "+ss(a)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(Mt(t,(d,g)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!A0(d)))throw new Error(s+" contains an invalid key ("+d+") "+ss(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GT(a,d),lh(s,g,a),YT(a)}),o&&u)throw new Error(s+' contains ".value" child '+ss(a)+" in addition to actual children.")}},O0=function(s,t,i,a){if(!R0(i))throw new Error(Md(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},w2=function(s,t,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),O0(s,t,i)},oh=function(s,t){if(le(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},A2=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!A0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!C2(i))throw new Error(Md(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class R2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ch(s,t){let i=null;for(let a=0;a<t.length;a++){const o=t[a],u=o.getPath();i!==null&&!Hd(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function D0(s,t,i){ch(s,i),M0(s,a=>Hd(a,t))}function Xn(s,t,i){ch(s,i),M0(s,a=>cn(a,t)||cn(t,a))}function M0(s,t){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const u=o.path;t(u)?(N2(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function N2(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const a=i.getEventRunner();wa&&_t("event: "+i.toString()),xr(a)}}}const O2="repo_interrupt",D2=25;class M2{constructor(t,i,a,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new R2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lo(),this.transactionQueueTree_=new rh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function k2(s,t,i){if(s.stats_=jd(s.repoInfo_),s.forceRestClient_||pT())s.server_=new Uo(s.repoInfo_,(a,o,u,d)=>{Iy(s,a,o,u,d)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>zy(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lt(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Yn(s.repoInfo_,t,(a,o,u,d)=>{Iy(s,a,o,u,d)},a=>{zy(s,a)},a=>{I2(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=vT(s.repoInfo_,()=>new _C(s.stats_,s.server_)),s.infoData_=new dC,s.infoSyncTree_=new Dy({startListening:(a,o,u,d)=>{let g=[];const m=s.infoData_.getNode(a._path);return m.isEmpty()||(g=sc(s.infoSyncTree_,a._path,m),setTimeout(()=>{d("ok")},0)),g},stopListening:()=>{}}),fh(s,"connected",!1),s.serverSyncTree_=new Dy({startListening:(a,o,u,d)=>(s.server_.listen(a,u,o,(g,m)=>{const p=d(g,m);Xn(s.eventQueue_,a._path,p)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function k0(s){const i=s.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function uh(s){return m2({timestamp:k0(s)})}function Iy(s,t,i,a,o){s.dataUpdateCount++;const u=new Me(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let d=[];if(o)if(a){const m=Do(i,p=>gt(p));d=f2(s.serverSyncTree_,u,m,o)}else{const m=gt(i);d=u2(s.serverSyncTree_,u,m,o)}else if(a){const m=Do(i,p=>gt(p));d=l2(s.serverSyncTree_,u,m)}else{const m=gt(i);d=sc(s.serverSyncTree_,u,m)}let g=u;d.length>0&&(g=lc(s,u)),Xn(s.eventQueue_,g,d)}function zy(s,t){fh(s,"connected",t),t===!1&&U2(s)}function I2(s,t){Mt(t,(i,a)=>{fh(s,i,a)})}function fh(s,t,i){const a=new Me("/.info/"+t),o=gt(i);s.infoData_.updateSnapshot(a,o);const u=sc(s.infoSyncTree_,a,o);Xn(s.eventQueue_,a,u)}function I0(s){return s.nextWriteId_++}function z2(s,t,i,a,o){dh(s,"set",{path:t.toString(),value:i,priority:a});const u=uh(s),d=gt(i,a),g=Jd(s.serverSyncTree_,t),m=E0(d,g,u),p=I0(s),b=v0(s.serverSyncTree_,t,m,p,!0);ch(s.eventQueue_,b),s.server_.put(t.toString(),d.val(!0),(S,N)=>{const I=S==="ok";I||Dt("set at "+t+" failed: "+S);const D=as(s.serverSyncTree_,p,!I);Xn(s.eventQueue_,t,D),H2(s,o,S,N)});const v=B0(s,t);lc(s,v),Xn(s.eventQueue_,v,[])}function U2(s){dh(s,"onDisconnectEvents");const t=uh(s),i=Lo();cd(s.onDisconnect_,be(),(o,u)=>{const d=v2(o,u,s.serverSyncTree_,t);r0(i,o,d)});let a=[];cd(i,be(),(o,u)=>{a=a.concat(sc(s.serverSyncTree_,o,u));const d=B0(s,o);lc(s,d)}),s.onDisconnect_=Lo(),Xn(s.eventQueue_,be(),a)}function L2(s,t,i){let a;le(t._path)===".info"?a=My(s.infoSyncTree_,t,i):a=My(s.serverSyncTree_,t,i),D0(s.eventQueue_,t._path,a)}function j2(s,t,i){let a;le(t._path)===".info"?a=gd(s.infoSyncTree_,t,i):a=gd(s.serverSyncTree_,t,i),D0(s.eventQueue_,t._path,a)}function B2(s){s.persistentConnection_&&s.persistentConnection_.interrupt(O2)}function dh(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),_t(i,...t)}function H2(s,t,i,a){t&&xr(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;a&&(u+=": "+a);const d=new Error(u);d.code=o,t(d)}})}function z0(s,t,i){return Jd(s.serverSyncTree_,t,i)||J.EMPTY_NODE}function hh(s,t=s.transactionQueueTree_){if(t||oc(s,t),Er(t)){const i=L0(s,t);B(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&q2(s,Xa(t),i)}else C0(t)&&ac(t,i=>{hh(s,i)})}function q2(s,t,i){const a=i.map(p=>p.currentWriteId),o=z0(s,t,a);let u=o;const d=o.hash();for(let p=0;p<i.length;p++){const b=i[p];B(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const v=Nt(t,b.path);u=u.updateChild(v,b.currentOutputSnapshotRaw)}const g=u.val(!0),m=t;s.server_.put(m.toString(),g,p=>{dh(s,"transaction put response",{path:m.toString(),status:p});let b=[];if(p==="ok"){const v=[];for(let S=0;S<i.length;S++)i[S].status=2,b=b.concat(as(s.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&v.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();oc(s,ah(s.transactionQueueTree_,t)),hh(s,s.transactionQueueTree_),Xn(s.eventQueue_,t,b);for(let S=0;S<v.length;S++)xr(v[S])}else{if(p==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{Dt("transaction at "+m.toString()+" failed: "+p);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=p}lc(s,t)}},d)}function lc(s,t){const i=U0(s,t),a=Xa(i),o=L0(s,i);return P2(s,o,a),a}function P2(s,t,i){if(t.length===0)return;const a=[];let o=[];const d=t.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const m=t[g],p=Nt(i,m.path);let b=!1,v;if(B(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)b=!0,v=m.abortReason,o=o.concat(as(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=D2)b=!0,v="maxretry",o=o.concat(as(s.serverSyncTree_,m.currentWriteId,!0));else{const S=z0(s,m.path,d);m.currentInputSnapshot=S;const N=t[g].update(S.val());if(N!==void 0){lh("transaction failed: Data returned ",N,m.path);let I=gt(N);typeof N=="object"&&N!=null&&Jn(N,".priority")||(I=I.updatePriority(S.getPriority()));const L=m.currentWriteId,P=uh(s),Q=E0(I,S,P);m.currentOutputSnapshotRaw=I,m.currentOutputSnapshotResolved=Q,m.currentWriteId=I0(s),d.splice(d.indexOf(L),1),o=o.concat(v0(s.serverSyncTree_,m.path,Q,m.currentWriteId,m.applyLocally)),o=o.concat(as(s.serverSyncTree_,L,!0))}else b=!0,v="nodata",o=o.concat(as(s.serverSyncTree_,m.currentWriteId,!0))}Xn(s.eventQueue_,i,o),o=[],b&&(t[g].status=2,(function(S){setTimeout(S,Math.floor(0))})(t[g].unwatcher),t[g].onComplete&&(v==="nodata"?a.push(()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot)):a.push(()=>t[g].onComplete(new Error(v),!1,null))))}oc(s,s.transactionQueueTree_);for(let g=0;g<a.length;g++)xr(a[g]);hh(s,s.transactionQueueTree_)}function U0(s,t){let i,a=s.transactionQueueTree_;for(i=le(t);i!==null&&Er(a)===void 0;)a=ah(a,i),t=ke(t),i=le(t);return a}function L0(s,t){const i=[];return j0(s,t,i),i.sort((a,o)=>a.order-o.order),i}function j0(s,t,i){const a=Er(t);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);ac(t,o=>{j0(s,o,i)})}function oc(s,t){const i=Er(t);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,T0(t,i.length>0?i:void 0)}ac(t,a=>{oc(s,a)})}function B0(s,t){const i=Xa(U0(s,t)),a=ah(s.transactionQueueTree_,t);return S2(a,o=>{Wf(s,o)}),Wf(s,a),w0(a,o=>{Wf(s,o)}),i}function Wf(s,t){const i=Er(t);if(i){const a=[];let o=[],u=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(B(u===d-1,"All SENT items should be at beginning of queue."),u=d,i[d].status=3,i[d].abortReason="set"):(B(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),o=o.concat(as(s.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&a.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?T0(t,void 0):i.length=u+1,Xn(s.eventQueue_,Xa(t),o);for(let d=0;d<a.length;d++)xr(a[d])}}function V2(s){let t="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function G2(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Dt(`Invalid query segment '${i}' in query '${s}'`)}return t}const Uy=function(s,t){const i=Y2(s),a=i.namespace;i.domain==="firebase.com"&&Wn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&Wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||rT();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Hv(i.host,i.secure,a,o,t,"",a!==i.subdomain),path:new Me(i.pathString)}},Y2=function(s){let t="",i="",a="",o="",u="",d=!0,g="https",m=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(g=s.substring(0,p-1),s=s.substring(p+2));let b=s.indexOf("/");b===-1&&(b=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),t=s.substring(0,Math.min(b,v)),b<v&&(o=V2(s.substring(b,v)));const S=G2(s.substring(Math.min(s.length,v)));p=t.indexOf(":"),p>=0?(d=g==="https"||g==="wss",m=parseInt(t.substring(p+1),10)):p=t.length;const N=t.slice(0,p);if(N.toLowerCase()==="localhost")i="localhost";else if(N.split(".").length<=2)i=N;else{const I=t.indexOf(".");a=t.substring(0,I).toLowerCase(),i=t.substring(I+1),u=a}"ns"in S&&(u=S.ns)}return{host:t,port:m,domain:i,subdomain:a,secure:d,scheme:g,pathString:o,namespace:u}};const Ly="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",F2=(function(){let s=0;const t=[];return function(i){const a=i===s;s=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Ly.charAt(i%64),i=Math.floor(i/64);B(i===0,"Cannot push at time == 0");let d=u.join("");if(a){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)d+=Ly.charAt(t[o]);return B(d.length===20,"nextPushId: Length should be 20."),d}})();class Q2{constructor(t,i,a,o){this.eventType=t,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+lt(this.snapshot.exportVal())}}class W2{constructor(t,i,a){this.eventRegistration=t,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class X2{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class ph{constructor(t,i,a,o){this._repo=t,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return de(this._path)?null:Xv(this._path)}get ref(){return new Li(this._repo,this._path)}get _queryIdentifier(){const t=by(this._queryParams),i=Ud(t);return i==="{}"?"default":i}get _queryObject(){return by(this._queryParams)}isEqual(t){if(t=ot(t),!(t instanceof ph))return!1;const i=this._repo===t._repo,a=Hd(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+PT(this._path)}}class Li extends ph{constructor(t,i){super(t,i,new Gd,!1)}get parent(){const t=Zv(this._path);return t===null?null:new Li(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Yo{constructor(t,i,a){this._node=t,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Me(t),a=Pa(this.ref,t);return new Yo(this._node.getChild(i),a,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>t(new Yo(o,Pa(this.ref,a),qe)))}hasChild(t){const i=new Me(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qe(s,t){return s=ot(s),s._checkNotDeleted("ref"),t!==void 0?Pa(s._root,t):s._root}function Pa(s,t){return s=ot(s),le(s._path)===null?w2("child","path",t):O0("child","path",t),new Li(s._repo,nt(s._path,t))}function _r(s,t){s=ot(s),oh("push",s._path),N0("push",t,s._path,!0);const i=k0(s._repo),a=F2(i),o=Pa(s,a),u=Pa(s,a);let d;return d=Promise.resolve(u),o.then=d.then.bind(d),o.catch=d.then.bind(d,void 0),o}function gh(s){return oh("remove",s._path),yn(s,null)}function yn(s,t){s=ot(s),oh("set",s._path),N0("set",t,s._path,!1);const i=new Jo;return z2(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}class mh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const a=i._queryParams.getIndex();return new Q2("value",this,new Yo(t.snapshotNode,new Li(i._repo,i._path),a))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new W2(this,t,i):null}matches(t){return t instanceof mh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function K2(s,t,i,a,o){const u=new X2(i,void 0),d=new mh(u);return L2(s._repo,s,d),()=>j2(s._repo,s,d)}function Fn(s,t,i,a){return K2(s,"value",t)}JC(Li);s2(Li);const Z2="FIREBASE_DATABASE_EMULATOR_HOST",_d={};let J2=!1;function $2(s,t,i,a){const o=t.lastIndexOf(":"),u=t.substring(0,o),d=Ui(u);s.repoInfo_=new Hv(t,d,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function ew(s,t,i,a,o){let u=a||s.options.databaseURL;u===void 0&&(s.options.projectId||Wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let d=Uy(u,o),g=d.repoInfo,m;typeof process<"u"&&ny&&(m=ny[Z2]),m?(u=`http://${m}?ns=${g.namespace}`,d=Uy(u,o),g=d.repoInfo):d.repoInfo.secure;const p=new mT(s.name,s.options,t);A2("Invalid Firebase Database URL",d),de(d.path)||Wn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=nw(g,s,p,new gT(s,i));return new iw(b,s)}function tw(s,t){const i=_d[t];(!i||i[s.key]!==s)&&Wn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),B2(s),delete i[s.key]}function nw(s,t,i,a){let o=_d[t.name];o||(o={},_d[t.name]=o);let u=o[s.toURLString()];return u&&Wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new M2(s,J2,i,a),o[s.toURLString()]=u,u}class iw{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(k2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Li(this._repo,be())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Wn("Cannot call "+t+" on a deleted database.")}}function sw(s=zd(),t){const i=ec(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const a=pv("database");a&&rw(i,...a)}return i}function rw(s,t,i,a={}){s=ot(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&fs(a,u.repoInfo_.emulatorOptions))return;Wn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(u.repoInfo_.nodeAdmin)a.mockUserToken&&Wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Eo(Eo.OWNER);else if(a.mockUserToken){const g=typeof a.mockUserToken=="string"?a.mockUserToken:_v(a.mockUserToken,s.app.options.projectId);d=new Eo(g)}Ui(t)&&(Nd(t),Od("Database",!0)),$2(u,o,a,d)}function aw(s){$E(vs),ds(new ki("database",(t,{instanceIdentifier:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return ew(a,o,u,i)},"PUBLIC").setMultipleInstances(!0)),bn(iy,sy,s),bn(iy,sy,"esm2020")}Yn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Yn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};aw();function H0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lw=H0,q0=new Ga("auth","Firebase",H0());const Fo=new kd("@firebase/auth");function ow(s,...t){Fo.logLevel<=Ne.WARN&&Fo.warn(`Auth (${vs}): ${s}`,...t)}function To(s,...t){Fo.logLevel<=Ne.ERROR&&Fo.error(`Auth (${vs}): ${s}`,...t)}function xn(s,...t){throw yh(s,...t)}function hn(s,...t){return yh(s,...t)}function _h(s,t,i){const a={...lw(),[t]:i};return new Ga("auth","Firebase",a).create(t,{appName:s.name})}function os(s){return _h(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cw(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&xn(s,"argument-error"),_h(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yh(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return q0.create(s,...t)}function $(s,t,...i){if(!s)throw yh(t,...i)}function Vn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw To(t),new Error(t)}function Kn(s,t){s||Vn(t)}function yd(){return typeof self<"u"&&self.location?.href||""}function uw(){return jy()==="http:"||jy()==="https:"}function jy(){return typeof self<"u"&&self.location?.protocol||null}function fw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uw()||Rx()||"connection"in navigator)?navigator.onLine:!0}function dw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ka{constructor(t,i){this.shortDelay=t,this.longDelay=i,Kn(i>t,"Short delay should be less than long delay!"),this.isMobile=Dd()||yv()}get(){return fw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vh(s,t){Kn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class P0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gw=new Ka(3e4,6e4);function bh(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Tr(s,t,i,a,o={}){return V0(s,o,async()=>{let u={},d={};a&&(t==="GET"?d=a:u={body:JSON.stringify(a)});const g=br({key:s.config.apiKey,...d}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:m,...u};return Ax()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&Ui(s.emulatorConfig.host)&&(p.credentials="include"),P0.fetch()(await G0(s,s.config.apiHost,i,g),p)})}async function V0(s,t,i){s._canInitEmulator=!1;const a={...hw,...t};try{const o=new _w(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw bo(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[m,p]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw bo(s,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw bo(s,"email-already-in-use",d);if(m==="USER_DISABLED")throw bo(s,"user-disabled",d);const b=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw _h(s,b,p);xn(s,b)}}catch(o){if(o instanceof Zn)throw o;xn(s,"network-request-failed",{message:String(o)})}}async function mw(s,t,i,a,o={}){const u=await Tr(s,t,i,a,o);return"mfaPendingCredential"in u&&xn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function G0(s,t,i,a){const o=`${t}${i}?${a}`,u=s,d=u.config.emulator?vh(s.config,o):`${s.config.apiScheme}://${o}`;return pw.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class _w{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(hn(this.auth,"network-request-failed")),gw.get())})}}function bo(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=hn(s,t,a);return o.customData._tokenResponse=i,o}async function yw(s,t){return Tr(s,"POST","/v1/accounts:delete",t)}async function Qo(s,t){return Tr(s,"POST","/v1/accounts:lookup",t)}function Da(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vw(s,t=!1){const i=ot(s),a=await i.getIdToken(t),o=Sh(a);$(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:a,authTime:Da(Xf(o.auth_time)),issuedAtTime:Da(Xf(o.iat)),expirationTime:Da(Xf(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Xf(s){return Number(s)*1e3}function Sh(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return To("JWT malformed, contained fewer than 3 sections"),null;try{const o=Oo(i);return o?JSON.parse(o):(To("Failed to decode base64 JWT payload"),null)}catch(o){return To("Caught error parsing JWT payload as JSON",o?.toString()),null}}function By(s){const t=Sh(s);return $(t,"internal-error"),$(typeof t.exp<"u","internal-error"),$(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Va(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Zn&&bw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function bw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Sw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Da(this.lastLoginAt),this.creationTime=Da(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wo(s){const t=s.auth,i=await s.getIdToken(),a=await Va(s,Qo(t,{idToken:i}));$(a?.users.length,t,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?Y0(o.providerUserInfo):[],d=Ew(s.providerData,u),g=s.isAnonymous,m=!(s.email&&o.passwordHash)&&!d?.length,p=g?m:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new vd(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,b)}async function xw(s){const t=ot(s);await Wo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ew(s,t){return[...s.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Y0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Tw(s,t){const i=await V0(s,{},async()=>{const a=br({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=await G0(s,o,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:g,body:a};return s.emulatorConfig&&Ui(s.emulatorConfig.host)&&(m.credentials="include"),P0.fetch()(d,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Cw(s,t){return Tr(s,"POST","/v2/accounts:revokeToken",bh(s,t))}class ur{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){$(t.idToken,"internal-error"),$(typeof t.idToken<"u","internal-error"),$(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):By(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){$(t.length!==0,"internal-error");const i=By(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:u}=await Tw(t,i);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:u}=i,d=new ur;return a&&($(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&($(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),u&&($(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ur,this.toJSON())}_performRefresh(){return Vn("not implemented")}}function Ci(s,t){$(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class fn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Sw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Va(this,this.stsTokenManager.getToken(this.auth,t));return $(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return vw(this,t)}reload(){return xw(this)}_assign(t){this!==t&&($(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new fn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Wo(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(os(this.auth));const t=await this.getIdToken();return await Va(this,yw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,m=i._redirectEventId??void 0,p=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:v,emailVerified:S,isAnonymous:N,providerData:I,stsTokenManager:D}=i;$(v&&D,t,"internal-error");const L=ur.fromJSON(this.name,D);$(typeof v=="string",t,"internal-error"),Ci(a,t.name),Ci(o,t.name),$(typeof S=="boolean",t,"internal-error"),$(typeof N=="boolean",t,"internal-error"),Ci(u,t.name),Ci(d,t.name),Ci(g,t.name),Ci(m,t.name),Ci(p,t.name),Ci(b,t.name);const P=new fn({uid:v,auth:t,email:o,emailVerified:S,displayName:a,isAnonymous:N,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:L,createdAt:p,lastLoginAt:b});return I&&Array.isArray(I)&&(P.providerData=I.map(Q=>({...Q}))),m&&(P._redirectEventId=m),P}static async _fromIdTokenResponse(t,i,a=!1){const o=new ur;o.updateFromServerResponse(i);const u=new fn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Wo(u),u}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];$(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Y0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,g=new ur;g.updateFromIdToken(a);const m=new fn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,p),m}}const Hy=new Map;function Gn(s){Kn(s instanceof Function,"Expected a class definition");let t=Hy.get(s);return t?(Kn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Hy.set(s,t),t)}class F0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}F0.type="NONE";const qy=F0;function Co(s,t,i){return`firebase:${s}:${t}:${i}`}class fr{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Co(this.userKey,o.apiKey,u),this.fullPersistenceKey=Co("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qo(this.auth,{idToken:t}).catch(()=>{});return i?fn._fromGetAccountInfoResponse(this.auth,i,t):null}return fn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new fr(Gn(qy),t,a);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Gn(qy);const d=Co(a,t.config.apiKey,t.name);let g=null;for(const p of i)try{const b=await p._get(d);if(b){let v;if(typeof b=="string"){const S=await Qo(t,{idToken:b}).catch(()=>{});if(!S)break;v=await fn._fromGetAccountInfoResponse(t,S,b)}else v=fn._fromJSON(t,b);p!==u&&(g=v),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new fr(u,t,a):(u=m[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new fr(u,t,a))}}function Py(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(K0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Q0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(J0(t))return"Blackberry";if($0(t))return"Webos";if(W0(t))return"Safari";if((t.includes("chrome/")||X0(t))&&!t.includes("edge/"))return"Chrome";if(Z0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Q0(s=St()){return/firefox\//i.test(s)}function W0(s=St()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function X0(s=St()){return/crios\//i.test(s)}function K0(s=St()){return/iemobile/i.test(s)}function Z0(s=St()){return/android/i.test(s)}function J0(s=St()){return/blackberry/i.test(s)}function $0(s=St()){return/webos/i.test(s)}function xh(s=St()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ww(s=St()){return xh(s)&&!!window.navigator?.standalone}function Aw(){return Nx()&&document.documentMode===10}function e1(s=St()){return xh(s)||Z0(s)||$0(s)||J0(s)||/windows phone/i.test(s)||K0(s)}function t1(s,t=[]){let i;switch(s){case"Browser":i=Py(St());break;case"Worker":i=`${Py(St())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${vs}/${a}`}class Rw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=u=>new Promise((d,g)=>{try{const m=t(u);d(m)}catch(m){g(m)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Nw(s,t={}){return Tr(s,"GET","/v2/passwordPolicy",bh(s,t))}const Ow=6;class Dw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Ow,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Mw{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vy(this),this.idTokenSubscription=new Vy(this),this.beforeStateQueue=new Rw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Gn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fr.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qo(this,{idToken:t}),a=await fn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(nn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(nn(this.app))return Promise.reject(os(this));const i=t?ot(t):null;return i&&$(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&$(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return nn(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Nw(this),i=new Dw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ga("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Cw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Gn(t)||this._popupRedirectResolver;$(i,this,"argument-error"),this.redirectPersistenceManager=await fr.create(this,[Gn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if($(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const m=t.addObserver(i,a,o);return()=>{d=!0,m()}}else{const m=t.addObserver(i);return()=>{d=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=t1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ow(`Error while retrieving App Check token: ${t.error}`),t?.token}}function cc(s){return ot(s)}class Vy{constructor(t){this.auth=t,this.observer=null,this.addObserver=Bx(i=>this.observer=i)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kw(s){Eh=s}function Iw(s){return Eh.loadJS(s)}function zw(){return Eh.gapiScript}function Uw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function Lw(s,t){const i=ec(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(fs(u,t??{}))return o;xn(o,"already-initialized")}return i.initialize({options:t})}function jw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Gn);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function Bw(s,t,i){const a=cc(s);$(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=n1(t),{host:d,port:g}=Hw(t),m=g===null?"":`:${g}`,p={url:`${u}//${d}${m}/`},b=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){$(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),$(fs(p,a.config.emulator)&&fs(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Ui(d)?(Nd(`${u}//${d}${m}`),Od("Auth",!0)):qw()}function n1(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Hw(s){const t=n1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Gy(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:Gy(d)}}}function Gy(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function qw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class i1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Vn("not implemented")}_getIdTokenResponse(t){return Vn("not implemented")}_linkToIdToken(t,i){return Vn("not implemented")}_getReauthenticationResolver(t){return Vn("not implemented")}}async function dr(s,t){return mw(s,"POST","/v1/accounts:signInWithIdp",bh(s,t))}const Pw="http://localhost";class _s extends i1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new _s(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):xn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...u}=i;if(!a||!o)return null;const d=new _s(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return dr(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,dr(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,dr(t,i)}buildRequest(){const t={requestUri:Pw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=br(i)}return t}}class Th{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Za extends Th{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class wi extends Za{constructor(){super("facebook.com")}static credential(t){return _s._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wi.credentialFromTaggedObject(t)}static credentialFromError(t){return wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wi.credential(t.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";class qn extends Za{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return _s._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return qn.credentialFromTaggedObject(t)}static credentialFromError(t){return qn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return qn.credential(i,a)}catch{return null}}}qn.GOOGLE_SIGN_IN_METHOD="google.com";qn.PROVIDER_ID="google.com";class Ai extends Za{constructor(){super("github.com")}static credential(t){return _s._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ai.credentialFromTaggedObject(t)}static credentialFromError(t){return Ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ai.credential(t.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";class Ri extends Za{constructor(){super("twitter.com")}static credential(t,i){return _s._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ri.credentialFromTaggedObject(t)}static credentialFromError(t){return Ri.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ri.credential(i,a)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";class yr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const u=await fn._fromIdTokenResponse(t,a,o),d=Yy(a);return new yr({user:u,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=Yy(a);return new yr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function Yy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Xo extends Zn{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xo.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Xo(t,i,a,o)}}function s1(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xo._fromErrorAndOperation(s,u,t,a):u})}async function Vw(s,t,i=!1){const a=await Va(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return yr._forOperation(s,"link",a)}async function Gw(s,t,i=!1){const{auth:a}=s;if(nn(a.app))return Promise.reject(os(a));const o="reauthenticate";try{const u=await Va(s,s1(a,o,t,s),i);$(u.idToken,a,"internal-error");const d=Sh(u.idToken);$(d,a,"internal-error");const{sub:g}=d;return $(s.uid===g,a,"user-mismatch"),yr._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&xn(a,"user-mismatch"),u}}async function Yw(s,t,i=!1){if(nn(s.app))return Promise.reject(os(s));const a="signIn",o=await s1(s,a,t),u=await yr._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(u.user),u}function Fw(s,t,i,a){return ot(s).onIdTokenChanged(t,i,a)}function Qw(s,t,i){return ot(s).beforeAuthStateChanged(t,i)}function Ww(s,t,i,a){return ot(s).onAuthStateChanged(t,i,a)}function Xw(s){return ot(s).signOut()}const Ko="__sak";class r1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ko,"1"),this.storage.removeItem(Ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kw=1e3,Zw=10;class a1 extends r1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,m)=>{this.notifyListeners(d,m)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);Aw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Zw):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}a1.type="LOCAL";const Jw=a1;class l1 extends r1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}l1.type="SESSION";const o1=l1;function $w(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class uc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new uc(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:u}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async p=>p(i.origin,u)),m=await $w(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uc.receivers=[];function Ch(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class eA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((g,m)=>{const p=Ch("",20);o.port1.start();const b=setTimeout(()=>{m(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(v){const S=v;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(S.data.response);break;default:clearTimeout(b),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Sn(){return window}function tA(s){Sn().location.href=s}function c1(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}async function nA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iA(){return navigator?.serviceWorker?.controller||null}function sA(){return c1()?self:null}const u1="firebaseLocalStorageDb",rA=1,Zo="firebaseLocalStorage",f1="fbase_key";class Ja{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fc(s,t){return s.transaction([Zo],t?"readwrite":"readonly").objectStore(Zo)}function aA(){const s=indexedDB.deleteDatabase(u1);return new Ja(s).toPromise()}function bd(){const s=indexedDB.open(u1,rA);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Zo,{keyPath:f1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Zo)?t(a):(a.close(),await aA(),t(await bd()))})})}async function Fy(s,t,i){const a=fc(s,!0).put({[f1]:t,value:i});return new Ja(a).toPromise()}async function lA(s,t){const i=fc(s,!1).get(t),a=await new Ja(i).toPromise();return a===void 0?null:a.value}function Qy(s,t){const i=fc(s,!0).delete(t);return new Ja(i).toPromise()}const oA=800,cA=3;class d1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>cA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uc._getInstance(sA()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nA(),!this.activeServiceWorker)return;this.sender=new eA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bd();return await Fy(t,Ko,"1"),await Qy(t,Ko),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Fy(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>lA(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qy(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=fc(o,!1).getAll();return new Ja(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d1.type="LOCAL";const uA=d1;new Ka(3e4,6e4);function h1(s,t){return t?Gn(t):($(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class wh extends i1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return dr(t,this._buildIdpRequest())}_linkToIdToken(t,i){return dr(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return dr(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fA(s){return Yw(s.auth,new wh(s),s.bypassAuthState)}function dA(s){const{auth:t,user:i}=s;return $(i,t,"internal-error"),Gw(i,new wh(s),s.bypassAuthState)}async function hA(s){const{auth:t,user:i}=s;return $(i,t,"internal-error"),Vw(i,new wh(s),s.bypassAuthState)}class p1{constructor(t,i,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fA;case"linkViaPopup":case"linkViaRedirect":return hA;case"reauthViaPopup":case"reauthViaRedirect":return dA;default:xn(this.auth,"internal-error")}}resolve(t){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pA=new Ka(2e3,1e4);async function gA(s,t,i){if(nn(s.app))return Promise.reject(hn(s,"operation-not-supported-in-this-environment"));const a=cc(s);cw(s,t,Th);const o=h1(a,i);return new ls(a,"signInViaPopup",t,o).executeNotNull()}class ls extends p1{constructor(t,i,a,o,u){super(t,i,o,u),this.provider=a,this.authWindow=null,this.pollId=null,ls.currentPopupAction&&ls.currentPopupAction.cancel(),ls.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return $(t,this.auth,"internal-error"),t}async onExecution(){Kn(this.filter.length===1,"Popup operations only handle one event");const t=Ch();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ls.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pA.get())};t()}}ls.currentPopupAction=null;const mA="pendingRedirect",wo=new Map;class _A extends p1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=wo.get(this.auth._key());if(!t){try{const a=await yA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}wo.set(this.auth._key(),t)}return this.bypassAuthState||wo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yA(s,t){const i=SA(t),a=bA(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function vA(s,t){wo.set(s._key(),t)}function bA(s){return Gn(s._redirectPersistence)}function SA(s){return Co(mA,s.config.apiKey,s.name)}async function xA(s,t,i=!1){if(nn(s.app))return Promise.reject(os(s));const a=cc(s),o=h1(a,t),d=await new _A(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const EA=600*1e3;class TA{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!CA(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!g1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(hn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wy(t))}saveEventToCache(t){this.cachedEventUids.add(Wy(t)),this.lastProcessedEventTime=Date.now()}}function Wy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function g1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function CA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g1(s);default:return!1}}async function wA(s,t={}){return Tr(s,"GET","/v1/projects",t)}const AA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RA=/^https?/;async function NA(s){if(s.config.emulator)return;const{authorizedDomains:t}=await wA(s);for(const i of t)try{if(OA(i))return}catch{}xn(s,"unauthorized-domain")}function OA(s){const t=yd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!RA.test(i))return!1;if(AA.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const DA=new Ka(3e4,6e4);function Xy(){const s=Sn().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function MA(s){return new Promise((t,i)=>{function a(){Xy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xy(),i(hn(s,"network-request-failed"))},timeout:DA.get()})}if(Sn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Sn().gapi?.load)a();else{const o=Uw("iframefcb");return Sn()[o]=()=>{gapi.load?a():i(hn(s,"network-request-failed"))},Iw(`${zw()}?onload=${o}`).catch(u=>i(u))}}).catch(t=>{throw Ao=null,t})}let Ao=null;function kA(s){return Ao=Ao||MA(s),Ao}const IA=new Ka(5e3,15e3),zA="__/auth/iframe",UA="emulator/auth/iframe",LA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BA(s){const t=s.config;$(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?vh(t,UA):`https://${s.config.authDomain}/${zA}`,a={apiKey:t.apiKey,appName:s.name,v:vs},o=jA.get(s.config.apiHost);o&&(a.eid=o);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${br(a).slice(1)}`}async function HA(s){const t=await kA(s),i=Sn().gapi;return $(i,s,"internal-error"),t.open({where:document.body,url:BA(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LA,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=hn(s,"network-request-failed"),g=Sn().setTimeout(()=>{u(d)},IA.get());function m(){Sn().clearTimeout(g),o(a)}a.ping(m).then(m,()=>{u(d)})}))}const qA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PA=500,VA=600,GA="_blank",YA="http://localhost";class Ky{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FA(s,t,i,a=PA,o=VA){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const m={...qA,width:a.toString(),height:o.toString(),top:u,left:d},p=St().toLowerCase();i&&(g=X0(p)?GA:i),Q0(p)&&(t=t||YA,m.scrollbars="yes");const b=Object.entries(m).reduce((S,[N,I])=>`${S}${N}=${I},`,"");if(ww(p)&&g!=="_self")return QA(t||"",g),new Ky(null);const v=window.open(t||"",g,b);$(v,s,"popup-blocked");try{v.focus()}catch{}return new Ky(v)}function QA(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const WA="__/auth/handler",XA="emulator/auth/handler",KA=encodeURIComponent("fac");async function Zy(s,t,i,a,o,u){$(s.config.authDomain,s,"auth-domain-config-required"),$(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:vs,eventId:o};if(t instanceof Th){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",ed(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,v]of Object.entries({}))d[b]=v}if(t instanceof Za){const b=t.getScopes().filter(v=>v!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const m=await s._getAppCheckToken(),p=m?`#${KA}=${encodeURIComponent(m)}`:"";return`${ZA(s)}?${br(g).slice(1)}${p}`}function ZA({config:s}){return s.emulator?vh(s,XA):`https://${s.authDomain}/${WA}`}const Kf="webStorageSupport";class JA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o1,this._completeRedirectFn=xA,this._overrideRedirectResult=vA}async _openPopup(t,i,a,o){Kn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Zy(t,i,a,yd(),o);return FA(t,u,Ch())}async _openRedirect(t,i,a,o){await this._originValidation(t);const u=await Zy(t,i,a,yd(),o);return tA(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Kn(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await HA(t),a=new TA(t);return i.register("authEvent",o=>($(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Kf,{type:Kf},o=>{const u=o?.[0]?.[Kf];u!==void 0&&i(!!u),xn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=NA(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return e1()||W0()||xh()}}const $A=JA;var Jy="@firebase/auth",$y="1.11.1";class eR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nR(s){ds(new ki("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;$(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t1(s)},p=new Mw(a,o,u,m);return jw(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ds(new ki("auth-internal",t=>{const i=cc(t.getProvider("auth").getImmediate());return(a=>new eR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(Jy,$y,tR(s)),bn(Jy,$y,"esm2020")}const iR=300,sR=mv("authIdTokenMaxAge")||iR;let ev=null;const rR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>sR)return;const o=i?.token;ev!==o&&(ev=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aR(s=zd()){const t=ec(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Lw(s,{popupRedirectResolver:$A,persistence:[uA,Jw,o1]}),a=mv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=rR(u.toString());Qw(i,d,()=>d(i.currentUser)),Fw(i,g=>d(g))}}const o=hv("auth");return o&&Bw(i,`http://${o}`),i}function lR(){return document.getElementsByTagName("head")?.[0]??document}kw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=o=>{const u=hn("internal-error");u.customData=o,i(u)},a.type="text/javascript",a.charset="UTF-8",lR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nR("Browser");const m1="firebasestorage.googleapis.com",_1="storageBucket",oR=120*1e3,cR=600*1e3;class Ve extends Zn{constructor(t,i,a=0){super(Zf(t),`Firebase Storage: ${i} (${Zf(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ve.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Zf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pe;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pe||(Pe={}));function Zf(s){return"storage/"+s}function Ah(){const s="An unknown error occurred, please check the error payload for server response.";return new Ve(Pe.UNKNOWN,s)}function uR(s){return new Ve(Pe.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function fR(s){return new Ve(Pe.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dR(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ve(Pe.UNAUTHENTICATED,s)}function hR(){return new Ve(Pe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pR(s){return new Ve(Pe.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function gR(){return new Ve(Pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mR(){return new Ve(Pe.CANCELED,"User canceled the upload/download.")}function _R(s){return new Ve(Pe.INVALID_URL,"Invalid URL '"+s+"'.")}function yR(s){return new Ve(Pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function vR(){return new Ve(Pe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_1+"' property when initializing the app?")}function bR(){return new Ve(Pe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function SR(){return new Ve(Pe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xR(s){return new Ve(Pe.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sd(s){return new Ve(Pe.INVALID_ARGUMENT,s)}function y1(){return new Ve(Pe.APP_DELETED,"The Firebase app was deleted.")}function ER(s){return new Ve(Pe.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ma(s,t){return new Ve(Pe.INVALID_FORMAT,"String does not match format '"+s+"': "+t)}function Ta(s){throw new Ve(Pe.INTERNAL_ERROR,"Internal error: "+s)}class Gt{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let a;try{a=Gt.makeFromUrl(t,i)}catch{return new Gt(t,"")}if(a.path==="")return a;throw yR(t)}static makeFromUrl(t,i){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const d="(/(.*))?$",g=new RegExp("^gs://"+o+d,"i"),m={bucket:1,path:3};function p(te){te.path_=decodeURIComponent(te.path)}const b="v[A-Za-z0-9_]+",v=i.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${v}/${b}/b/${o}/o${S}`,"i"),I={bucket:1,path:3},D=i===m1?"(?:storage.googleapis.com|storage.cloud.google.com)":i,L="([^?#]*)",P=new RegExp(`^https?://${D}/${o}/${L}`,"i"),se=[{regex:g,indices:m,postModify:u},{regex:N,indices:I,postModify:p},{regex:P,indices:{bucket:1,path:2},postModify:p}];for(let te=0;te<se.length;te++){const ct=se[te],Xe=ct.regex.exec(t);if(Xe){const ae=Xe[ct.indices.bucket];let Ke=Xe[ct.indices.path];Ke||(Ke=""),a=new Gt(ae,Ke),ct.postModify(a);break}}if(a==null)throw _R(t);return a}}class TR{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function CR(s,t,i){let a=1,o=null,u=null,d=!1,g=0;function m(){return g===2}let p=!1;function b(...L){p||(p=!0,t.apply(null,L))}function v(L){o=setTimeout(()=>{o=null,s(N,m())},L)}function S(){u&&clearTimeout(u)}function N(L,...P){if(p){S();return}if(L){S(),b.call(null,L,...P);return}if(m()||d){S(),b.call(null,L,...P);return}a<64&&(a*=2);let se;g===1?(g=2,se=0):se=(a+Math.random())*1e3,v(se)}let I=!1;function D(L){I||(I=!0,S(),!p&&(o!==null?(L||(g=2),clearTimeout(o),v(0)):L||(g=1)))}return v(0),u=setTimeout(()=>{d=!0,D(!0)},i),D}function wR(s){s(!1)}function AR(s){return s!==void 0}function RR(s){return typeof s=="object"&&!Array.isArray(s)}function Rh(s){return typeof s=="string"||s instanceof String}function tv(s){return Nh()&&s instanceof Blob}function Nh(){return typeof Blob<"u"}function nv(s,t,i,a){if(a<t)throw Sd(`Invalid value for '${s}'. Expected ${t} or greater.`);if(a>i)throw Sd(`Invalid value for '${s}'. Expected ${i} or less.`)}function Oh(s,t,i){let a=t;return i==null&&(a=`https://${t}`),`${i}://${a}/v0${s}`}function v1(s){const t=encodeURIComponent;let i="?";for(const a in s)if(s.hasOwnProperty(a)){const o=t(a)+"="+t(s[a]);i=i+o+"&"}return i=i.slice(0,-1),i}var cs;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(cs||(cs={}));function NR(s,t){const i=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return i||o||u}class OR{constructor(t,i,a,o,u,d,g,m,p,b,v,S=!0,N=!1){this.url_=t,this.method_=i,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=b,this.connectionFactory_=v,this.retry=S,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,D)=>{this.resolve_=I,this.reject_=D,this.start_()})}start_(){const t=(a,o)=>{if(o){a(!1,new So(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=g=>{const m=g.loaded,p=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const g=u.getErrorCode()===cs.NO_ERROR,m=u.getStatus();if(!g||NR(m,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===cs.ABORT;a(!1,new So(!1,null,b));return}const p=this.successCodes_.indexOf(m)!==-1;a(!0,new So(p,u))})},i=(a,o)=>{const u=this.resolve_,d=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(g,g.getResponse());AR(m)?u(m):u()}catch(m){d(m)}else if(g!==null){const m=Ah();m.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,m)):d(m)}else if(o.canceled){const m=this.appDelete_?y1():mR();d(m)}else{const m=gR();d(m)}};this.canceled_?i(!1,new So(!1,null,!0)):this.backoffId_=CR(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&wR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class So{constructor(t,i,a){this.wasSuccessCode=t,this.connection=i,this.canceled=!!a}}function DR(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function MR(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function kR(s,t){t&&(s["X-Firebase-GMPID"]=t)}function IR(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function zR(s,t,i,a,o,u,d=!0,g=!1){const m=v1(s.urlParams),p=s.url+m,b=Object.assign({},s.headers);return kR(b,t),DR(b,i),MR(b,u),IR(b,a),new OR(p,s.method,b,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,g)}function UR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LR(...s){const t=UR();if(t!==void 0){const i=new t;for(let a=0;a<s.length;a++)i.append(s[a]);return i.getBlob()}else{if(Nh())return new Blob(s);throw new Ve(Pe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jR(s,t,i){return s.webkitSlice?s.webkitSlice(t,i):s.mozSlice?s.mozSlice(t,i):s.slice?s.slice(t,i):null}function BR(s){if(typeof atob>"u")throw xR("base-64");return atob(s)}const vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jf{constructor(t,i){this.data=t,this.contentType=i||null}}function HR(s,t){switch(s){case vn.RAW:return new Jf(b1(t));case vn.BASE64:case vn.BASE64URL:return new Jf(S1(s,t));case vn.DATA_URL:return new Jf(PR(t),VR(t))}throw Ah()}function b1(s){const t=[];for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);if(a<=127)t.push(a);else if(a<=2047)t.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(i<s.length-1&&(s.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const u=a,d=s.charCodeAt(++i);a=65536|(u&1023)<<10|d&1023,t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?t.push(239,191,189):t.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(t)}function qR(s){let t;try{t=decodeURIComponent(s)}catch{throw Ma(vn.DATA_URL,"Malformed data URL.")}return b1(t)}function S1(s,t){switch(s){case vn.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw Ma(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case vn.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw Ma(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=BR(t)}catch(o){throw o.message.includes("polyfill")?o:Ma(s,"Invalid character found")}const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}class x1{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw Ma(vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=i[1]||null;a!=null&&(this.base64=GR(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=t.substring(t.indexOf(",")+1)}}function PR(s){const t=new x1(s);return t.base64?S1(vn.BASE64,t.rest):qR(t.rest)}function VR(s){return new x1(s).contentType}function GR(s,t){return s.length>=t.length?s.substring(s.length-t.length)===t:!1}class Ni{constructor(t,i){let a=0,o="";tv(t)?(this.data_=t,a=t.size,o=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),a=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),a=t.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,i){if(tv(this.data_)){const a=this.data_,o=jR(a,t,i);return o===null?null:new Ni(o)}else{const a=new Uint8Array(this.data_.buffer,t,i-t);return new Ni(a,!0)}}static getBlob(...t){if(Nh()){const i=t.map(a=>a instanceof Ni?a.data_:a);return new Ni(LR.apply(null,i))}else{const i=t.map(d=>Rh(d)?HR(vn.RAW,d).data:d.data_);let a=0;i.forEach(d=>{a+=d.byteLength});const o=new Uint8Array(a);let u=0;return i.forEach(d=>{for(let g=0;g<d.length;g++)o[u++]=d[g]}),new Ni(o,!0)}}uploadData(){return this.data_}}function E1(s){let t;try{t=JSON.parse(s)}catch{return null}return RR(t)?t:null}function YR(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function FR(s,t){const i=t.split("/").filter(a=>a.length>0).join("/");return s.length===0?i:s+"/"+i}function T1(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}function QR(s,t){return t}class bt{constructor(t,i,a,o){this.server=t,this.local=i||t,this.writable=!!a,this.xform=o||QR}}let xo=null;function WR(s){return!Rh(s)||s.length<2?s:T1(s)}function C1(){if(xo)return xo;const s=[];s.push(new bt("bucket")),s.push(new bt("generation")),s.push(new bt("metageneration")),s.push(new bt("name","fullPath",!0));function t(u,d){return WR(d)}const i=new bt("name");i.xform=t,s.push(i);function a(u,d){return d!==void 0?Number(d):d}const o=new bt("size");return o.xform=a,s.push(o),s.push(new bt("timeCreated")),s.push(new bt("updated")),s.push(new bt("md5Hash",null,!0)),s.push(new bt("cacheControl",null,!0)),s.push(new bt("contentDisposition",null,!0)),s.push(new bt("contentEncoding",null,!0)),s.push(new bt("contentLanguage",null,!0)),s.push(new bt("contentType",null,!0)),s.push(new bt("metadata","customMetadata",!0)),xo=s,xo}function XR(s,t){function i(){const a=s.bucket,o=s.fullPath,u=new Gt(a,o);return t._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:i})}function KR(s,t,i){const a={};a.type="file";const o=i.length;for(let u=0;u<o;u++){const d=i[u];a[d.local]=d.xform(a,t[d.server])}return XR(a,s),a}function w1(s,t,i){const a=E1(t);return a===null?null:KR(s,a,i)}function ZR(s,t,i,a){const o=E1(t);if(o===null||!Rh(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(p=>{const b=s.bucket,v=s.fullPath,S="/b/"+d(b)+"/o/"+d(v),N=Oh(S,i,a),I=v1({alt:"media",token:p});return N+I})[0]}function JR(s,t){const i={},a=t.length;for(let o=0;o<a;o++){const u=t[o];u.writable&&(i[u.server]=s[u.local])}return JSON.stringify(i)}class A1{constructor(t,i,a,o){this.url=t,this.method=i,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function R1(s){if(!s)throw Ah()}function $R(s,t){function i(a,o){const u=w1(s,o,t);return R1(u!==null),u}return i}function eN(s,t){function i(a,o){const u=w1(s,o,t);return R1(u!==null),ZR(u,o,s.host,s._protocol)}return i}function N1(s){function t(i,a){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=hR():o=dR():i.getStatus()===402?o=fR(s.bucket):i.getStatus()===403?o=pR(s.path):o=a,o.status=i.getStatus(),o.serverResponse=a.serverResponse,o}return t}function tN(s){const t=N1(s);function i(a,o){let u=t(a,o);return a.getStatus()===404&&(u=uR(s.path)),u.serverResponse=o.serverResponse,u}return i}function nN(s,t,i){const a=t.fullServerUrl(),o=Oh(a,s.host,s._protocol),u="GET",d=s.maxOperationRetryTime,g=new A1(o,u,eN(s,i),d);return g.errorHandler=tN(t),g}function iN(s,t){return s&&s.contentType||t&&t.type()||"application/octet-stream"}function sN(s,t,i){const a=Object.assign({},i);return a.fullPath=s.path,a.size=t.size(),a.contentType||(a.contentType=iN(null,t)),a}function rN(s,t,i,a,o){const u=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function g(){let se="";for(let te=0;te<2;te++)se=se+Math.random().toString().slice(2);return se}const m=g();d["Content-Type"]="multipart/related; boundary="+m;const p=sN(t,a,o),b=JR(p,i),v="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,S=`\r
--`+m+"--",N=Ni.getBlob(v,a,S);if(N===null)throw bR();const I={name:p.fullPath},D=Oh(u,s.host,s._protocol),L="POST",P=s.maxUploadRetryTime,Q=new A1(D,L,$R(s,i),P);return Q.urlParams=I,Q.headers=d,Q.body=N.uploadData(),Q.errorHandler=N1(t),Q}class aN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cs.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cs.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cs.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,a,o,u){if(this.sent_)throw Ta("cannot .send() more than once");if(Ui(t)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,t,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ta("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ta("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ta("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ta("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class lN extends aN{initXhr(){this.xhr_.responseType="text"}}function O1(){return new lN}class ys{constructor(t,i){this._service=t,i instanceof Gt?this._location=i:this._location=Gt.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new ys(t,i)}get root(){const t=new Gt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T1(this._location.path)}get storage(){return this._service}get parent(){const t=YR(this._location.path);if(t===null)return null;const i=new Gt(this._location.bucket,t);return new ys(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw ER(t)}}function oN(s,t,i){s._throwIfRoot("uploadBytes");const a=rN(s.storage,s._location,C1(),new Ni(t,!0),i);return s.storage.makeRequestWithTokens(a,O1).then(o=>({metadata:o,ref:s}))}function cN(s){s._throwIfRoot("getDownloadURL");const t=nN(s.storage,s._location,C1());return s.storage.makeRequestWithTokens(t,O1).then(i=>{if(i===null)throw SR();return i})}function uN(s,t){const i=FR(s._location.path,t),a=new Gt(s._location.bucket,i);return new ys(s.storage,a)}function fN(s){return/^[A-Za-z]+:\/\//.test(s)}function dN(s,t){return new ys(s,t)}function D1(s,t){if(s instanceof Dh){const i=s;if(i._bucket==null)throw vR();const a=new ys(i,i._bucket);return t!=null?D1(a,t):a}else return t!==void 0?uN(s,t):s}function hN(s,t){if(t&&fN(t)){if(s instanceof Dh)return dN(s,t);throw Sd("To use ref(service, url), the first argument must be a Storage instance.")}else return D1(s,t)}function iv(s,t){const i=t?.[_1];return i==null?null:Gt.makeFromBucketSpec(i,s)}function pN(s,t,i,a={}){s.host=`${t}:${i}`;const o=Ui(t);o&&(Nd(`https://${s.host}/b`),Od("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(s._overrideAuthToken=typeof u=="string"?u:_v(u,s.app.options.projectId))}class Dh{constructor(t,i,a,o,u,d=!1){this.app=t,this._authProvider=i,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=m1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oR,this._maxUploadRetryTime=cR,this._requests=new Set,o!=null?this._bucket=Gt.makeFromBucketSpec(o,this._host):this._bucket=iv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Gt.makeFromBucketSpec(this._url,t):this._bucket=iv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){nv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){nv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ys(this,t)}_makeRequest(t,i,a,o,u=!0){if(this._deleted)return new TR(y1());{const d=zR(t,this._appId,a,o,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,i){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,a,o).getPromise()}}const sv="@firebase/storage",rv="0.14.0";const M1="storage";function gN(s,t,i){return s=ot(s),oN(s,t,i)}function mN(s){return s=ot(s),cN(s)}function _N(s,t){return s=ot(s),hN(s,t)}function yN(s=zd(),t){s=ot(s);const a=ec(s,M1).getImmediate({identifier:t}),o=pv("storage");return o&&vN(a,...o),a}function vN(s,t,i,a={}){pN(s,t,i,a)}function bN(s,{instanceIdentifier:t}){const i=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Dh(i,a,o,t,vs)}function SN(){ds(new ki(M1,bN,"PUBLIC").setMultipleInstances(!0)),bn(sv,rv,""),bn(sv,rv,"esm2020")}SN();const xN={apiKey:"AIzaSyAEUUG_sZdzD2i_AptIpUs9S-vRr3GQ0WA",authDomain:"studysync-9f257.firebaseapp.com",projectId:"studysync-9f257",databaseURL:"https://studysync-9f257-default-rtdb.asia-southeast1.firebasedatabase.app/",storageBucket:"studysync-9f257.firebasestorage.app",messagingSenderId:"324809422879",appId:"1:324809422879:web:c1209a48a10e4c79323d2a",measurementId:"G-YTBKDMEMGE"},Mh=xv(xN),We=sw(Mh),$f=aR(Mh),EN=new qn,TN=yN(Mh);const CN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),av=s=>{const t=wN(s);return t.charAt(0).toUpperCase()+t.slice(1)},k1=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),AN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var RN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const NN=Z.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...g},m)=>Z.createElement("svg",{ref:m,...RN,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:k1("lucide",o),...!u&&!AN(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,b])=>Z.createElement(p,b)),...Array.isArray(u)?u:[u]]));const Le=(s,t)=>{const i=Z.forwardRef(({className:a,...o},u)=>Z.createElement(NN,{ref:u,iconNode:t,className:k1(`lucide-${CN(av(s))}`,`lucide-${s}`,a),...o}));return i.displayName=av(s),i};const ON=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],xd=Le("archive",ON);const DN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ed=Le("book-open",DN);const MN=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Td=Le("brain",MN);const kN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],IN=Le("chevron-right",kN);const zN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lv=Le("circle-check-big",zN);const UN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],LN=Le("circle-x",UN);const jN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],I1=Le("clock",jN);const BN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],HN=Le("download",BN);const qN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ka=Le("file-text",qN);const PN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],ov=Le("file",PN);const VN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],GN=Le("house",VN);const YN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],FN=Le("image",YN);const QN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],WN=Le("log-in",QN);const XN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],z1=Le("log-out",XN);const KN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Cd=Le("message-square",KN);const ZN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ro=Le("play",ZN);const JN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],us=Le("plus",JN);const $N=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eO=Le("refresh-cw",$N);const tO=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],nO=Le("rotate-cw",tO);const iO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sO=Le("save",iO);const rO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],aO=Le("send",rO);const lO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kh=Le("trash-2",lO);const oO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],cO=Le("trophy",oO);const uO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fO=Le("upload",uO);const dO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hO=Le("users",dO);function pO({onJoin:s,user:t}){const[i,a]=Z.useState({}),[o,u]=Z.useState(""),[d,g]=Z.useState(!1);Z.useEffect(()=>{const p=Qe(We,"rooms"),b=Fn(p,v=>{a(v.val()||{})});return()=>b()},[]);const m=async()=>{if(!o.trim())return;const p=Qe(We,"rooms"),b=_r(p);await yn(b,{name:o,createdBy:t?.displayName||"Anonymous",createdAt:Date.now(),members:0}),u(""),g(!1),s(b.key)};return _.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"40px 20px"},children:[_.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"16px",padding:"60px 40px",marginBottom:"48px",color:"white",boxShadow:"0 10px 40px rgba(102, 126, 234, 0.2)"},children:_.jsxs("div",{style:{maxWidth:"600px"},children:[_.jsx("h1",{style:{fontSize:"48px",fontWeight:"700",marginBottom:"16px",lineHeight:"1.2"},children:"Welcome to StudySync"}),_.jsx("p",{style:{fontSize:"20px",marginBottom:"32px",opacity:"0.95",lineHeight:"1.6"},children:"Create or join study rooms to collaborate with your peers, share notes, and learn together."}),_.jsxs("button",{onClick:()=>g(!0),style:{background:"white",color:"#667eea",padding:"14px 32px",borderRadius:"8px",border:"none",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",transition:"transform 0.2s, box-shadow 0.2s"},onMouseOver:p=>{p.currentTarget.style.transform="translateY(-2px)",p.currentTarget.style.boxShadow="0 8px 20px rgba(0,0,0,0.15)"},onMouseOut:p=>{p.currentTarget.style.transform="translateY(0)",p.currentTarget.style.boxShadow="none"},children:[_.jsx(us,{size:20}),_.jsx("span",{children:"Create Study Room"})]})]})}),d&&_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"32px",marginBottom:"32px",border:"1px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[_.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"20px",color:"#1f2937"},children:"Create New Study Room"}),_.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[_.jsx("input",{type:"text",value:o,onChange:p=>u(p.target.value),placeholder:"Enter room name (e.g., Computer Science 101)",onKeyPress:p=>p.key==="Enter"&&m(),autoFocus:!0,style:{flex:"1",minWidth:"300px",padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"15px",outline:"none",transition:"border-color 0.2s"},onFocus:p=>p.target.style.borderColor="#667eea",onBlur:p=>p.target.style.borderColor="#d1d5db"}),_.jsx("button",{onClick:m,disabled:!o.trim(),style:{padding:"12px 28px",background:"#667eea",color:"white",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:o.trim()?"pointer":"not-allowed",opacity:o.trim()?"1":"0.5",transition:"background 0.2s"},onMouseOver:p=>{o.trim()&&(p.currentTarget.style.background="#5568d3")},onMouseOut:p=>{p.currentTarget.style.background="#667eea"},children:"Create Room"}),_.jsx("button",{onClick:()=>{g(!1),u("")},style:{padding:"12px 28px",background:"#f3f4f6",color:"#4b5563",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"},onMouseOver:p=>p.currentTarget.style.background="#e5e7eb",onMouseOut:p=>p.currentTarget.style.background="#f3f4f6",children:"Cancel"})]})]}),_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[_.jsxs("div",{children:[_.jsx("h2",{style:{fontSize:"28px",fontWeight:"700",color:"#1f2937",marginBottom:"8px"},children:"Active Study Rooms"}),_.jsxs("p",{style:{color:"#6b7280",fontSize:"15px"},children:[Object.entries(i).length," room",Object.entries(i).length!==1?"s":""," available"]})]}),!d&&_.jsxs("button",{onClick:()=>g(!0),style:{padding:"10px 24px",background:"#667eea",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"6px",transition:"background 0.2s"},onMouseOver:p=>p.currentTarget.style.background="#5568d3",onMouseOut:p=>p.currentTarget.style.background="#667eea",children:[_.jsx(us,{size:18}),_.jsx("span",{children:"New Room"})]})]}),Object.entries(i).length===0?_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"80px 40px",textAlign:"center",border:"2px dashed #e5e7eb"},children:[_.jsx("div",{style:{width:"80px",height:"80px",background:"#f3f4f6",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",marginBottom:"24px"},children:_.jsx(Ed,{size:36,color:"#9ca3af"})}),_.jsx("h3",{style:{fontSize:"22px",fontWeight:"600",color:"#1f2937",marginBottom:"12px"},children:"No study rooms yet"}),_.jsx("p",{style:{color:"#6b7280",marginBottom:"28px",fontSize:"15px"},children:"Create the first study room and invite others to join"}),_.jsxs("button",{onClick:()=>g(!0),style:{padding:"12px 28px",background:"#667eea",color:"white",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",transition:"background 0.2s"},onMouseOver:p=>p.currentTarget.style.background="#5568d3",onMouseOut:p=>p.currentTarget.style.background="#667eea",children:[_.jsx(us,{size:20}),_.jsx("span",{children:"Create First Room"})]})]}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},children:Object.entries(i).map(([p,b])=>_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",border:"1px solid #e5e7eb",transition:"all 0.2s",cursor:"pointer"},onMouseOver:v=>{v.currentTarget.style.boxShadow="0 10px 25px rgba(0,0,0,0.08)",v.currentTarget.style.borderColor="#667eea",v.currentTarget.style.transform="translateY(-4px)"},onMouseOut:v=>{v.currentTarget.style.boxShadow="none",v.currentTarget.style.borderColor="#e5e7eb",v.currentTarget.style.transform="translateY(0)"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[_.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx(Ed,{size:24,color:"white"})}),_.jsxs("span",{style:{padding:"4px 12px",background:"#f3f4f6",color:"#6b7280",borderRadius:"20px",fontSize:"13px",fontWeight:"500",display:"inline-flex",alignItems:"center",gap:"4px"},children:[_.jsx(hO,{size:14}),b.members||0]})]}),_.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",marginBottom:"8px",lineHeight:"1.4"},children:b.name}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[_.jsx("div",{style:{width:"28px",height:"28px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"600"},children:b.createdBy?.charAt(0)?.toUpperCase()||"A"}),_.jsx("span",{style:{fontSize:"14px",color:"#6b7280"},children:b.createdBy})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"16px",borderTop:"1px solid #f3f4f6"},children:[_.jsxs("span",{style:{fontSize:"13px",color:"#9ca3af",display:"flex",alignItems:"center",gap:"4px"},children:[_.jsx(I1,{size:14}),new Date(b.createdAt).toLocaleDateString()]}),_.jsxs("button",{onClick:()=>s(p),style:{padding:"8px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"4px",transition:"background 0.2s"},onMouseOver:v=>{v.stopPropagation(),v.currentTarget.style.background="#5568d3"},onMouseOut:v=>{v.currentTarget.style.background="#667eea"},children:[_.jsx("span",{children:"Join"}),_.jsx(IN,{size:16})]})]})]},p))})]})]})}function gO({roomId:s,user:t}){const[i,a]=Z.useState({}),[o,u]=Z.useState(""),[d,g]=Z.useState(""),[m,p]=Z.useState({}),[b,v]=Z.useState(!1);Z.useEffect(()=>{const D=Qe(We,`rooms/${s}/flashcards`),L=Fn(D,P=>{a(P.val()||{})});return()=>L()},[s]);const S=async()=>{if(!o.trim()||!d.trim())return;const D=Qe(We,`rooms/${s}/flashcards`),L=_r(D);await yn(L,{question:o,answer:d,createdBy:t?.displayName||"Anonymous",createdAt:Date.now()}),u(""),g(""),v(!1)},N=async D=>{window.confirm("Delete this flashcard?")&&await gh(Qe(We,`rooms/${s}/flashcards/${D}`))},I=D=>{p({...m,[D]:!m[D]})};return _.jsxs("div",{style:{padding:"24px"},children:[_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"1px solid #e5e7eb"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:b?"24px":"0"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[_.jsx("div",{style:{width:"42px",height:"42px",background:"linear-gradient(135deg, #a78bfa 0%, #ec4899 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:_.jsx(Td,{size:22,color:"white"})}),_.jsxs("div",{children:[_.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",margin:0},children:"Flashcards"}),_.jsxs("p",{style:{fontSize:"14px",color:"#6b7280",margin:0},children:[Object.keys(i).length," card",Object.keys(i).length!==1?"s":""]})]})]}),_.jsxs("button",{onClick:()=>v(!b),style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"},onMouseOver:D=>D.currentTarget.style.background="#5568d3",onMouseOut:D=>D.currentTarget.style.background="#667eea",children:[_.jsx(us,{size:18}),_.jsx("span",{children:"Add Card"})]})]}),b&&_.jsxs("div",{style:{background:"#f9fafb",borderRadius:"8px",padding:"20px",border:"1px solid #e5e7eb"},children:[_.jsxs("div",{style:{marginBottom:"16px"},children:[_.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Question"}),_.jsx("input",{type:"text",value:o,onChange:D=>u(D.target.value),placeholder:"e.g., What is the capital of France?",style:{width:"100%",padding:"10px 14px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"15px",outline:"none",transition:"border-color 0.2s"},onFocus:D=>D.target.style.borderColor="#667eea",onBlur:D=>D.target.style.borderColor="#d1d5db"})]}),_.jsxs("div",{style:{marginBottom:"16px"},children:[_.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Answer"}),_.jsx("textarea",{value:d,onChange:D=>g(D.target.value),placeholder:"e.g., Paris",rows:3,style:{width:"100%",padding:"10px 14px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"15px",outline:"none",resize:"vertical",fontFamily:"inherit",transition:"border-color 0.2s"},onFocus:D=>D.target.style.borderColor="#667eea",onBlur:D=>D.target.style.borderColor="#d1d5db"})]}),_.jsxs("div",{style:{display:"flex",gap:"12px"},children:[_.jsxs("button",{onClick:S,disabled:!o.trim()||!d.trim(),style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:o.trim()&&d.trim()?"pointer":"not-allowed",opacity:o.trim()&&d.trim()?1:.5,transition:"background 0.2s"},onMouseOver:D=>{o.trim()&&d.trim()&&(D.currentTarget.style.background="#5568d3")},onMouseOut:D=>D.currentTarget.style.background="#667eea",children:[_.jsx(us,{size:16}),_.jsx("span",{children:"Add Flashcard"})]}),_.jsx("button",{onClick:()=>{v(!1),u(""),g("")},style:{padding:"10px 20px",background:"#e5e7eb",color:"#4b5563",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"},onMouseOver:D=>D.currentTarget.style.background="#d1d5db",onMouseOut:D=>D.currentTarget.style.background="#e5e7eb",children:"Cancel"})]})]})]}),Object.entries(i).length===0?_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"60px 40px",textAlign:"center",border:"2px dashed #e5e7eb"},children:[_.jsx("div",{style:{width:"64px",height:"64px",background:"#f3f4f6",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",marginBottom:"16px"},children:_.jsx(Td,{size:32,color:"#9ca3af"})}),_.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"No flashcards yet"}),_.jsx("p",{style:{color:"#6b7280",marginBottom:"20px",fontSize:"14px"},children:"Create your first flashcard to start studying!"}),_.jsxs("button",{onClick:()=>v(!0),style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"10px 24px",background:"#667eea",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"},onMouseOver:D=>D.currentTarget.style.background="#5568d3",onMouseOut:D=>D.currentTarget.style.background="#667eea",children:[_.jsx(us,{size:18}),_.jsx("span",{children:"Add Flashcard"})]})]}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:Object.entries(i).sort((D,L)=>(L[1].createdAt||0)-(D[1].createdAt||0)).map(([D,L])=>_.jsxs("div",{style:{position:"relative"},children:[_.jsxs("div",{onClick:()=>I(D),style:{background:m[D]?"linear-gradient(135deg, #a78bfa 0%, #ec4899 100%)":"white",borderRadius:"12px",padding:"24px",border:m[D]?"none":"1px solid #e5e7eb",cursor:"pointer",minHeight:"180px",display:"flex",flexDirection:"column",transition:"all 0.3s",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},onMouseOver:P=>{P.currentTarget.style.transform="translateY(-4px)",P.currentTarget.style.boxShadow="0 10px 25px rgba(0,0,0,0.1)"},onMouseOut:P=>{P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)"},children:[_.jsx("button",{onClick:P=>{P.stopPropagation(),N(D)},style:{position:"absolute",top:"12px",right:"12px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"6px",cursor:"pointer",opacity:0,transition:"opacity 0.2s, background 0.2s"},onMouseOver:P=>{P.currentTarget.style.background="#fecaca",P.currentTarget.style.opacity="1"},onMouseOut:P=>{P.currentTarget.style.background="#fee2e2"},children:_.jsx(kh,{size:16})}),_.jsx("div",{style:{position:"absolute",top:"12px",left:"12px",opacity:.4},children:_.jsx(nO,{size:16,color:m[D]?"white":"#9ca3af"})}),_.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",paddingTop:"12px"},children:m[D]?_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"rgba(255,255,255,0.8)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Answer"}),_.jsx("p",{style:{fontSize:"16px",color:"white",lineHeight:"1.5",margin:0},children:L.answer})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#a78bfa",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Question"}),_.jsx("p",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937",lineHeight:"1.5",margin:0},children:L.question})]})}),_.jsx("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:m[D]?"1px solid rgba(255,255,255,0.2)":"1px solid #f3f4f6"},children:_.jsxs("p",{style:{fontSize:"12px",color:m[D]?"rgba(255,255,255,0.8)":"#6b7280",margin:0},children:["By ",_.jsx("span",{style:{fontWeight:"500"},children:L.createdBy})]})})]}),_.jsx("style",{children:`
                    div:hover button[style*="opacity: 0"] {
                      opacity: 1 !important;
                    }
                  `})]},D))})]})}function mO({roomId:s,user:t}){const[i,a]=Z.useState(""),[o,u]=Z.useState(null),[d,g]=Z.useState(!1),[m,p]=Z.useState(!1);Z.useEffect(()=>{const S=Qe(We,`rooms/${s}/notes`),N=Fn(S,I=>{const D=I.val();D&&(a(D.content||""),u(D.lastSaved||null),p(!1))});return()=>N()},[s]);const b=async()=>{try{g(!0),await yn(Qe(We,`rooms/${s}/notes`),{content:i,lastSaved:Date.now(),lastEditedBy:t?.displayName||"Anonymous"}),p(!1)}catch(S){console.error("Failed to save notes:",S),alert("Failed to save notes. Please try again.")}finally{g(!1)}},v=S=>{a(S.target.value),p(!0)};return _.jsxs("div",{style:{padding:"24px"},children:[_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"1px solid #e5e7eb"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"12px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[_.jsx("div",{style:{width:"42px",height:"42px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:_.jsx(ka,{size:22,color:"white"})}),_.jsxs("div",{children:[_.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",margin:0},children:"Shared Notes"}),_.jsx("p",{style:{fontSize:"13px",color:"#6b7280",margin:0},children:o?`Last saved ${new Date(o).toLocaleString()}`:"Not saved yet"})]})]}),_.jsx("button",{onClick:b,disabled:!m||d,style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 20px",background:m&&!d?"#10b981":"#e5e7eb",color:m&&!d?"white":"#9ca3af",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:m&&!d?"pointer":"not-allowed",transition:"background 0.2s"},onMouseOver:S=>{m&&!d&&(S.currentTarget.style.background="#059669")},onMouseOut:S=>{m&&!d&&(S.currentTarget.style.background="#10b981")},children:d?_.jsxs(_.Fragment,{children:[_.jsx(eO,{size:16,style:{animation:"spin 1s linear infinite"}}),_.jsx("span",{children:"Saving..."})]}):_.jsxs(_.Fragment,{children:[_.jsx(sO,{size:16}),_.jsx("span",{children:"Save Notes"})]})})]}),_.jsxs("div",{style:{background:"#f0fdf4",borderRadius:"8px",padding:"16px",border:"1px solid #bbf7d0",marginBottom:"20px"},children:[_.jsx("h4",{style:{fontSize:"13px",fontWeight:"600",color:"#166534",marginBottom:"8px",margin:0},children:" Tips for effective note-taking:"}),_.jsxs("ul",{style:{fontSize:"13px",color:"#15803d",margin:"8px 0 0 0",paddingLeft:"20px",lineHeight:"1.6"},children:[_.jsx("li",{children:"Use headings with # for organization (e.g., # Main Topic)"}),_.jsx("li",{children:"Create bullet points with - or *"}),_.jsx("li",{children:"All changes are shared with everyone in the room"}),_.jsx("li",{children:"Remember to save your work frequently"})]})]}),_.jsxs("div",{style:{position:"relative"},children:[m&&_.jsx("div",{style:{position:"absolute",top:"-8px",right:"8px",padding:"4px 12px",background:"#fef3c7",color:"#92400e",fontSize:"12px",fontWeight:"500",borderRadius:"12px",border:"1px solid #fde68a"},children:"Unsaved changes"}),_.jsx("textarea",{value:i,onChange:v,rows:20,placeholder:`Start taking notes...\r
\r
You can use markdown syntax:\r
# Heading\r
## Subheading\r
- Bullet point\r
**bold text**\r
*italic text*`,style:{width:"100%",padding:"14px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",fontFamily:'Monaco, Consolas, "Courier New", monospace',resize:"vertical",outline:"none",lineHeight:"1.6",transition:"border-color 0.2s"},onFocus:S=>S.target.style.borderColor="#667eea",onBlur:S=>S.target.style.borderColor="#d1d5db"}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:[_.jsxs("span",{children:[i.length," characters"]}),_.jsx("span",{children:"Press Ctrl+S or Cmd+S to save quickly"})]})]})]}),_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",border:"1px solid #e5e7eb"},children:[_.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",marginBottom:"16px",margin:0},children:"Preview"}),_.jsx("div",{style:{fontSize:"14px",lineHeight:"1.8",color:"#374151",whiteSpace:"pre-wrap",marginTop:"16px"},children:i||_.jsx("span",{style:{color:"#9ca3af",fontStyle:"italic"},children:"Your notes will appear here..."})})]}),_.jsx("style",{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]})}function _O({roomId:s,user:t}){const[i,a]=Z.useState({}),[o,u]=Z.useState(""),d=Z.useRef(null),g=Z.useRef(null);Z.useEffect(()=>{const N=Qe(We,`rooms/${s}/discussions`),I=Fn(N,D=>{a(D.val()||{})});return()=>I()},[s]),Z.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[i]);const m=async()=>{if(!o.trim())return;const N=Qe(We,`rooms/${s}/discussions`),I=_r(N);await yn(I,{user:t?.displayName||"Anonymous",text:o.trim(),ts:Date.now()}),u(""),g.current?.focus()},p=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),m())},b=N=>{const I=new Date(N);return(new Date-I)/(1e3*60*60)<24?I.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):I.toLocaleDateString([],{month:"short",day:"numeric"})},v=N=>N.split(" ").map(I=>I.charAt(0)).join("").toUpperCase().slice(0,2),S=N=>{const I=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%)","linear-gradient(135deg, #10b981 0%, #059669 100%)","linear-gradient(135deg, #f97316 0%, #ef4444 100%)","linear-gradient(135deg, #ec4899 0%, #be185d 100%)","linear-gradient(135deg, #eab308 0%, #f97316 100%)"],D=N.split("").reduce((L,P)=>L+P.charCodeAt(0),0);return I[D%I.length]};return _.jsxs("div",{style:{padding:"24px"},children:[_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"1px solid #e5e7eb"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[_.jsx("div",{style:{width:"42px",height:"42px",background:"linear-gradient(135deg, #f97316 0%, #ef4444 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:_.jsx(Cd,{size:22,color:"white"})}),_.jsxs("div",{children:[_.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",margin:0},children:"Discussion Board"}),_.jsxs("p",{style:{fontSize:"13px",color:"#6b7280",margin:0},children:[Object.keys(i).length," message",Object.keys(i).length!==1?"s":""]})]})]}),_.jsxs("div",{style:{background:"#fff7ed",borderRadius:"8px",padding:"16px",border:"1px solid #fed7aa"},children:[_.jsx("h4",{style:{fontSize:"13px",fontWeight:"600",color:"#9a3412",marginBottom:"8px",margin:0},children:" Discussion Guidelines:"}),_.jsxs("ul",{style:{fontSize:"13px",color:"#c2410c",margin:"8px 0 0 0",paddingLeft:"20px",lineHeight:"1.6"},children:[_.jsx("li",{children:"Be respectful and constructive"}),_.jsx("li",{children:"Ask questions and share insights"}),_.jsx("li",{children:"Help others understand difficult concepts"})]})]})]}),_.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden"},children:[_.jsx("div",{style:{background:"#f9fafb",padding:"12px 20px",borderBottom:"1px solid #e5e7eb"},children:_.jsx("p",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",margin:0},children:"Live Discussion"})}),_.jsx("div",{style:{height:"500px",overflowY:"auto",padding:"20px"},children:Object.entries(i).length===0?_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},children:[_.jsx(Cd,{size:48,color:"#d1d5db",style:{marginBottom:"16px"}}),_.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"No messages yet"}),_.jsx("p",{style:{color:"#6b7280",fontSize:"14px"},children:"Start the conversation by sending the first message!"})]}):_.jsxs(_.Fragment,{children:[Object.entries(i).sort((N,I)=>N[1].ts-I[1].ts).map(([N,I])=>{const D=I.user===(t?.displayName||"Anonymous");return _.jsx("div",{style:{display:"flex",justifyContent:D?"flex-end":"flex-start",marginBottom:"16px"},children:_.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px",maxWidth:"70%",flexDirection:D?"row-reverse":"row"},children:[_.jsx("div",{style:{width:"36px",height:"36px",background:S(I.user),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"13px",fontWeight:"600",flexShrink:0},children:v(I.user)}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:D?"flex-end":"flex-start"},children:[_.jsxs("div",{style:{borderRadius:"12px",padding:"12px 16px",background:D?"#667eea":"#f3f4f6",color:D?"white":"#1f2937",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[!D&&_.jsx("p",{style:{fontSize:"12px",fontWeight:"600",marginBottom:"4px",opacity:.8,margin:"0 0 4px 0"},children:I.user}),_.jsx("p",{style:{fontSize:"14px",lineHeight:"1.5",whiteSpace:"pre-wrap",wordBreak:"break-word",margin:0},children:I.text})]}),_.jsx("span",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"4px",padding:"0 8px"},children:b(I.ts)})]})]})},N)}),_.jsx("div",{ref:d})]})}),_.jsxs("div",{style:{background:"#f9fafb",padding:"16px",borderTop:"1px solid #e5e7eb"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:"12px"},children:[_.jsx("div",{style:{flex:1},children:_.jsx("textarea",{ref:g,value:o,onChange:N=>u(N.target.value),onKeyPress:p,placeholder:"Type your message... (Press Enter to send)",rows:2,style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",resize:"none",fontFamily:"inherit",outline:"none",transition:"border-color 0.2s"},onFocus:N=>N.target.style.borderColor="#667eea",onBlur:N=>N.target.style.borderColor="#d1d5db"})}),_.jsxs("button",{onClick:m,disabled:!o.trim(),style:{display:"flex",alignItems:"center",gap:"6px",padding:"12px 24px",background:o.trim()?"#667eea":"#e5e7eb",color:o.trim()?"white":"#9ca3af",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:o.trim()?"pointer":"not-allowed",height:"56px",transition:"background 0.2s"},onMouseOver:N=>{o.trim()&&(N.currentTarget.style.background="#5568d3")},onMouseOut:N=>{o.trim()&&(N.currentTarget.style.background="#667eea")},children:[_.jsx(aO,{size:18}),_.jsx("span",{children:"Send"})]})]}),_.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"8px",margin:"8px 0 0 0"},children:["Press ",_.jsx("kbd",{style:{padding:"2px 6px",background:"#e5e7eb",borderRadius:"4px",fontSize:"11px",fontFamily:"monospace"},children:"Enter"})," to send, ",_.jsx("kbd",{style:{padding:"2px 6px",background:"#e5e7eb",borderRadius:"4px",fontSize:"11px",fontFamily:"monospace"},children:"Shift+Enter"})," for new line"]})]})]})]})}function yO({roomId:s,user:t}){const[i,a]=Z.useState(null),[o,u]=Z.useState({}),[d,g]=Z.useState({}),[m,p]=Z.useState(""),[b,v]=Z.useState(0),[S,N]=Z.useState(!1),[I,D]=Z.useState(!1),[L,P]=Z.useState(""),[Q,se]=Z.useState(""),te=Z.useRef(null);Z.useEffect(()=>{const q=Qe(We,`rooms/${s}/quiz`),me=Qe(We,`rooms/${s}/quizQuestions`),Se=Qe(We,`rooms/${s}/quizSubmissions`),sn=Fn(q,H=>{const X=H.val();a(X),X?.timeLeft&&v(X.timeLeft)}),kt=Fn(me,H=>u(H.val()||{})),k=Fn(Se,H=>g(H.val()||{}));return()=>{sn(),kt(),k(),te.current&&clearInterval(te.current)}},[s]),Z.useEffect(()=>(i?.currentQuestion&&b>0&&(te.current&&clearInterval(te.current),te.current=setInterval(()=>{v(q=>q<=1?(clearInterval(te.current),0):q-1)},1e3)),()=>{te.current&&clearInterval(te.current)}),[i?.currentQuestion,b]),Z.useEffect(()=>{if(i?.currentQuestion){const q=d[i.currentQuestion]||{},me=Object.values(q).some(Se=>Se.user===(t?.displayName||"Anonymous"));N(me)}else N(!1)},[i?.currentQuestion,d,t]);const ct=async(q,me=30)=>{await yn(Qe(We,`rooms/${s}/quiz`),{currentQuestion:q,timeLeft:me,startedAt:Date.now()}),p(""),N(!1)},Xe=async()=>{await yn(Qe(We,`rooms/${s}/quiz`),null),p("")},ae=async()=>{if(!i?.currentQuestion||!m.trim())return;const q=i.currentQuestion,me=Qe(We,`rooms/${s}/quizSubmissions/${q}`),Se=_r(me);await yn(Se,{user:t?.displayName||"Anonymous",answer:m.trim(),ts:Date.now()}),p(""),N(!0)},Ke=async()=>{if(!L.trim()||!Q.trim()){alert("Please fill in both question and answer");return}const q=Qe(We,`rooms/${s}/quizQuestions`),me=_r(q);await yn(me,{question:L.trim(),answer:Q.trim(),createdBy:t?.displayName||"Anonymous",createdAt:Date.now()}),P(""),se(""),D(!1)},Yt=async q=>{window.confirm("Delete this question?")&&await gh(Qe(We,`rooms/${s}/quizQuestions/${q}`))},$n=(q,me)=>q.toLowerCase().trim()===me.toLowerCase().trim();return _.jsxs("div",{style:{padding:"24px"},children:[_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"1px solid #e5e7eb"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:I?"24px":"0",flexWrap:"wrap",gap:"12px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[_.jsx("div",{style:{width:"42px",height:"42px",background:"linear-gradient(135deg, #eab308 0%, #f97316 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:_.jsx(Ro,{size:22,color:"white"})}),_.jsxs("div",{children:[_.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",margin:0},children:"Quiz Mode"}),_.jsxs("p",{style:{fontSize:"13px",color:"#6b7280",margin:0},children:[Object.keys(o).length," question",Object.keys(o).length!==1?"s":""," available"]})]})]}),_.jsxs("button",{onClick:()=>D(!I),style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 20px",background:"#eab308",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"},onMouseOver:q=>q.currentTarget.style.background="#ca8a04",onMouseOut:q=>q.currentTarget.style.background="#eab308",children:[_.jsx(us,{size:18}),_.jsx("span",{children:"Add Question"})]})]}),I&&_.jsxs("div",{style:{background:"#fefce8",borderRadius:"8px",padding:"20px",border:"1px solid #fde047"},children:[_.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#854d0e",marginBottom:"16px",margin:0},children:"Create New Question"}),_.jsxs("div",{style:{marginBottom:"16px"},children:[_.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Question"}),_.jsx("input",{type:"text",value:L,onChange:q=>P(q.target.value),placeholder:"e.g., What is the capital of France?",style:{width:"100%",padding:"10px 14px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:q=>q.target.style.borderColor="#eab308",onBlur:q=>q.target.style.borderColor="#d1d5db"})]}),_.jsxs("div",{style:{marginBottom:"16px"},children:[_.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Correct Answer"}),_.jsx("input",{type:"text",value:Q,onChange:q=>se(q.target.value),placeholder:"e.g., Paris",style:{width:"100%",padding:"10px 14px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:q=>q.target.style.borderColor="#eab308",onBlur:q=>q.target.style.borderColor="#d1d5db"})]}),_.jsxs("div",{style:{display:"flex",gap:"12px"},children:[_.jsx("button",{onClick:Ke,disabled:!L.trim()||!Q.trim(),style:{padding:"10px 20px",background:L.trim()&&Q.trim()?"#eab308":"#e5e7eb",color:L.trim()&&Q.trim()?"white":"#9ca3af",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:L.trim()&&Q.trim()?"pointer":"not-allowed",transition:"background 0.2s"},onMouseOver:q=>{L.trim()&&Q.trim()&&(q.currentTarget.style.background="#ca8a04")},onMouseOut:q=>{L.trim()&&Q.trim()&&(q.currentTarget.style.background="#eab308")},children:"Add Question"}),_.jsx("button",{onClick:()=>{D(!1),P(""),se("")},style:{padding:"10px 20px",background:"#e5e7eb",color:"#4b5563",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"},onMouseOver:q=>q.currentTarget.style.background="#d1d5db",onMouseOut:q=>q.currentTarget.style.background="#e5e7eb",children:"Cancel"})]})]})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth>=1024?"1fr 1fr":"1fr",gap:"24px"},children:[_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",border:"1px solid #e5e7eb"},children:[_.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",marginBottom:"16px",margin:0},children:"Question Bank"}),Object.entries(o).length===0?_.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[_.jsx(cO,{size:48,color:"#d1d5db",style:{margin:"0 auto 16px"}}),_.jsx("p",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"4px"},children:"No questions yet"}),_.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Add a question to get started!"})]}):_.jsx("div",{style:{marginTop:"16px"},children:Object.entries(o).map(([q,me])=>_.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",padding:"16px",background:"#f9fafb",borderRadius:"8px",marginBottom:"12px",gap:"12px",transition:"background 0.2s"},onMouseOver:Se=>Se.currentTarget.style.background="#f3f4f6",onMouseOut:Se=>Se.currentTarget.style.background="#f9fafb",children:[_.jsxs("div",{style:{flex:1,minWidth:0},children:[_.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937",marginBottom:"4px"},children:me.question}),_.jsxs("p",{style:{fontSize:"12px",color:"#6b7280"},children:["By ",me.createdBy||"Anonymous"]})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[_.jsxs("button",{onClick:()=>ct(q),disabled:i?.currentQuestion===q,style:{display:"flex",alignItems:"center",gap:"4px",padding:"8px 16px",background:i?.currentQuestion===q?"#e5e7eb":"#10b981",color:i?.currentQuestion===q?"#9ca3af":"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"600",cursor:i?.currentQuestion===q?"not-allowed":"pointer",transition:"background 0.2s"},onMouseOver:Se=>{i?.currentQuestion!==q&&(Se.currentTarget.style.background="#059669")},onMouseOut:Se=>{i?.currentQuestion!==q&&(Se.currentTarget.style.background="#10b981")},children:[_.jsx(Ro,{size:14}),_.jsx("span",{children:"Start"})]}),_.jsx("button",{onClick:()=>Yt(q),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"6px",cursor:"pointer",transition:"background 0.2s"},onMouseOver:Se=>Se.currentTarget.style.background="#fecaca",onMouseOut:Se=>Se.currentTarget.style.background="#fee2e2",children:_.jsx(kh,{size:16})})]})]},q))})]}),_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",border:"1px solid #e5e7eb"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[_.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:0},children:"Live Question"}),i?.currentQuestion&&_.jsx("button",{onClick:Xe,style:{padding:"6px 16px",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"},onMouseOver:q=>q.currentTarget.style.background="#fecaca",onMouseOut:q=>q.currentTarget.style.background="#fee2e2",children:"Stop"})]}),i?.currentQuestion?_.jsxs("div",{children:[_.jsx("div",{style:{background:b<=5?"#fee2e2":"#fefce8",borderRadius:"8px",padding:"16px",border:b<=5?"1px solid #fecaca":"1px solid #fde047",marginBottom:"16px"},children:_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx(I1,{size:20,color:b<=5?"#dc2626":"#ca8a04"}),_.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:b<=5?"#dc2626":"#854d0e"},children:"Time Remaining"})]}),_.jsxs("span",{style:{fontSize:"28px",fontWeight:"700",color:b<=5?"#dc2626":"#ca8a04"},children:[b,"s"]})]})}),_.jsx("div",{style:{background:"#f9fafb",borderRadius:"8px",padding:"20px",marginBottom:"16px"},children:_.jsx("p",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937",lineHeight:"1.6",margin:0},children:o[i.currentQuestion]?.question})}),S?_.jsx("div",{style:{background:"#d1fae5",borderRadius:"8px",padding:"16px",border:"1px solid #6ee7b7"},children:_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#065f46"},children:[_.jsx(lv,{size:20}),_.jsx("span",{style:{fontWeight:"600"},children:"Answer submitted!"})]})}):_.jsxs("div",{children:[_.jsx("input",{type:"text",value:m,onChange:q=>p(q.target.value),onKeyPress:q=>q.key==="Enter"&&ae(),placeholder:"Type your answer here...",disabled:b===0,style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",marginBottom:"12px",background:b===0?"#f3f4f6":"white",transition:"border-color 0.2s"},onFocus:q=>q.target.style.borderColor="#667eea",onBlur:q=>q.target.style.borderColor="#d1d5db"}),_.jsx("button",{onClick:ae,disabled:!m.trim()||b===0,style:{width:"100%",padding:"12px",background:m.trim()&&b>0?"#eab308":"#e5e7eb",color:m.trim()&&b>0?"white":"#9ca3af",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:m.trim()&&b>0?"pointer":"not-allowed",transition:"background 0.2s"},onMouseOver:q=>{m.trim()&&b>0&&(q.currentTarget.style.background="#ca8a04")},onMouseOut:q=>{m.trim()&&b>0&&(q.currentTarget.style.background="#eab308")},children:"Submit Answer"})]}),i.currentQuestion&&d[i.currentQuestion]&&_.jsxs("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #e5e7eb"},children:[_.jsxs("h5",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",marginBottom:"12px",margin:0},children:["Submissions (",Object.keys(d[i.currentQuestion]).length,")"]}),_.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",marginTop:"12px"},children:Object.entries(d[i.currentQuestion]).map(([q,me])=>{const Se=$n(me.answer,o[i.currentQuestion]?.answer);return _.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",borderRadius:"8px",fontSize:"13px",marginBottom:"8px",background:Se?"#d1fae5":"#f9fafb",border:Se?"1px solid #6ee7b7":"1px solid #e5e7eb"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[Se?_.jsx(lv,{size:16,color:"#059669"}):_.jsx(LN,{size:16,color:"#9ca3af"}),_.jsx("span",{style:{fontWeight:"500",color:"#1f2937"},children:me.user})]}),_.jsx("span",{style:{color:Se?"#065f46":"#6b7280"},children:me.answer})]},q)})})]})]}):_.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[_.jsx(Ro,{size:56,color:"#d1d5db",style:{margin:"0 auto 16px"}}),_.jsx("h5",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"No Active Question"}),_.jsx("p",{style:{color:"#6b7280",fontSize:"14px"},children:"Select a question from the bank to start the quiz"})]})]})]})]})}function vO({roomId:s,user:t}){const[i,a]=Z.useState({}),[o,u]=Z.useState(null),[d,g]=Z.useState(!1),[m,p]=Z.useState(!1);Z.useEffect(()=>{const L=Qe(We,`rooms/${s}/materials`),P=Fn(L,Q=>{a(Q.val()||{})});return()=>P()},[s]);const b=async()=>{if(!o)return alert("Please choose a file to upload.");try{g(!0);const L=`rooms/${s}/materials/${Date.now()}_${o.name}`,P=_N(TN,L);await gN(P,o);const Q=await mN(P),se=Qe(We,`rooms/${s}/materials`),te=_r(se);await yn(te,{fileName:o.name,fileUrl:Q,uploadedBy:t?.displayName||"Anonymous",uploadedAt:Date.now(),fileType:o.type,fileSize:o.size}),u(null),alert("File uploaded successfully!")}catch(L){console.error("Upload failed:",L),alert("Upload failed! Check console for details.")}finally{g(!1)}},v=async L=>{if(window.confirm("Delete this file?"))try{await gh(Qe(We,`rooms/${s}/materials/${L}`))}catch(P){console.error("Delete failed:",P),alert("Failed to delete file.")}},S=L=>{const{fileType:P,fileName:Q}=L;return P?P.startsWith("image/")?_.jsx(FN,{size:24,color:"#3b82f6"}):P.includes("pdf")?_.jsx(ka,{size:24,color:"#ef4444"}):P.includes("presentation")||Q.endsWith(".pptx")?_.jsx(ka,{size:24,color:"#f97316"}):P.includes("word")||Q.endsWith(".docx")?_.jsx(ka,{size:24,color:"#2563eb"}):_.jsx(ov,{size:24,color:"#9ca3af"}):_.jsx(ov,{size:24,color:"#9ca3af"})},N=L=>L<1024?L+" B":L<1048576?(L/1024).toFixed(1)+" KB":(L/1048576).toFixed(1)+" MB",I=L=>{L.preventDefault(),L.stopPropagation(),L.type==="dragenter"||L.type==="dragover"?p(!0):L.type==="dragleave"&&p(!1)},D=L=>{L.preventDefault(),L.stopPropagation(),p(!1),L.dataTransfer.files&&L.dataTransfer.files[0]&&u(L.dataTransfer.files[0])};return _.jsxs("div",{style:{padding:"24px"},children:[_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"1px solid #e5e7eb"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[_.jsx("div",{style:{width:"42px",height:"42px",background:"linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:_.jsx(xd,{size:22,color:"white"})}),_.jsxs("div",{children:[_.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",margin:0},children:"Reference Materials"}),_.jsxs("p",{style:{fontSize:"13px",color:"#6b7280",margin:0},children:[Object.keys(i).length," file",Object.keys(i).length!==1?"s":""," uploaded"]})]})]}),_.jsx("div",{onDragEnter:I,onDragLeave:I,onDragOver:I,onDrop:D,style:{border:m?"2px dashed #3b82f6":"2px dashed #d1d5db",borderRadius:"8px",padding:"32px",background:m?"#eff6ff":"#f9fafb",transition:"all 0.2s"},children:_.jsxs("div",{style:{textAlign:"center"},children:[_.jsx(fO,{size:40,color:"#9ca3af",style:{margin:"0 auto 16px"}}),o?_.jsxs("div",{style:{marginBottom:"16px"},children:[_.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937",marginBottom:"4px"},children:o.name}),_.jsx("p",{style:{fontSize:"12px",color:"#6b7280"},children:N(o.size)})]}):_.jsxs(_.Fragment,{children:[_.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"Drag and drop your file here, or click to browse"}),_.jsx("p",{style:{fontSize:"12px",color:"#9ca3af"},children:"Supported: PDF, DOC, DOCX, PPT, PPTX, JPG, PNG"})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginTop:"16px"},children:[_.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.ppt,.pptx,.jpg,.png,.jpeg",onChange:L=>u(L.target.files[0]),style:{display:"none"},id:"file-input"}),_.jsx("label",{htmlFor:"file-input",style:{padding:"10px 20px",background:"#e5e7eb",color:"#374151",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s",display:"inline-block"},onMouseOver:L=>L.currentTarget.style.background="#d1d5db",onMouseOut:L=>L.currentTarget.style.background="#e5e7eb",children:"Choose File"}),_.jsx("button",{onClick:b,disabled:!o||d,style:{padding:"10px 20px",background:o&&!d?"#3b82f6":"#e5e7eb",color:o&&!d?"white":"#9ca3af",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:o&&!d?"pointer":"not-allowed",transition:"background 0.2s"},onMouseOver:L=>{o&&!d&&(L.currentTarget.style.background="#2563eb")},onMouseOut:L=>{o&&!d&&(L.currentTarget.style.background="#3b82f6")},children:d?"Uploading...":"Upload File"})]})]})})]}),_.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",border:"1px solid #e5e7eb"},children:[_.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",marginBottom:"16px",margin:0},children:"Uploaded Files"}),Object.entries(i).length===0?_.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[_.jsx(xd,{size:48,color:"#d1d5db",style:{margin:"0 auto 16px"}}),_.jsx("p",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"4px"},children:"No files uploaded yet"}),_.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Upload your first reference material above"})]}):_.jsx("div",{style:{marginTop:"16px"},children:Object.entries(i).sort((L,P)=>P[1].uploadedAt-L[1].uploadedAt).map(([L,P])=>_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"#f9fafb",borderRadius:"8px",marginBottom:"12px",transition:"background 0.2s",gap:"12px"},onMouseOver:Q=>Q.currentTarget.style.background="#f3f4f6",onMouseOut:Q=>Q.currentTarget.style.background="#f9fafb",children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:0},children:[_.jsx("div",{style:{flexShrink:0},children:S(P)}),_.jsxs("div",{style:{flex:1,minWidth:0},children:[_.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937",margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:P.fileName}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px",fontSize:"12px",color:"#6b7280",flexWrap:"wrap"},children:[_.jsxs("span",{children:["By ",P.uploadedBy]}),_.jsx("span",{children:""}),_.jsx("span",{children:new Date(P.uploadedAt).toLocaleDateString()}),P.fileSize&&_.jsxs(_.Fragment,{children:[_.jsx("span",{children:""}),_.jsx("span",{children:N(P.fileSize)})]})]})]})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[_.jsxs("a",{href:P.fileUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",background:"#3b82f6",color:"white",textDecoration:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"600",transition:"background 0.2s"},onMouseOver:Q=>Q.currentTarget.style.background="#2563eb",onMouseOut:Q=>Q.currentTarget.style.background="#3b82f6",children:[_.jsx(HN,{size:14}),_.jsx("span",{children:"View"})]}),_.jsx("button",{onClick:()=>v(L),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"6px",cursor:"pointer",transition:"background 0.2s"},onMouseOver:Q=>Q.currentTarget.style.background="#fecaca",onMouseOut:Q=>Q.currentTarget.style.background="#fee2e2",children:_.jsx(kh,{size:16})})]})]},L))})]})]})}function bO({roomId:s,user:t,onLeave:i}){const[a,o]=Z.useState(null),[u,d]=Z.useState("flashcards");Z.useEffect(()=>{const m=Qe(We,`rooms/${s}`),p=Fn(m,b=>{o(b.val())});return()=>p()},[s]);const g=[{id:"flashcards",label:"Flashcards",icon:Td},{id:"notes",label:"Notes",icon:ka},{id:"materials",label:"Materials",icon:xd},{id:"discussion",label:"Discussion",icon:Cd},{id:"quiz",label:"Quiz",icon:Ro}];return _.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px 20px"},children:[_.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"20px 24px",marginBottom:"24px",border:"1px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:_.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",justifyContent:"space-between",alignItems:window.innerWidth<768?"flex-start":"center",gap:"16px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[_.jsx("button",{onClick:i,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,background:"#f3f4f6",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background 0.2s"},onMouseOver:m=>m.currentTarget.style.background="#e5e7eb",onMouseOut:m=>m.currentTarget.style.background="#f3f4f6",title:"Back to rooms",children:_.jsx(GN,{size:18,color:"#6b7280"})}),_.jsxs("div",{children:[_.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#1f2937",margin:0},children:a?.name||"Loading..."}),_.jsx("p",{style:{fontSize:"13px",color:"#6b7280",margin:"4px 0 0 0"},children:"Collaborative workspace"})]})]}),_.jsxs("button",{onClick:i,style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 20px",background:"#f3f4f6",color:"#4b5563",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"},onMouseOver:m=>m.currentTarget.style.background="#e5e7eb",onMouseOut:m=>m.currentTarget.style.background="#f3f4f6",children:[_.jsx(z1,{size:16}),_.jsx("span",{children:"Leave Room"})]})]})}),_.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"8px",marginBottom:"24px",border:"1px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",overflowX:"auto"},children:_.jsx("div",{style:{display:"flex",gap:"8px",minWidth:"fit-content"},children:g.map(m=>{const p=m.icon,b=u===m.id;return _.jsxs("button",{onClick:()=>d(m.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:b?"#667eea":"transparent",color:b?"white":"#6b7280",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap"},onMouseOver:v=>{b||(v.currentTarget.style.background="#f3f4f6")},onMouseOut:v=>{b||(v.currentTarget.style.background="transparent")},children:[_.jsx(p,{size:18}),_.jsx("span",{children:m.label})]},m.id)})})}),_.jsxs("div",{style:{minHeight:"400px"},children:[u==="flashcards"&&_.jsx(gO,{roomId:s,user:t}),u==="notes"&&_.jsx(mO,{roomId:s,user:t}),u==="materials"&&_.jsx(vO,{roomId:s,user:t}),u==="discussion"&&_.jsx(_O,{roomId:s,user:t}),u==="quiz"&&_.jsx(yO,{roomId:s,user:t})]})]})}function SO(){const[s,t]=Z.useState(null),[i,a]=Z.useState(null);Z.useEffect(()=>{const d=Ww($f,g=>{t(g?{displayName:g.displayName||"",email:g.email||"",uid:g.uid||""}:null)});return()=>d()},[]);const o=async()=>{try{await gA($f,EN)}catch(d){console.error(d)}},u=async()=>{await Xw($f),a(null)};return _.jsxs("div",{style:{minHeight:"100vh",background:"#f9fafb"},children:[_.jsx("header",{style:{background:"white",borderBottom:"1px solid #e5e7eb",position:"sticky",top:0,zIndex:50,boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:_.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"70px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[_.jsx("div",{style:{width:"42px",height:"42px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx(Ed,{size:24,color:"white"})}),_.jsxs("div",{children:[_.jsx("h1",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:0},children:"StudySync"}),_.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},children:"Collaborative Learning"})]})]}),_.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:s?_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 16px",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[_.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",fontWeight:"600"},children:s.displayName?.charAt(0)?.toUpperCase()||"U"}),_.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:s.displayName})]}),_.jsxs("button",{onClick:u,style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 20px",background:"white",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:[_.jsx(z1,{size:16}),_.jsx("span",{children:"Sign Out"})]})]}):_.jsxs("button",{onClick:o,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:"#667eea",color:"white",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer"},children:[_.jsx(WN,{size:18}),_.jsx("span",{children:"Sign in with Google"})]})})]})})}),_.jsx("main",{children:i?_.jsx(bO,{roomId:i,user:s,onLeave:()=>a(null)}):_.jsx(pO,{onJoin:d=>a(d),user:s})}),_.jsx("footer",{style:{background:"white",borderTop:"1px solid #e5e7eb",marginTop:"80px"},children:_.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"32px 20px"},children:_.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",justifyContent:"space-between",alignItems:"center",gap:"16px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#6b7280",fontSize:"14px"},children:[_.jsx("span",{style:{fontSize:"20px"},children:""}),_.jsx("span",{children:"Built for students, by students"})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px",fontSize:"14px",color:"#6b7280"},children:[_.jsx("a",{href:"#",style:{color:"#6b7280",textDecoration:"none"},children:"About"}),_.jsx("a",{href:"#",style:{color:"#6b7280",textDecoration:"none"},children:"Privacy"}),_.jsx("a",{href:"#",style:{color:"#6b7280",textDecoration:"none"},children:"Terms"}),_.jsx("a",{href:"#",style:{color:"#6b7280",textDecoration:"none"},children:"Contact"})]})]})})})]})}const U1=document.getElementById("root");if(!U1)throw new Error("Root element #root not found");gx.createRoot(U1).render(_.jsx(SO,{}));
